{"version":3,"file":"projects_connect_src_app_Pages_ConnectModules_connect-pages_settings-page_settings-page_module_ts.js","mappings":"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","sources":["./projects/connect/src/app/Pages/ConnectModules/connect-pages/settings-page/setting/setting.component.ts","./projects/connect/src/app/Pages/ConnectModules/connect-pages/settings-page/setting/setting.component.html","./projects/connect/src/app/Pages/ConnectModules/connect-pages/settings-page/settings-page-routing.module.ts","./projects/connect/src/app/Pages/ConnectModules/connect-pages/settings-page/settings-page.module.ts","./projects/connect/src/app/Services/EditProfile/edit-service.service.ts"],"sourcesContent":["/**\n * Copyright (c) 3ddx\n *\n * @summary edit profile component\n * @author Amr Mossad, Basel El-sawy, Rana AbdelAziz, Mahmoud Hamza\n *\n * Created at : 2021-12-23\n */\nimport { Component, OnInit } from '@angular/core';\nimport { EditProfil } from '../../../../../Models/Interfaces/EditProfile/EditProfile.model';\nimport { EditServiceService } from '../../../../../Services/EditProfile/edit-service.service';\nimport { ToastrService } from '../../../../../../../../../shared/shared-services/toastr.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ResponseCodeEnum } from '../../../../../../../../../shared/shared-enums/ResponseCodeEnum';\nimport { ServiceNameEnum } from '../../../../../../../../../shared/shared-enums/ServiceNameEnum';\nimport { ERequestTypes } from '../../../../../Models/Enums/RequestTypes/RequestTypes';\n\n@Component({\n  selector: 'app-setting',\n  templateUrl: './setting.component.html',\n  styleUrls: ['./setting.component.css']\n})\nexport class SettingComponent implements OnInit {\n  editFormOBJ!: EditProfil;\n  settingFormData: any;\n  /**\n   * The Requirements For The Construction Of The Component\n   * @param route For using activated route\n   * @param service for EditServiceService\n   * @param toastService To show request notifications\n   */\n  constructor(\n    private service: EditServiceService,\n    private toastService: ToastrService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) {\n\n  }\n  /**\n   * onInit get user data\n   * @return void\n   */\n  ngOnInit(): void {\n    this.getUserData();\n  }\n  /**\n   * get user data\n   * @return void\n   */\n  getUserData(): void {\n    this.route.data.subscribe(res => {\n      if (res.ChargedOrders.responsCode === ResponseCodeEnum.OK) {\n        this.settingFormData = res.ChargedOrders.data.VUsersCN[0];\n      }\n    });\n  }\n  /**\n   * onSubmit edit client data\n   * @param event edit form object\n   * @return void\n   */\n  onSubmit(event: any): void {\n    const expiration = new Date(event.year, event.month, 2);\n    this.editFormOBJ = {\n      userCNEmails: event.Emails,\n      userCNTelecoms: event.phones,\n      userCNAdresses: event.address,\n      ConditionsAnded: false,\n      city: event.city,\n      countryEnumId: event.countryEnumId,\n      fName: event.fName,\n      lName: event.lName,\n      columns: [],\n      isPortableVersion: event.portalVersion,\n      rcivMail: event.rcivMail,\n      serviceName: ServiceNameEnum.REGISTER_REQUEST,\n      stateEnumId: event.stateEnumId,\n      userCNEnumId: event.userType,\n      userCNId: event.userCNId,\n      zipCode: event.zipCode\n    };\n    if (event.creditCardNum || event.paymentType === 1000) {\n  this.editFormOBJ.userCNCreditCards = [{\n    creditCardEnumId: event.paymentType,\n    creditCard: event.creditCardNum ?? '',\n    creditCardTimeExp: expiration.getTime() ? expiration.getTime() / 1000 : 0\n  }];\n}\n    this.service.EditProfile({ services: [this.editFormOBJ], requestType: ERequestTypes.UPDATE }).subscribe(res => {\n      if (res.responsCode === ResponseCodeEnum.OK) {\n        localStorage.setItem('isPortableVersion', this.editFormOBJ.isPortableVersion.toString())\n        localStorage.setItem('lName', this.editFormOBJ.lName)\n        localStorage.setItem('fName', this.editFormOBJ.fName)\n        localStorage.setItem('type', this.editFormOBJ.userCNEnumId.toString())\n        this.toastService.updateAlert('Changed Successfully', 'Edit Profile', 'start');\n        this.router.navigate(['connect-modules', 'View-Orders-page']);\n      }\n    });\n  }\n}\n","<div style=\"margin-bottom: 120px; padding-bottom: 40px\" class=\"container\">\n  <div class=\"row\">\n    <div class=\"col-md-8 col-sm-12\">\n      <mat-card class=\"example-card mb-5\">\n        <mat-card-title>\n          Settings\n        </mat-card-title>\n        <mat-card-content>\n          <app-edit-profile (registerInOBJ)=\"onSubmit($event)\" [settingFormData]=\"settingFormData\"></app-edit-profile>\n        </mat-card-content>\n      </mat-card>\n    </div>\n    <div class=\"col-md-4 col-sm-12\">\n      <mat-card class=\"example-card\">\n        <app-suborder-prices [pricesSubOrder]=\"settingFormData\"></app-suborder-prices>\n      </mat-card>\n    </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport {SettingComponent} from './setting/setting.component';\nimport {ShippingLabelResolver} from '../../../../Resolvers/Shipping-Label/shipping-label.resolver';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingComponent,\n    resolve: {\n      ChargedOrders: ShippingLabelResolver\n    },\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SettingsPageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SettingsPageRoutingModule } from './settings-page-routing.module';\nimport { SettingComponent } from './setting/setting.component';\nimport {AngularMaterialModule} from '../../../../../../../../shared/shared-modules/angular-material.module';\nimport {SharedComponentsModule} from '../../../../../../../../shared/shared-components/shared-components.module';\n\n\n@NgModule({\n  declarations: [\n    SettingComponent\n  ],\n  imports: [\n    CommonModule,\n    SettingsPageRoutingModule,\n    AngularMaterialModule,\n    SharedComponentsModule\n  ]\n})\nexport class SettingsPageModule { }\n","/**\n * Copyright (c) 3ddx\n *\n * @summary edit profile service\n * @author Amr Mossad, Basel El-sawy, Mahmoud Hamza, Rana AbdelAziz\n *\n * Created at : 2021-12-13\n */\nimport { Injectable } from '@angular/core';\nimport { APIName } from 'shared/API/APIName';\nimport { IApiData } from '../../Models/Interfaces/APIs/apiData.model';\nimport { EditProfil } from '../../Models/Interfaces/EditProfile/EditProfile.model';\nimport { DataService } from '../DataService/data.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EditServiceService {\n  /**\n   * The Requirements For The Construction Of The service\n   * @param dataService for managing Http methods\n   */\n  constructor(private dataService: DataService) {\n  }\n\n  /**\n   * edit profile\n   * @param data edit profile object\n   */\n  EditProfile(data : IApiData<EditProfil>){\n    return this.dataService.post(APIName.editprofile, data)\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}
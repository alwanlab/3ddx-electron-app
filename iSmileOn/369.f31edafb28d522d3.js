var xt=Object.defineProperty,Et=(ue,L,ne)=>L in ue?xt(ue,L,{enumerable:!0,configurable:!0,writable:!0,value:ne}):ue[L]=ne,ze=(ue,L,ne)=>(Et(ue,"symbol"!=typeof L?L+"":L,ne),ne),Ke=(ue,L,ne)=>{if(!L.has(ue))throw TypeError("Cannot "+ne)},Ae=(ue,L,ne)=>(Ke(ue,L,"read from private field"),ne?ne.call(ue):L.get(ue)),ve=(ue,L,ne)=>{if(L.has(ue))throw TypeError("Cannot add the same private member more than once");L instanceof WeakSet?L.add(ue):L.set(ue,ne)},Te=(ue,L,ne,b)=>(Ke(ue,L,"write to private field"),b?b.call(ue,ne):L.set(ue,ne),ne),lt=(ue,L,ne,b)=>({set _(oe){Te(ue,L,oe,ne)},get _(){return Ae(ue,L,b)}}),ye=(ue,L,ne)=>(Ke(ue,L,"access private method"),ne);(self.webpackChunkismile_electron=self.webpackChunkismile_electron||[]).push([[369],{8552:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(7820).default,ne;ne=()=>(()=>{"use strict";var __webpack_modules__=[,(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.VerbosityLevel=L.Util=L.UnknownErrorException=L.UnexpectedResponseException=L.UNSUPPORTED_FEATURES=L.TextRenderingMode=L.StreamType=L.RenderingIntentFlag=L.PermissionFlag=L.PasswordResponses=L.PasswordException=L.PageActionEventType=L.OPS=L.MissingPDFException=L.InvalidPDFException=L.ImageKind=L.IDENTITY_MATRIX=L.FormatError=L.FontType=L.FeatureTest=L.FONT_IDENTITY_MATRIX=L.DocumentActionEventType=L.CMapCompressionType=L.BaseException=L.AnnotationType=L.AnnotationStateModelType=L.AnnotationReviewState=L.AnnotationReplyType=L.AnnotationMode=L.AnnotationMarkedState=L.AnnotationFlag=L.AnnotationFieldFlag=L.AnnotationBorderStyleType=L.AnnotationActionEventType=L.AbortException=void 0,L.arrayByteLength=U,L.arraysToBytes=function V(Z){const R=Z.length;if(1===R&&Z[0]instanceof Uint8Array)return Z[0];let O=0;for(let fe=0;fe<R;fe++)O+=U(Z[fe]);let ae=0;const le=new Uint8Array(O);for(let fe=0;fe<R;fe++){let ge=Z[fe];ge instanceof Uint8Array||(ge="string"==typeof ge?B(ge):new Uint8Array(ge));const Pe=ge.byteLength;le.set(ge,ae),ae+=Pe}return le},L.assert=function q(Z,R){Z||N(R)},L.bytesToString=function E(Z){("object"!=typeof Z||null===Z||void 0===Z.length)&&N("Invalid argument for bytesToString");const R=Z.length,O=8192;if(R<O)return String.fromCharCode.apply(null,Z);const ae=[];for(let le=0;le<R;le+=O){const fe=Math.min(le+O,R),ge=Z.subarray(le,fe);ae.push(String.fromCharCode.apply(null,ge))}return ae.join("")},L.createPromiseCapability=function Ee(){const Z=Object.create(null);let R=!1;return Object.defineProperty(Z,"settled",{get:()=>R}),Z.promise=new Promise(function(O,ae){Z.resolve=function(le){R=!0,O(le)},Z.reject=function(le){R=!0,ae(le)}}),Z},L.createValidAbsoluteUrl=function te(Z,R=null,O=null){if(!Z)return null;try{if(O&&"string"==typeof Z){if(O.addDefaultProtocol&&Z.startsWith("www.")){const le=Z.match(/\./g);le&&le.length>=2&&(Z=`http://${Z}`)}if(O.tryConvertEncoding)try{Z=he(Z)}catch{}}const ae=R?new URL(Z,R):new URL(Z);if(function K(Z){if(!Z)return!1;switch(Z.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ae))return ae}catch{}return null},L.escapeString=function G(Z){return Z.replace(/([()\\\n\r])/g,R=>"\n"===R?"\\n":"\r"===R?"\\r":`\\${R}`)},L.getModificationDate=function Ce(Z=new Date){return[Z.getUTCFullYear().toString(),(Z.getUTCMonth()+1).toString().padStart(2,"0"),Z.getUTCDate().toString().padStart(2,"0"),Z.getUTCHours().toString().padStart(2,"0"),Z.getUTCMinutes().toString().padStart(2,"0"),Z.getUTCSeconds().toString().padStart(2,"0")].join("")},L.getVerbosityLevel=function j(){return k},L.info=function z(Z){k>=m.INFOS&&console.log(`Info: ${Z}`)},L.isArrayBuffer=function _e(Z){return"object"==typeof Z&&null!==Z&&void 0!==Z.byteLength},L.isArrayEqual=function Se(Z,R){if(Z.length!==R.length)return!1;for(let O=0,ae=Z.length;O<ae;O++)if(Z[O]!==R[O])return!1;return!0},L.isAscii=function pe(Z){return/^[\x00-\x7F]*$/.test(Z)},L.objectFromMap=function ee(Z){const R=Object.create(null);for(const[O,ae]of Z)R[O]=ae;return R},L.objectSize=function X(Z){return Object.keys(Z).length},L.setVerbosityLevel=function I(Z){Number.isInteger(Z)&&(k=Z)},L.shadow=se,L.string32=function H(Z){return String.fromCharCode(Z>>24&255,Z>>16&255,Z>>8&255,255&Z)},L.stringToBytes=B,L.stringToPDFString=function D(Z){if(Z[0]>="\xef"){let O;if("\xfe"===Z[0]&&"\xff"===Z[1]?O="utf-16be":"\xff"===Z[0]&&"\xfe"===Z[1]?O="utf-16le":"\xef"===Z[0]&&"\xbb"===Z[1]&&"\xbf"===Z[2]&&(O="utf-8"),O)try{const ae=new TextDecoder(O,{fatal:!0}),le=B(Z);return ae.decode(le)}catch(ae){J(`stringToPDFString: "${ae}".`)}}const R=[];for(let O=0,ae=Z.length;O<ae;O++){const le=v[Z.charCodeAt(O)];R.push(le?String.fromCharCode(le):Z.charAt(O))}return R.join("")},L.stringToUTF16BEString=function de(Z){const R=["\xfe\xff"];for(let O=0,ae=Z.length;O<ae;O++){const le=Z.charCodeAt(O);R.push(String.fromCharCode(le>>8&255),String.fromCharCode(255&le))}return R.join("")},L.stringToUTF8String=he,L.unreachable=N,L.utf8StringToString=function me(Z){return unescape(encodeURIComponent(Z))},L.warn=J,ne(2),L.IDENTITY_MATRIX=[1,0,0,1,0,0],L.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],L.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},L.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},L.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},L.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},L.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},L.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},L.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},L.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},L.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},L.AnnotationReplyType={GROUP:"Group",REPLY:"R"},L.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},L.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},L.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},L.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},L.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},L.PageActionEventType={O:"PageOpen",C:"PageClose"},L.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},L.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const m={ERRORS:0,WARNINGS:1,INFOS:5};L.VerbosityLevel=m,L.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},L.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},L.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},L.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let k=m.WARNINGS;function J(Z){k>=m.WARNINGS&&console.log(`Warning: ${Z}`)}function N(Z){throw new Error(Z)}function se(Z,R,O){return Object.defineProperty(Z,R,{value:O,enumerable:!0,configurable:!0,writable:!1}),O}const T=function(){function R(O,ae){this.constructor===R&&N("Cannot initialize BaseException."),this.message=O,this.name=ae}return R.prototype=new Error,R.constructor=R,R}();function B(Z){"string"!=typeof Z&&N("Invalid argument for stringToBytes");const R=Z.length,O=new Uint8Array(R);for(let ae=0;ae<R;++ae)O[ae]=255&Z.charCodeAt(ae);return O}function U(Z){return void 0!==Z.length?Z.length:void 0!==Z.byteLength?Z.byteLength:void N("Invalid argument for arrayByteLength")}L.BaseException=T,L.PasswordException=class a extends T{constructor(R,O){super(R,"PasswordException"),this.code=O}},L.UnknownErrorException=class h extends T{constructor(R,O){super(R,"UnknownErrorException"),this.details=O}},L.InvalidPDFException=class e extends T{constructor(R){super(R,"InvalidPDFException")}},L.MissingPDFException=class l extends T{constructor(R){super(R,"MissingPDFException")}},L.UnexpectedResponseException=class p extends T{constructor(R,O){super(R,"UnexpectedResponseException"),this.status=O}},L.FormatError=class C extends T{constructor(R){super(R,"FormatError")}},L.AbortException=class S extends T{constructor(R){super(R,"AbortException")}},L.FeatureTest=class Q{static get isLittleEndian(){return se(this,"isLittleEndian",function ce(){const Z=new Uint8Array(4);return Z[0]=1,1===new Uint32Array(Z.buffer,0,1)[0]}())}static get isEvalSupported(){return se(this,"isEvalSupported",function be(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return se(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const re=[...Array(256).keys()].map(Z=>Z.toString(16).padStart(2,"0"));class ie{static makeHexColor(R,O,ae){return`#${re[R]}${re[O]}${re[ae]}`}static scaleMinMax(R,O){let ae;R[0]?(R[0]<0&&(ae=O[0],O[0]=O[1],O[1]=ae),O[0]*=R[0],O[1]*=R[0],R[3]<0&&(ae=O[2],O[2]=O[3],O[3]=ae),O[2]*=R[3],O[3]*=R[3]):(ae=O[0],O[0]=O[2],O[2]=ae,ae=O[1],O[1]=O[3],O[3]=ae,R[1]<0&&(ae=O[2],O[2]=O[3],O[3]=ae),O[2]*=R[1],O[3]*=R[1],R[2]<0&&(ae=O[0],O[0]=O[1],O[1]=ae),O[0]*=R[2],O[1]*=R[2]),O[0]+=R[4],O[1]+=R[4],O[2]+=R[5],O[3]+=R[5]}static transform(R,O){return[R[0]*O[0]+R[2]*O[1],R[1]*O[0]+R[3]*O[1],R[0]*O[2]+R[2]*O[3],R[1]*O[2]+R[3]*O[3],R[0]*O[4]+R[2]*O[5]+R[4],R[1]*O[4]+R[3]*O[5]+R[5]]}static applyTransform(R,O){return[R[0]*O[0]+R[1]*O[2]+O[4],R[0]*O[1]+R[1]*O[3]+O[5]]}static applyInverseTransform(R,O){const ae=O[0]*O[3]-O[1]*O[2];return[(R[0]*O[3]-R[1]*O[2]+O[2]*O[5]-O[4]*O[3])/ae,(-R[0]*O[1]+R[1]*O[0]+O[4]*O[1]-O[5]*O[0])/ae]}static getAxialAlignedBoundingBox(R,O){const ae=ie.applyTransform(R,O),le=ie.applyTransform(R.slice(2,4),O),fe=ie.applyTransform([R[0],R[3]],O),ge=ie.applyTransform([R[2],R[1]],O);return[Math.min(ae[0],le[0],fe[0],ge[0]),Math.min(ae[1],le[1],fe[1],ge[1]),Math.max(ae[0],le[0],fe[0],ge[0]),Math.max(ae[1],le[1],fe[1],ge[1])]}static inverseTransform(R){const O=R[0]*R[3]-R[1]*R[2];return[R[3]/O,-R[1]/O,-R[2]/O,R[0]/O,(R[2]*R[5]-R[4]*R[3])/O,(R[4]*R[1]-R[5]*R[0])/O]}static apply3dTransform(R,O){return[R[0]*O[0]+R[1]*O[1]+R[2]*O[2],R[3]*O[0]+R[4]*O[1]+R[5]*O[2],R[6]*O[0]+R[7]*O[1]+R[8]*O[2]]}static singularValueDecompose2dScale(R){const O=[R[0],R[2],R[1],R[3]],ae=R[0]*O[0]+R[1]*O[2],ge=R[2]*O[1]+R[3]*O[3],Pe=(ae+ge)/2,we=Math.sqrt((ae+ge)**2-4*(ae*ge-(R[2]*O[0]+R[3]*O[2])*(R[0]*O[1]+R[1]*O[3])))/2,xe=Pe-we||1;return[Math.sqrt(Pe+we||1),Math.sqrt(xe)]}static normalizeRect(R){const O=R.slice(0);return R[0]>R[2]&&(O[0]=R[2],O[2]=R[0]),R[1]>R[3]&&(O[1]=R[3],O[3]=R[1]),O}static intersect(R,O){const ae=Math.max(Math.min(R[0],R[2]),Math.min(O[0],O[2])),le=Math.min(Math.max(R[0],R[2]),Math.max(O[0],O[2]));if(ae>le)return null;const fe=Math.max(Math.min(R[1],R[3]),Math.min(O[1],O[3])),ge=Math.min(Math.max(R[1],R[3]),Math.max(O[1],O[3]));return fe>ge?null:[ae,fe,le,ge]}static bezierBoundingBox(R,O,ae,le,fe,ge,Pe,we){const Me=[],xe=[[],[]];let Re,ke,Be,Le,Oe,Fe,Ne,De;for(let Ye=0;Ye<2;++Ye)if(0===Ye?(ke=6*R-12*ae+6*fe,Re=-3*R+9*ae-9*fe+3*Pe,Be=3*ae-3*R):(ke=6*O-12*le+6*ge,Re=-3*O+9*le-9*ge+3*we,Be=3*le-3*O),Math.abs(Re)<1e-12){if(Math.abs(ke)<1e-12)continue;Le=-Be/ke,0<Le&&Le<1&&Me.push(Le)}else Ne=ke*ke-4*Be*Re,De=Math.sqrt(Ne),!(Ne<0)&&(Oe=(-ke+De)/(2*Re),0<Oe&&Oe<1&&Me.push(Oe),Fe=(-ke-De)/(2*Re),0<Fe&&Fe<1&&Me.push(Fe));let Ie,Ve=Me.length;const je=Ve;for(;Ve--;)Le=Me[Ve],Ie=1-Le,xe[0][Ve]=Ie*Ie*Ie*R+3*Ie*Ie*Le*ae+3*Ie*Le*Le*fe+Le*Le*Le*Pe,xe[1][Ve]=Ie*Ie*Ie*O+3*Ie*Ie*Le*le+3*Ie*Le*Le*ge+Le*Le*Le*we;return xe[0][je]=R,xe[1][je]=O,xe[0][je+1]=Pe,xe[1][je+1]=we,xe[0].length=xe[1].length=je+2,[Math.min(...xe[0]),Math.min(...xe[1]),Math.max(...xe[0]),Math.max(...xe[1])]}}L.Util=ie;const v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function he(Z){return decodeURIComponent(escape(Z))}},(ue,L,ne)=>{ne(3)},(ue,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.isNodeJS=void 0;const ne=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);L.isNodeJS=ne},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var ue,ne,b,oe,$,W,Y,F,Qe,P;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:f,NodeCMapReaderFactory:s,NodeStandardFontDataFactory:A}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=f,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=s,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=A}function setPDFNetworkStreamFactory(f){createPDFNetworkStream=f}function getDocument(f){const s=new PDFDocumentLoadingTask;let A;if("string"==typeof f||f instanceof URL)A={url:f};else if((0,_util.isArrayBuffer)(f))A={data:f};else if(f instanceof PDFDataRangeTransport)A={range:f};else{if("object"!=typeof f)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!f.url&&!f.data&&!f.range)throw new Error("Invalid parameter object: need either .data, .range or .url");A=f}const i=Object.create(null);let r=null,u=null;for(const _ in A){const g=A[_];switch(_){case"url":if(typeof window<"u")try{i[_]=new URL(g,window.location).href;continue}catch(t){(0,_util.warn)(`Cannot create valid URL: "${t}".`)}else if("string"==typeof g||g instanceof URL){i[_]=g.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":r=g;continue;case"worker":u=g;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&g instanceof Buffer)i[_]=new Uint8Array(g);else{if(g instanceof Uint8Array)break;if("string"==typeof g)i[_]=(0,_util.stringToBytes)(g);else if("object"!=typeof g||null===g||isNaN(g.length)){if(!(0,_util.isArrayBuffer)(g))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[_]=new Uint8Array(g)}else i[_]=new Uint8Array(g)}continue}i[_]=g}if(i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,(!Number.isInteger(i.rangeChunkSize)||i.rangeChunkSize<1)&&(i.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),(!Number.isInteger(i.maxImageSize)||i.maxImageSize<-1)&&(i.maxImageSize=-1),"string"!=typeof i.cMapUrl&&(i.cMapUrl=null),"string"!=typeof i.standardFontDataUrl&&(i.standardFontDataUrl=null),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),("object"!=typeof i.ownerDocument||null===i.ownerDocument)&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!u){const _={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};u=_.port?PDFWorker.fromPort(_):new PDFWorker(_),s._worker=u}const w=s.docId;return u.promise.then(function(){if(s.destroyed)throw new Error("Loading aborted");const _=_fetchDocument(u,i,r,w),g=new Promise(function(t){let n;r?n=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},r):i.data||(n=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),t(n)});return Promise.all([_,g]).then(function([t,n]){if(s.destroyed)throw new Error("Loading aborted");const m=new _message_handler.MessageHandler(w,t,u.port),o=new WorkerTransport(m,s,n,i);s._transport=o,m.send("Ready",null)})}).catch(s._capability.reject),s}function _fetchDocument(f,s,A,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(f,s,A,i){if(f.destroyed)throw new Error("Worker was destroyed");A&&(s.length=A.length,s.initialData=A.initialData,s.progressiveDone=A.progressiveDone,s.contentDispositionFilename=A.contentDispositionFilename);const r=yield f.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.14.305",source:{data:s.data,url:s.url,password:s.password,disableAutoFetch:s.disableAutoFetch,rangeChunkSize:s.rangeChunkSize,length:s.length},maxImageSize:s.maxImageSize,disableFontFace:s.disableFontFace,docBaseUrl:s.docBaseUrl,ignoreErrors:s.ignoreErrors,isEvalSupported:s.isEvalSupported,fontExtraProperties:s.fontExtraProperties,enableXfa:s.enableXfa,useSystemFonts:s.useSystemFonts,cMapUrl:s.useWorkerFetch?s.cMapUrl:null,standardFontDataUrl:s.useWorkerFetch?s.standardFontDataUrl:null});if(f.destroyed)throw new Error("Worker was destroyed");return r})).apply(this,arguments)}const L=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+lt(L,ue)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var s=this;return _asyncToGenerator(function*(){s.destroyed=!0,yield s._transport?.destroy(),s._transport=null,s._worker&&(s._worker.destroy(),s._worker=null)})()}};let PDFDocumentLoadingTask=L;ue=new WeakMap,ve(PDFDocumentLoadingTask,ue,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(s,A,i=!1,r=null){this.length=s,this.initialData=A,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(s){this._rangeListeners.push(s)}addProgressListener(s){this._progressListeners.push(s)}addProgressiveReadListener(s){this._progressiveReadListeners.push(s)}addProgressiveDoneListener(s){this._progressiveDoneListeners.push(s)}onDataRange(s,A){for(const i of this._rangeListeners)i(s,A)}onDataProgress(s,A){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(s,A)})}onDataProgressiveRead(s){this._readyCapability.promise.then(()=>{for(const A of this._progressiveReadListeners)A(s)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const s of this._progressiveDoneListeners)s()})}transportReady(){this._readyCapability.resolve()}requestDataRange(s,A){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(s,A){var r,i=this;this._pdfInfo=s,this._transport=A,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(r=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return r.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(s){return this._transport.getPage(s)}getPageIndex(s){return this._transport.getPageIndex(s)}getDestinations(){return this._transport.getDestinations()}getDestination(s){return this._transport.getDestination(s)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(s=!1){return this._transport.startCleanup(s||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(s,A,i,r,u=!1){this._pageIndex=s,this._pageInfo=A,this._ownerDocument=r,this._transport=i,this._stats=u?new _display_utils.StatTimer:null,this._pdfBug=u,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:s,rotation:A=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:u=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:s,rotation:A,offsetX:i,offsetY:r,dontFlip:u})}getAnnotations({intent:s="display"}={}){const A=this._transport.getRenderingIntent(s);let i=this._annotationPromises.get(A.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,A.renderingIntent),this._annotationPromises.set(A.cacheKey,i),i=i.then(r=>{for(const u of r)void 0!==u.titleObj&&Object.defineProperty(u,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),u.titleObj.str)}),void 0!==u.contentsObj&&Object.defineProperty(u,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),u.contentsObj.str)});return r})),i}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var s=this;return _asyncToGenerator(function*(){return s._transport._htmlForXfa?.children[s._pageIndex]||null})()}render({canvasContext:s,viewport:A,intent:i="display",annotationMode:r=_util.AnnotationMode.ENABLE,transform:u=null,imageLayer:w=null,canvasFactory:_=null,background:g=null,optionalContentConfigPromise:t=null,annotationCanvasMap:n=null,pageColors:m=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&r===_util.AnnotationMode.ENABLE&&(r=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&r===_util.AnnotationMode.ENABLE&&(r=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const o=this._transport.getRenderingIntent(i,r);this.pendingCleanup=!1,t||(t=this._transport.getOptionalContentConfig());let d=this._intentStates.get(o.cacheKey);d||(d=Object.create(null),this._intentStates.set(o.cacheKey,d)),d.streamReaderCancelTimeout&&(clearTimeout(d.streamReaderCancelTimeout),d.streamReaderCancelTimeout=null);const x=_||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),M=!!(o.renderingIntent&_util.RenderingIntentFlag.PRINT);d.displayReadyCapability||(d.displayReadyCapability=(0,_util.createPromiseCapability)(),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(o));const k=z=>{d.renderTasks.delete(I),(this.cleanupAfterRender||M)&&(this.pendingCleanup=!0),this._tryCleanup(),z?(I.capability.reject(z),this._abortOperatorList({intentState:d,reason:z instanceof Error?z:new Error(z)})):I.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},I=new InternalRenderTask({callback:k,params:{canvasContext:s,viewport:A,transform:u,imageLayer:w,background:g},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:n,operatorList:d.operatorList,pageIndex:this._pageIndex,canvasFactory:x,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:m});(d.renderTasks||(d.renderTasks=new Set)).add(I);const j=I.task;return Promise.all([d.displayReadyCapability.promise,t]).then(([z,J])=>{this.pendingCleanup?k():(this._stats&&this._stats.time("Rendering"),I.initializeGraphics({transparency:z,optionalContentConfig:J}),I.operatorListChanged())}).catch(k),j}getOperatorList({intent:s="display",annotationMode:A=_util.AnnotationMode.ENABLE}={}){const r=this._transport.getRenderingIntent(s,A,!0);let w,u=this._intentStates.get(r.cacheKey);return u||(u=Object.create(null),this._intentStates.set(r.cacheKey,u)),u.opListReadCapability||(w=Object.create(null),w.operatorListChanged=function i(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(w))},u.opListReadCapability=(0,_util.createPromiseCapability)(),(u.renderTasks||(u.renderTasks=new Set)).add(w),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(r)),u.opListReadCapability.promise}streamTextContent({disableCombineTextItems:s=!1,includeMarkedContent:A=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==s,includeMarkedContent:!0===A},{highWaterMark:100,size:r=>r.items.length})}getTextContent(s={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const A=this.streamTextContent(s);return new Promise(function(i,r){const w=A.getReader(),_={items:[],styles:Object.create(null)};!function u(){w.read().then(function({value:g,done:t}){t?i(_):(Object.assign(_.styles,g.styles),_.items.push(...g.items),u())},r)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const s=[];for(const A of this._intentStates.values())if(this._abortOperatorList({intentState:A,reason:new Error("Page was destroyed."),force:!0}),!A.opListReadCapability)for(const i of A.renderTasks)s.push(i.completed),i.cancel();this.objs.clear();for(const A of this._bitmaps)A.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(s)}cleanup(s=!1){return this.pendingCleanup=!0,this._tryCleanup(s)}_tryCleanup(s=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:A,operatorList:i}of this._intentStates.values())if(A.size>0||!i.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,s&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const A of this._bitmaps)A.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(s,A){const i=this._intentStates.get(A);!i||(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(s))}_renderPageChunk(s,A){for(let i=0,r=s.length;i<r;i++)A.operatorList.fnArray.push(s.fnArray[i]),A.operatorList.argsArray.push(s.argsArray[i]);A.operatorList.lastChunk=s.lastChunk;for(const i of A.renderTasks)i.operatorListChanged();s.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:s,cacheKey:A}){const r=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:s,cacheKey:A,annotationStorage:s&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),u=this._intentStates.get(A);u.streamReader=r;const w=()=>{r.read().then(({value:_,done:g})=>{g?u.streamReader=null:this._transport.destroyed||(this._renderPageChunk(_,u),w())},_=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();this._tryCleanup()}if(u.displayReadyCapability)u.displayReadyCapability.reject(_);else{if(!u.opListReadCapability)throw _;u.opListReadCapability.reject(_)}}})};w()}_abortOperatorList({intentState:s,reason:A,force:i=!1}){if(s.streamReader){if(!i){if(s.renderTasks.size>0)return;if(A instanceof _display_utils.RenderingCancelledException)return void(s.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:s,reason:A,force:!0}),s.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(s.streamReader.cancel(new _util.AbortException(A.message)).catch(()=>{}),s.streamReader=null,!this._transport.destroyed){for(const[r,u]of this._intentStates)if(u===s){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(s,A){const i={data:structuredClone(s,A)};this._deferred.then(()=>{for(const r of this._listeners)r.call(this,i)})}addEventListener(s,A){this._listeners.push(A)}removeEventListener(s,A){const i=this._listeners.indexOf(A);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const f=document?.currentScript?.src;f&&(PDFWorkerUtil.fallbackWorkerSrc=f.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(f,s){let A;try{if(A=new URL(f),!A.origin||"null"===A.origin)return!1}catch{return!1}const i=new URL(s,A);return A.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(f){return URL.createObjectURL(new Blob([`importScripts("${f}");`]))};const _PDFWorker=class{constructor({name:f=null,port:s=null,verbosity:A=(0,_util.getVerbosityLevel)()}={}){if(s&&Ae(_PDFWorker,ne).has(s))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=f,this.destroyed=!1,this.verbosity=A,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,s)return Ae(_PDFWorker,ne).set(s,this),void this._initializeFromPort(s);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(f){this._port=f,this._messageHandler=new _message_handler.MessageHandler("main","worker",f),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let f=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,f)||(f=PDFWorkerUtil.createCDNWrapper(new URL(f,window.location).href));const s=new Worker(f),A=new _message_handler.MessageHandler("main","worker",s),i=()=>{s.removeEventListener("error",r),A.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=()=>{this._webWorker||i()};s.addEventListener("error",r),A.on("test",w=>{s.removeEventListener("error",r),this.destroyed?i():w?(this._messageHandler=A,this._port=s,this._webWorker=s,this._readyCapability.resolve(),A.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),A.destroy(),s.terminate())}),A.on("ready",w=>{if(s.removeEventListener("error",r),this.destroyed)i();else try{u()}catch{this._setupFakeWorker()}});const u=()=>{const w=new Uint8Array;A.send("test",w,[w.buffer])};return void u()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(f=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const s=new LoopbackPort;this._port=s;const A="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(A+"_worker",A,s);f.setup(i,s);const r=new _message_handler.MessageHandler(A,A+"_worker",s);this._messageHandler=r,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})}).catch(f=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${f.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Ae(_PDFWorker,ne).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(f){if(!f?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Ae(this,ne).has(f.port)?Ae(this,ne).get(f.port):new _PDFWorker(f)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function f(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;ne=new WeakMap,ve(PDFWorker,ne,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(s,A,i,r){ve(this,b,null),ve(this,oe,new Map),ve(this,$,new Map),ve(this,W,null),this.messageHandler=s,this.loadingTask=A,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:A.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,r.useWorkerFetch||(this.CMapReaderFactory=new r.CMapReaderFactory({baseUrl:r.cMapUrl,isCompressed:r.cMapPacked}),this.StandardFontDataFactory=new r.StandardFontDataFactory({baseUrl:r.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Ae(this,b)}getRenderingIntent(s,A=_util.AnnotationMode.ENABLE,i=!1){let r=_util.RenderingIntentFlag.DISPLAY,u="";switch(s){case"any":r=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":r=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${s}`)}switch(A){case _util.AnnotationMode.DISABLE:r+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:r+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:r+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,u=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${A}`)}return i&&(r+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:r,cacheKey:`${r}_${u}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const s=[];for(const i of Ae(this,oe).values())s.push(i._destroy());Ae(this,oe).clear(),Ae(this,$).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const A=this.messageHandler.sendWithPromise("Terminate",null);return s.push(A),Promise.all(s).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Te(this,W,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:s,loadingTask:A}=this;s.on("GetReader",(i,r)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=u=>{this._lastProgress={loaded:u.loaded,total:u.total}},r.onPull=()=>{this._fullReader.read().then(function({value:u,done:w}){w?r.close():((0,_util.assert)((0,_util.isArrayBuffer)(u),"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(u),1,[u]))}).catch(u=>{r.error(u)})},r.onCancel=u=>{this._fullReader.cancel(u),r.ready.catch(w=>{if(!this.destroyed)throw w})}}),s.on("ReaderHeadersReady",i=>{const r=(0,_util.createPromiseCapability)(),u=this._fullReader;return u.headersReady.then(()=>{(!u.isStreamingSupported||!u.isRangeSupported)&&(this._lastProgress&&A.onProgress?.(this._lastProgress),u.onProgress=w=>{A.onProgress?.({loaded:w.loaded,total:w.total})}),r.resolve({isStreamingSupported:u.isStreamingSupported,isRangeSupported:u.isRangeSupported,contentLength:u.contentLength})},r.reject),r.promise}),s.on("GetRangeReader",(i,r)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const u=this._networkStream.getRangeReader(i.begin,i.end);u?(r.onPull=()=>{u.read().then(function({value:w,done:_}){_?r.close():((0,_util.assert)((0,_util.isArrayBuffer)(w),"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(w),1,[w]))}).catch(w=>{r.error(w)})},r.onCancel=w=>{u.cancel(w),r.ready.catch(_=>{if(!this.destroyed)throw _})}):r.close()}),s.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,A._capability.resolve(new PDFDocumentProxy(i,this))}),s.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":r=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":r=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":r=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":r=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}A._capability.reject(r)}),s.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),A.onPassword){const r=u=>{u instanceof Error?this._passwordCapability.reject(u):this._passwordCapability.resolve({password:u})};try{A.onPassword(r,i.code)}catch(u){this._passwordCapability.reject(u)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),s.on("DataLoaded",i=>{A.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),s.on("StartRenderPage",i=>{this.destroyed||Ae(this,oe).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),s.on("commonobj",([i,r,u])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(r){case"Font":const w=this._params;if("error"in u){const t=u.error;(0,_util.warn)(`Error during font loading: ${t}`),this.commonObjs.resolve(i,t);break}let _=null;w.pdfBug&&globalThis.FontInspector?.enabled&&(_={registerFont(t,n){globalThis.FontInspector.fontAdded(t,n)}});const g=new _font_loader.FontFaceObject(u,{isEvalSupported:w.isEvalSupported,disableFontFace:w.disableFontFace,ignoreErrors:w.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:_});this.fontLoader.bind(g).catch(t=>s.sendWithPromise("FontFallback",{id:i})).finally(()=>{!w.fontExtraProperties&&g.data&&(g.data=null),this.commonObjs.resolve(i,g)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,u);break;default:throw new Error(`Got unknown common object type ${r}`)}}),s.on("obj",([i,r,u,w])=>{if(this.destroyed)return;const _=Ae(this,oe).get(r);if(!_.objs.has(i))switch(u){case"Image":_.objs.resolve(i,w);const g=8e6;if(w){let t;if(w.bitmap){const{bitmap:n,width:m,height:o}=w;t=m*o*4,_._bitmaps.add(n)}else t=w.data?.length||0;t>g&&(_.cleanupAfterRender=!0)}break;case"Pattern":_.objs.resolve(i,w);break;default:throw new Error(`Got unknown object type ${u}`)}}),s.on("DocProgress",i=>{this.destroyed||A.onProgress?.({loaded:i.loaded,total:i.total})}),s.on("DocStats",i=>{this.destroyed||Te(this,b,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),s.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),s.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),s.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:s}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(s)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(s){if(!Number.isInteger(s)||s<=0||s>this._numPages)return Promise.reject(new Error("Invalid page request."));const A=s-1,i=Ae(this,$).get(A);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:A}).then(u=>{if(this.destroyed)throw new Error("Transport destroyed");const w=new PDFPageProxy(A,u,this,this._params.ownerDocument,this._params.pdfBug);return Ae(this,oe).set(A,w),w});return Ae(this,$).set(A,r),r}getPageIndex(s){return"object"!=typeof s||null===s||!Number.isInteger(s.num)||s.num<0||!Number.isInteger(s.gen)||s.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:s.num,gen:s.gen})}getAnnotations(s,A){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:s,intent:A})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(s){return"string"!=typeof s?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:s})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(s){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:s})}getStructTree(s){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:s})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(s=>new _optional_content_config.OptionalContentConfig(s))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Ae(this,W)||Te(this,W,this.messageHandler.sendWithPromise("GetMetadata",null).then(s=>({info:s[0],metadata:s[1]?new _metadata.Metadata(s[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(s=!1){var A=this;return _asyncToGenerator(function*(){if(yield A.messageHandler.sendWithPromise("Cleanup",null),!A.destroyed){for(const i of Ae(A,oe).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);A.commonObjs.clear(),s||A.fontLoader.clear(),Te(A,W,null),A._getFieldObjectsPromise=null,A._hasJSActionsPromise=null}})()}get loadingParams(){const s=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:s.disableAutoFetch,enableXfa:s.enableXfa})}}b=new WeakMap,oe=new WeakMap,$=new WeakMap,W=new WeakMap;class PDFObjects{constructor(){ve(this,F),ve(this,Y,Object.create(null))}get(s,A=null){if(A){const r=ye(this,F,Qe).call(this,s);return r.capability.promise.then(()=>A(r.data)),null}const i=Ae(this,Y)[s];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${s}.`);return i.data}has(s){return Ae(this,Y)[s]?.capability.settled||!1}resolve(s,A=null){const i=ye(this,F,Qe).call(this,s);i.data=A,i.capability.resolve()}clear(){Te(this,Y,Object.create(null))}}Y=new WeakMap,F=new WeakSet,Qe=function(s){return Ae(this,Y)[s]||(Ae(this,Y)[s]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(s){this._internalRenderTask=s,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const y=class{constructor({callback:s,params:A,objs:i,commonObjs:r,annotationCanvasMap:u,operatorList:w,pageIndex:_,canvasFactory:g,useRequestAnimationFrame:t=!1,pdfBug:n=!1,pageColors:m=null}){this.callback=s,this.params=A,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=u,this.operatorListIdx=null,this.operatorList=w,this._pageIndex=_,this.canvasFactory=g,this._pdfBug=n,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===t&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=A.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:s=!1,optionalContentConfig:A}){if(this.cancelled)return;if(this._canvas){if(Ae(y,P).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ae(y,P).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:u,imageLayer:w,background:_}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,w,A,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:u,viewport:r,transparency:s,background:_}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(s=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Ae(y,P).delete(this._canvas),this.callback(s||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var s=this;return _asyncToGenerator(function*(){s.cancelled||(s.operatorListIdx=s.gfx.executeOperatorList(s.operatorList,s.operatorListIdx,s._continueBound,s.stepper),s.operatorListIdx===s.operatorList.argsArray.length&&(s.running=!1,s.operatorList.lastChunk&&(s.gfx.endDrawing(),s._canvas&&Ae(y,P).delete(s._canvas),s.callback())))})()}};let InternalRenderTask=y;P=new WeakMap,ve(InternalRenderTask,P,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.StatTimer=L.RenderingCancelledException=L.PixelsPerInch=L.PageViewport=L.PDFDateString=L.DOMStandardFontDataFactory=L.DOMSVGFactory=L.DOMCanvasFactory=L.DOMCMapReaderFactory=void 0,L.deprecated=function n(M){console.log("Deprecated API usage: "+M)},L.getFilenameFromUrl=function u(M){const k=M.indexOf("#"),I=M.indexOf("?"),j=Math.min(k>0?k:M.length,I>0?I:M.length);return M.substring(M.lastIndexOf("/",j)+1,j)},L.getPdfFilenameFromUrl=function w(M,k="document.pdf"){if("string"!=typeof M)return k;if(i(M))return(0,oe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),k;const j=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,z=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(M);let J=j.exec(z[1])||j.exec(z[2])||j.exec(z[3]);if(J&&(J=J[0],J.includes("%")))try{J=j.exec(decodeURIComponent(J))[0]}catch{}return J||k},L.getXfaPageViewport=function d(M,{scale:k=1,rotation:I=0}){const{width:j,height:z}=M.attributes.style,J=[0,0,parseInt(j),parseInt(z)];return new s({viewBox:J,scale:k,rotation:I})},L.isDataScheme=i,L.isPdfFile=function r(M){return"string"==typeof M&&/\.pdf$/i.test(M)},L.isValidFetchUrl=g,L.loadScript=function t(M,k=!1){return new Promise((I,j)=>{const z=document.createElement("script");z.src=M,z.onload=function(J){k&&z.remove(),I(J)},z.onerror=function(){j(new Error(`Cannot load script at: ${z.src}`))},(document.head||document.documentElement).appendChild(z)})};var b=ne(6),oe=ne(1);const x=class{};let m,W=x;function F(M){return c.apply(this,arguments)}function c(){return(c=_asyncToGenerator(function*(M,k=!1){if(g(M,document.baseURI)){const I=yield fetch(M);if(!I.ok)throw new Error(I.statusText);return k?new Uint8Array(yield I.arrayBuffer()):(0,oe.stringToBytes)(yield I.text())}return new Promise((I,j)=>{const z=new XMLHttpRequest;z.open("GET",M,!0),k&&(z.responseType="arraybuffer"),z.onreadystatechange=()=>{if(z.readyState===XMLHttpRequest.DONE){if(200===z.status||0===z.status){let J;if(k&&z.response?J=new Uint8Array(z.response):!k&&z.responseText&&(J=(0,oe.stringToBytes)(z.responseText)),J)return void I(J)}j(new Error(z.statusText))}},z.send(null)})})).apply(this,arguments)}ze(W,"CSS",96),ze(W,"PDF",72),ze(W,"PDF_TO_CSS_UNITS",x.CSS/x.PDF),L.PixelsPerInch=W,L.DOMCanvasFactory=class Y extends b.BaseCanvasFactory{constructor({ownerDocument:k=globalThis.document}={}){super(),this._document=k}_createCanvas(k,I){const j=this._document.createElement("canvas");return j.width=k,j.height=I,j}},L.DOMCMapReaderFactory=class P extends b.BaseCMapReaderFactory{_fetchData(k,I){return F(k,this.isCompressed).then(j=>({cMapData:j,compressionType:I}))}},L.DOMStandardFontDataFactory=class y extends b.BaseStandardFontDataFactory{_fetchData(k){return F(k,!0)}},L.DOMSVGFactory=class f extends b.BaseSVGFactory{_createSVG(k){return document.createElementNS("http://www.w3.org/2000/svg",k)}};class s{constructor({viewBox:k,scale:I,rotation:j,offsetX:z=0,offsetY:J=0,dontFlip:N=!1}){this.viewBox=k,this.scale=I,this.rotation=j,this.offsetX=z,this.offsetY=J;const q=(k[2]+k[0])/2,K=(k[3]+k[1])/2;let te,se,T,a,h,e,l,p;switch((j%=360)<0&&(j+=360),j){case 180:te=-1,se=0,T=0,a=1;break;case 90:te=0,se=1,T=1,a=0;break;case 270:te=0,se=-1,T=-1,a=0;break;case 0:te=1,se=0,T=0,a=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}N&&(T=-T,a=-a),0===te?(h=Math.abs(K-k[1])*I+z,e=Math.abs(q-k[0])*I+J,l=Math.abs(k[3]-k[1])*I,p=Math.abs(k[2]-k[0])*I):(h=Math.abs(q-k[0])*I+z,e=Math.abs(K-k[1])*I+J,l=Math.abs(k[2]-k[0])*I,p=Math.abs(k[3]-k[1])*I),this.transform=[te*I,se*I,T*I,a*I,h-te*I*q-T*I*K,e-se*I*q-a*I*K],this.width=l,this.height=p}clone({scale:k=this.scale,rotation:I=this.rotation,offsetX:j=this.offsetX,offsetY:z=this.offsetY,dontFlip:J=!1}={}){return new s({viewBox:this.viewBox.slice(),scale:k,rotation:I,offsetX:j,offsetY:z,dontFlip:J})}convertToViewportPoint(k,I){return oe.Util.applyTransform([k,I],this.transform)}convertToViewportRectangle(k){const I=oe.Util.applyTransform([k[0],k[1]],this.transform),j=oe.Util.applyTransform([k[2],k[3]],this.transform);return[I[0],I[1],j[0],j[1]]}convertToPdfPoint(k,I){return oe.Util.applyInverseTransform([k,I],this.transform)}}function i(M){const k=M.length;let I=0;for(;I<k&&""===M[I].trim();)I++;return"data:"===M.substring(I,I+5).toLowerCase()}function g(M,k){try{const{protocol:I}=k?new URL(M,k):new URL(M);return"http:"===I||"https:"===I}catch{return!1}}L.PageViewport=s,L.RenderingCancelledException=class A extends oe.BaseException{constructor(k,I){super(k,"RenderingCancelledException"),this.type=I}},L.StatTimer=class _{constructor(){this.started=Object.create(null),this.times=[]}time(k){k in this.started&&(0,oe.warn)(`Timer is already running for ${k}`),this.started[k]=Date.now()}timeEnd(k){k in this.started||(0,oe.warn)(`Timer has not been started for ${k}`),this.times.push({name:k,start:this.started[k],end:Date.now()}),delete this.started[k]}toString(){const k=[];let I=0;for(const j of this.times){const z=j.name;z.length>I&&(I=z.length)}for(const j of this.times){const z=j.end-j.start;k.push(`${j.name.padEnd(I)} ${z}ms\n`)}return k.join("")}},L.PDFDateString=class o{static toDateObject(k){if(!k||"string"!=typeof k)return null;m||(m=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const I=m.exec(k);if(!I)return null;const j=parseInt(I[1],10);let z=parseInt(I[2],10);z=z>=1&&z<=12?z-1:0;let J=parseInt(I[3],10);J=J>=1&&J<=31?J:1;let N=parseInt(I[4],10);N=N>=0&&N<=23?N:0;let q=parseInt(I[5],10);q=q>=0&&q<=59?q:0;let K=parseInt(I[6],10);K=K>=0&&K<=59?K:0;const te=I[7]||"Z";let se=parseInt(I[8],10);se=se>=0&&se<=23?se:0;let T=parseInt(I[9],10)||0;return T=T>=0&&T<=59?T:0,"-"===te?(N+=se,q+=T):"+"===te&&(N-=se,q-=T),new Date(Date.UTC(j,z,J,N,q,K))}}},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.BaseStandardFontDataFactory=L.BaseSVGFactory=L.BaseCanvasFactory=L.BaseCMapReaderFactory=void 0;var b=ne(1);class oe{constructor(){this.constructor===oe&&(0,b.unreachable)("Cannot initialize BaseCanvasFactory.")}create(c,P){if(c<=0||P<=0)throw new Error("Invalid canvas size");const y=this._createCanvas(c,P);return{canvas:y,context:y.getContext("2d")}}reset(c,P,y){if(!c.canvas)throw new Error("Canvas is not specified");if(P<=0||y<=0)throw new Error("Invalid canvas size");c.canvas.width=P,c.canvas.height=y}destroy(c){if(!c.canvas)throw new Error("Canvas is not specified");c.canvas.width=0,c.canvas.height=0,c.canvas=null,c.context=null}_createCanvas(c,P){(0,b.unreachable)("Abstract method `_createCanvas` called.")}}L.BaseCanvasFactory=oe;class ${constructor({baseUrl:c=null,isCompressed:P=!1}){this.constructor===$&&(0,b.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=c,this.isCompressed=P}fetch({name:c}){var P=this;return _asyncToGenerator(function*(){if(!P.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!c)throw new Error("CMap name must be specified.");const y=P.baseUrl+c+(P.isCompressed?".bcmap":"");return P._fetchData(y,P.isCompressed?b.CMapCompressionType.BINARY:b.CMapCompressionType.NONE).catch(s=>{throw new Error(`Unable to load ${P.isCompressed?"binary ":""}CMap at: ${y}`)})})()}_fetchData(c,P){(0,b.unreachable)("Abstract method `_fetchData` called.")}}L.BaseCMapReaderFactory=$;class W{constructor({baseUrl:c=null}){this.constructor===W&&(0,b.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=c}fetch({filename:c}){var P=this;return _asyncToGenerator(function*(){if(!P.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!c)throw new Error("Font filename must be specified.");const y=`${P.baseUrl}${c}`;return P._fetchData(y).catch(f=>{throw new Error(`Unable to load font data at: ${y}`)})})()}_fetchData(c){(0,b.unreachable)("Abstract method `_fetchData` called.")}}L.BaseStandardFontDataFactory=W;class Y{constructor(){this.constructor===Y&&(0,b.unreachable)("Cannot initialize BaseSVGFactory.")}create(c,P){if(c<=0||P<=0)throw new Error("Invalid SVG dimensions");const y=this._createSVG("svg:svg");return y.setAttribute("version","1.1"),y.setAttribute("width",`${c}px`),y.setAttribute("height",`${P}px`),y.setAttribute("preserveAspectRatio","none"),y.setAttribute("viewBox",`0 0 ${c} ${P}`),y}createElement(c){if("string"!=typeof c)throw new Error("Invalid SVG element type");return this._createSVG(c)}_createSVG(c){(0,b.unreachable)("Abstract method `_createSVG` called.")}}L.BaseSVGFactory=Y},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.FontLoader=L.FontFaceObject=void 0;var b=ne(1);class oe{constructor({docId:F,onUnsupportedFeature:c,ownerDocument:P=globalThis.document,styleElement:y=null}){this.constructor===oe&&(0,b.unreachable)("Cannot initialize BaseFontLoader."),this.docId=F,this._onUnsupportedFeature=c,this._document=P,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(F){this.nativeFontFaces.push(F),this._document.fonts.add(F)}insertRule(F){let c=this.styleElement;c||(c=this.styleElement=this._document.createElement("style"),c.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(c));const P=c.sheet;P.insertRule(F,P.cssRules.length)}clear(){for(const F of this.nativeFontFaces)this._document.fonts.delete(F);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(F){var c=this;return _asyncToGenerator(function*(){if(F.attached||F.missingFile)return;if(F.attached=!0,c.isFontLoadingAPISupported){const y=F.createNativeFontFace();if(y){c.addNativeFontFace(y);try{yield y.loaded}catch(f){throw c._onUnsupportedFeature({featureId:b.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,b.warn)(`Failed to load font '${y.family}': '${f}'.`),F.disableFontFace=!0,f}}return}const P=F.createFontFaceRule();if(P){if(c.insertRule(P),c.isSyncFontLoadingSupported)return;yield new Promise(y=>{const f=c._queueLoadingCallback(y);c._prepareFontLoadEvent([P],[F],f)})}})()}_queueLoadingCallback(F){(0,b.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,b.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,b.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,b.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(F,c,P){(0,b.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let $;L.FontLoader=$,L.FontLoader=$=class extends oe{constructor(F){super(F),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let F=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(F=!0),(0,b.shadow)(this,"isSyncFontLoadingSupported",F)}_queueLoadingCallback(F){const P=this.loadingContext,y={id:"pdfjs-font-loading-"+P.nextRequestId++,done:!1,complete:function c(){for((0,b.assert)(!y.done,"completeRequest() cannot be called twice."),y.done=!0;P.requests.length>0&&P.requests[0].done;){const f=P.requests.shift();setTimeout(f.callback,0)}},callback:F};return P.requests.push(y),y}get _loadTestFont(){return(0,b.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(F,c,P){function y(I,j){return I.charCodeAt(j)<<24|I.charCodeAt(j+1)<<16|I.charCodeAt(j+2)<<8|255&I.charCodeAt(j+3)}function f(I,j,z,J){return I.substring(0,j)+J+I.substring(j+z)}let s,A;const i=this._document.createElement("canvas");i.width=1,i.height=1;const r=i.getContext("2d");let u=0;const _=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=f(g,976,_.length,_);const m=1482184792;let o=y(g,16);for(s=0,A=_.length-3;s<A;s+=4)o=o-m+y(_,s)|0;s<_.length&&(o=o-m+y(_+"XXX",s)|0),g=f(g,16,4,(0,b.string32)(o));const d=`url(data:font/opentype;base64,${btoa(g)});`;this.insertRule(`@font-face {font-family:"${_}";src:${d}}`);const M=[];for(const I of c)M.push(I.loadedName);M.push(_);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const I of M){const j=this._document.createElement("span");j.textContent="Hi",j.style.fontFamily=I,k.appendChild(j)}this._document.body.appendChild(k),function w(I,j){if(u++,u>30)return(0,b.warn)("Load test font never loaded."),void j();r.font="30px "+I,r.fillText(".",0,20),r.getImageData(0,0,1,1).data[3]>0?j():setTimeout(w.bind(null,I,j))}(_,()=>{k.remove(),P.complete()})}},L.FontFaceObject=class W{constructor(F,{isEvalSupported:c=!0,disableFontFace:P=!1,ignoreErrors:y=!1,onUnsupportedFeature:f,fontRegistry:s=null}){this.compiledGlyphs=Object.create(null);for(const A in F)this[A]=F[A];this.isEvalSupported=!1!==c,this.disableFontFace=!0===P,this.ignoreErrors=!0===y,this._onUnsupportedFeature=f,this.fontRegistry=s}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let F;if(this.cssFontInfo){const c={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(c.style=`oblique ${this.cssFontInfo.italicAngle}deg`),F=new FontFace(this.cssFontInfo.fontFamily,this.data,c)}else F=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),F}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const F=(0,b.bytesToString)(this.data),c=`url(data:${this.mimetype};base64,${btoa(F)});`;let P;if(this.cssFontInfo){let y=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(y+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),P=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${y}src:${c}}`}else P=`@font-face {font-family:"${this.loadedName}";src:${c}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,c),P}getPathGenerator(F,c){if(void 0!==this.compiledGlyphs[c])return this.compiledGlyphs[c];let P;try{P=F.get(this.loadedName+"_path_"+c)}catch(y){if(!this.ignoreErrors)throw y;return this._onUnsupportedFeature({featureId:b.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,b.warn)(`getPathGenerator - ignoring character: "${y}".`),this.compiledGlyphs[c]=function(f,s){}}if(this.isEvalSupported&&b.FeatureTest.isEvalSupported){const y=[];for(const f of P){const s=void 0!==f.args?f.args.join(","):"";y.push("c.",f.cmd,"(",s,");\n")}return this.compiledGlyphs[c]=new Function("c","size",y.join(""))}return this.compiledGlyphs[c]=function(y,f){for(const s of P)"scale"===s.cmd&&(s.args=[f,-f]),y[s.cmd].apply(y,s.args)}}}},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.AnnotationStorage=void 0;var b=ne(9),oe=ne(1);L.AnnotationStorage=class ${constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(Y,F){const c=this._storage.get(Y);return void 0===c?F:Object.assign(F,c)}getRawValue(Y){return this._storage.get(Y)}setValue(Y,F){const c=this._storage.get(Y);let P=!1;if(void 0!==c)for(const[y,f]of Object.entries(F))c[y]!==f&&(P=!0,c[y]=f);else P=!0,this._storage.set(Y,F);P&&this._setModified()}getAll(){return this._storage.size>0?(0,oe.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const Y=new b.MurmurHash3_64;for(const[F,c]of this._storage)Y.update(`${F}:${JSON.stringify(c)}`);return Y.hexdigest()}}},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.MurmurHash3_64=void 0;var b=ne(1);const oe=3285377520,$=4294901760,W=65535;L.MurmurHash3_64=class Y{constructor(c){this.h1=c?4294967295&c:oe,this.h2=c?4294967295&c:oe}update(c){let P,y;if("string"==typeof c){P=new Uint8Array(2*c.length),y=0;for(let m=0,o=c.length;m<o;m++){const d=c.charCodeAt(m);d<=255?P[y++]=d:(P[y++]=d>>>8,P[y++]=255&d)}}else{if(!(0,b.isArrayBuffer)(c))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");P=c.slice(),y=P.byteLength}const f=y>>2,s=y-4*f,A=new Uint32Array(P.buffer,0,f);let i=0,r=0,u=this.h1,w=this.h2;const _=3432918353,g=461845907,t=_&W,n=g&W;for(let m=0;m<f;m++)1&m?(i=A[m],i=i*_&$|i*t&W,i=i<<15|i>>>17,i=i*g&$|i*n&W,u^=i,u=u<<13|u>>>19,u=5*u+3864292196):(r=A[m],r=r*_&$|r*t&W,r=r<<15|r>>>17,r=r*g&$|r*n&W,w^=r,w=w<<13|w>>>19,w=5*w+3864292196);switch(i=0,s){case 3:i^=P[4*f+2]<<16;case 2:i^=P[4*f+1]<<8;case 1:i^=P[4*f],i=i*_&$|i*t&W,i=i<<15|i>>>17,i=i*g&$|i*n&W,1&f?u^=i:w^=i}this.h1=u,this.h2=w}hexdigest(){let c=this.h1,P=this.h2;c^=P>>>1,c=3981806797*c&$|36045*c&W,P=4283543511*P&$|(2950163797*(P<<16|c>>>16)&$)>>>16,c^=P>>>1,c=444984403*c&$|60499*c&W,P=3301882366*P&$|(3120437893*(P<<16|c>>>16)&$)>>>16,c^=P>>>1;const y=(c>>>0).toString(16),f=(P>>>0).toString(16);return y.padStart(8,"0")+f.padStart(8,"0")}}},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.CanvasGraphics=void 0;var b=ne(1),oe=ne(11),$=ne(12),W=ne(3),Y=ne(5);const P=4096,i=16;function w(T){if(T._transformStack&&(T._transformStack=[]),!T.mozCurrentTransform){T._originalSave=T.save,T._originalRestore=T.restore,T._originalRotate=T.rotate,T._originalScale=T.scale,T._originalTranslate=T.translate,T._originalTransform=T.transform,T._originalSetTransform=T.setTransform,T._originalResetTransform=T.resetTransform,T._transformMatrix=T._transformMatrix||[1,0,0,1,0,0],T._transformStack=[];try{const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(T),"lineWidth");T._setLineWidth=a.set,T._getLineWidth=a.get,Object.defineProperty(T,"lineWidth",{set:function(e){this._setLineWidth(1.000001*e)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(T,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(T,"mozCurrentTransformInverse",{get:function(){const[h,e,l,p,C,S]=this._transformMatrix,E=h*p-e*l,B=e*l-h*p;return[p/E,e/B,l/B,h/E,(p*C-l*S)/B,(e*C-h*S)/E]}}),T.save=function(){const h=this._transformMatrix;this._transformStack.push(h),this._transformMatrix=h.slice(0,6),this._originalSave()},T.restore=function(){0===this._transformStack.length&&(0,b.warn)("Tried to restore a ctx when the stack was already empty.");const h=this._transformStack.pop();h&&(this._transformMatrix=h,this._originalRestore())},T.translate=function(h,e){const l=this._transformMatrix;l[4]=l[0]*h+l[2]*e+l[4],l[5]=l[1]*h+l[3]*e+l[5],this._originalTranslate(h,e)},T.scale=function(h,e){const l=this._transformMatrix;l[0]*=h,l[1]*=h,l[2]*=e,l[3]*=e,this._originalScale(h,e)},T.transform=function(h,e,l,p,C,S){const E=this._transformMatrix;this._transformMatrix=[E[0]*h+E[2]*e,E[1]*h+E[3]*e,E[0]*l+E[2]*p,E[1]*l+E[3]*p,E[0]*C+E[2]*S+E[4],E[1]*C+E[3]*S+E[5]],T._originalTransform(h,e,l,p,C,S)},T.setTransform=function(h,e,l,p,C,S){this._transformMatrix=[h,e,l,p,C,S],T._originalSetTransform(h,e,l,p,C,S)},T.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],T._originalResetTransform()},T.rotate=function(h){const e=Math.cos(h),l=Math.sin(h),p=this._transformMatrix;this._transformMatrix=[p[0]*e+p[2]*l,p[1]*e+p[3]*l,p[0]*-l+p[2]*e,p[1]*-l+p[3]*e,p[4],p[5]],this._originalRotate(h)}}}class _{constructor(a){this.canvasFactory=a,this.cache=Object.create(null)}getCanvas(a,h,e,l){let p;return void 0!==this.cache[a]?(p=this.cache[a],this.canvasFactory.reset(p,h,e),p.context.setTransform(1,0,0,1,0,0)):(p=this.canvasFactory.create(h,e),this.cache[a]=p),l&&w(p.context),p}delete(a){delete this.cache[a]}clear(){for(const a in this.cache)this.canvasFactory.destroy(this.cache[a]),delete this.cache[a]}}function g(T,a,h,e,l,p,C,S,E,B){const[U,V,H,X,ee,ce]=T.mozCurrentTransform;if(0===V&&0===H){const ie=Math.round(C*U+ee),D=Math.round(S*X+ce),pe=Math.abs(Math.round((C+E)*U+ee)-ie)||1,he=Math.abs(Math.round((S+B)*X+ce)-D)||1;return T.setTransform(Math.sign(U),0,0,Math.sign(X),ie,D),T.drawImage(a,h,e,l,p,0,0,pe,he),T.setTransform(U,V,H,X,ee,ce),[pe,he]}if(0===U&&0===X){const ie=Math.round(S*H+ee),D=Math.round(C*V+ce),pe=Math.abs(Math.round((S+B)*H+ee)-ie)||1,he=Math.abs(Math.round((C+E)*V+ce)-D)||1;return T.setTransform(0,Math.sign(V),Math.sign(H),0,ie,D),T.drawImage(a,h,e,l,p,0,0,he,pe),T.setTransform(U,V,H,X,ee,ce),[he,pe]}return T.drawImage(a,h,e,l,p,C,S,E,B),[Math.hypot(U,V)*E,Math.hypot(H,X)*B]}class n{constructor(a,h){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=b.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=b.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=b.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,a,h])}clone(){const a=Object.create(this);return a.clipBox=this.clipBox.slice(),a}setCurrentPoint(a,h){this.x=a,this.y=h}updatePathMinMax(a,h,e){[h,e]=b.Util.applyTransform([h,e],a),this.minX=Math.min(this.minX,h),this.minY=Math.min(this.minY,e),this.maxX=Math.max(this.maxX,h),this.maxY=Math.max(this.maxY,e)}updateRectMinMax(a,h){const e=b.Util.applyTransform(h,a),l=b.Util.applyTransform(h.slice(2),a);this.minX=Math.min(this.minX,e[0],l[0]),this.minY=Math.min(this.minY,e[1],l[1]),this.maxX=Math.max(this.maxX,e[0],l[0]),this.maxY=Math.max(this.maxY,e[1],l[1])}updateScalingPathMinMax(a,h){b.Util.scaleMinMax(a,h),this.minX=Math.min(this.minX,h[0]),this.maxX=Math.max(this.maxX,h[1]),this.minY=Math.min(this.minY,h[2]),this.maxY=Math.max(this.maxY,h[3])}updateCurvePathMinMax(a,h,e,l,p,C,S,E,B,U){const V=b.Util.bezierBoundingBox(h,e,l,p,C,S,E,B);if(U)return U[0]=Math.min(U[0],V[0],V[2]),U[1]=Math.max(U[1],V[0],V[2]),U[2]=Math.min(U[2],V[1],V[3]),void(U[3]=Math.max(U[3],V[1],V[3]));this.updateRectMinMax(a,V)}getPathBoundingBox(a=oe.PathType.FILL,h=null){const e=[this.minX,this.minY,this.maxX,this.maxY];if(a===oe.PathType.STROKE){h||(0,b.unreachable)("Stroke bounding box must include transform.");const l=b.Util.singularValueDecompose2dScale(h),p=l[0]*this.lineWidth/2,C=l[1]*this.lineWidth/2;e[0]-=p,e[1]-=C,e[2]+=p,e[3]+=C}return e}updateClipFromPath(){const a=b.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(a||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(a){this.clipBox=a,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(a=oe.PathType.FILL,h=null){return b.Util.intersect(this.clipBox,this.getPathBoundingBox(a,h))}}function m(T,a,h=null){if(typeof ImageData<"u"&&a instanceof ImageData)return void T.putImageData(a,0,0);const e=a.height,l=a.width,p=e%i,C=(e-p)/i,S=0===p?C:C+1,E=T.createImageData(l,i);let U,B=0;const V=a.data,H=E.data;let X,ee,ce,be,Q,re,ie,v;if(h)switch(h.length){case 1:Q=h[0],re=h[0],ie=h[0],v=h[0];break;case 4:Q=h[0],re=h[1],ie=h[2],v=h[3]}if(a.kind===b.ImageKind.GRAYSCALE_1BPP){const D=V.byteLength,G=new Uint32Array(H.buffer,0,H.byteLength>>2),pe=G.length,de=l+7>>3;let he=4294967295,me=b.FeatureTest.isLittleEndian?4278190080:255;for(v&&255===v[0]&&0===v[255]&&([he,me]=[me,he]),X=0;X<S;X++){for(ce=X<C?i:p,U=0,ee=0;ee<ce;ee++){const _e=D-B;let Se=0;const Ce=_e>de?l:8*_e-7,Ee=-8&Ce;let Z=0,R=0;for(;Se<Ee;Se+=8)R=V[B++],G[U++]=128&R?he:me,G[U++]=64&R?he:me,G[U++]=32&R?he:me,G[U++]=16&R?he:me,G[U++]=8&R?he:me,G[U++]=4&R?he:me,G[U++]=2&R?he:me,G[U++]=1&R?he:me;for(;Se<Ce;Se++)0===Z&&(R=V[B++],Z=128),G[U++]=R&Z?he:me,Z>>=1}for(;U<pe;)G[U++]=0;T.putImageData(E,0,X*i)}}else if(a.kind===b.ImageKind.RGBA_32BPP){const D=!!(Q||re||ie);for(ee=0,be=l*i*4,X=0;X<C;X++){if(H.set(V.subarray(B,B+be)),B+=be,D)for(let G=0;G<be;G+=4)Q&&(H[G+0]=Q[H[G+0]]),re&&(H[G+1]=re[H[G+1]]),ie&&(H[G+2]=ie[H[G+2]]);T.putImageData(E,0,ee),ee+=i}if(X<S){if(be=l*p*4,H.set(V.subarray(B,B+be)),D)for(let G=0;G<be;G+=4)Q&&(H[G+0]=Q[H[G+0]]),re&&(H[G+1]=re[H[G+1]]),ie&&(H[G+2]=ie[H[G+2]]);T.putImageData(E,0,ee)}}else{if(a.kind!==b.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${a.kind}`);{const D=!!(Q||re||ie);for(ce=i,be=l*ce,X=0;X<S;X++){for(X>=C&&(ce=p,be=l*ce),U=0,ee=be;ee--;)H[U++]=V[B++],H[U++]=V[B++],H[U++]=V[B++],H[U++]=255;if(D)for(let G=0;G<U;G+=4)Q&&(H[G+0]=Q[H[G+0]]),re&&(H[G+1]=re[H[G+1]]),ie&&(H[G+2]=ie[H[G+2]]);T.putImageData(E,0,X*i)}}}}function o(T,a){if(a.bitmap)return void T.drawImage(a.bitmap,0,0);const h=a.height,e=a.width,l=h%i,p=(h-l)/i,C=0===l?p:p+1,S=T.createImageData(e,i);let E=0;const B=a.data,U=S.data;for(let V=0;V<C;V++){const H=V<p?i:l;({srcPos:E}=(0,$.applyMaskImageData)({src:B,srcPos:E,dest:U,width:e,height:H})),T.putImageData(S,0,V*i)}}function d(T,a){const h=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let e=0,l=h.length;e<l;e++){const p=h[e];void 0!==T[p]&&(a[p]=T[p])}void 0!==T.setLineDash&&(a.setLineDash(T.getLineDash()),a.lineDashOffset=T.lineDashOffset)}function x(T,a){T.strokeStyle=T.fillStyle=a||"#000000",T.fillRule="nonzero",T.globalAlpha=1,T.lineWidth=1,T.lineCap="butt",T.lineJoin="miter",T.miterLimit=10,T.globalCompositeOperation="source-over",T.font="10px sans-serif",void 0!==T.setLineDash&&(T.setLineDash([]),T.lineDashOffset=0)}function M(T,a,h,e){const l=T.length;for(let p=3;p<l;p+=4){const C=T[p];if(0===C)T[p-3]=a,T[p-2]=h,T[p-1]=e;else if(C<255){const S=255-C;T[p-3]=T[p-3]*C+a*S>>8,T[p-2]=T[p-2]*C+h*S>>8,T[p-1]=T[p-1]*C+e*S>>8}}}function k(T,a,h){const e=T.length;for(let p=3;p<e;p+=4)a[p]=a[p]*(h?h[T[p]]:T[p])*.00392156862745098|0}function I(T,a,h){const e=T.length;for(let l=3;l<e;l+=4){const p=77*T[l-3]+152*T[l-2]+28*T[l-1];a[l]=h?a[l]*h[p>>8]>>8:a[l]*p>>16}}function J(T,a){const h=b.Util.singularValueDecompose2dScale(T);h[0]=Math.fround(h[0]),h[1]=Math.fround(h[1]);const e=Math.fround((globalThis.devicePixelRatio||1)*Y.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==a?a:h[0]<=e||h[1]<=e}const N=["butt","round","square"],q=["miter","round","bevel"],K={},te={};class se{constructor(a,h,e,l,p,C,S,E){this.ctx=a,this.current=new n(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=h,this.objs=e,this.canvasFactory=l,this.imageLayer=p,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=C,this.cachedCanvases=new _(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=S,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=E?.background||null,this.foregroundColor=E?.foreground||null,a&&w(a),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(a,h=null){return"string"==typeof a?a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a):h}beginDrawing({transform:a,viewport:h,transparency:e=!1,background:l=null}){const p=this.ctx.canvas.width,C=this.ctx.canvas.height,S=l||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const E=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const B=this.backgroundColor=this.ctx.fillStyle;let U=!0,V=S;if(this.ctx.fillStyle=S,V=this.ctx.fillStyle,U="string"==typeof V&&/^#[0-9A-Fa-f]{6}$/.test(V),"#000000"===E&&"#ffffff"===B||E===B||!U)this.foregroundColor=this.backgroundColor=null;else{const H=parseInt(V.slice(1),16),ee=(H&&65280)>>8,ce=H&&255,be=re=>(re/=255)<=.03928?re/12.92:((re+.055)/1.055)**2.4,Q=Math.round(.2126*be((H&&16711680)>>16)+.7152*be(ee)+.0722*be(ce));this.selectColor=(re,ie,v)=>{const D=.2126*be(re)+.7152*be(ie)+.0722*be(v);return Math.round(D)===Q?B:E}}}if(this.ctx.fillStyle=this.backgroundColor||S,this.ctx.fillRect(0,0,p,C),this.ctx.restore(),e){const E=this.cachedCanvases.getCanvas("transparent",p,C,!0);this.compositeCtx=this.ctx,this.transparentCanvas=E.canvas,this.ctx=E.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),x(this.ctx,this.foregroundColor),a&&(this.ctx.transform.apply(this.ctx,a),this.outputScaleX=a[0],this.outputScaleY=a[0]),this.ctx.transform.apply(this.ctx,h.transform),this.viewportScale=h.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(a,h,e,l){const p=a.argsArray,C=a.fnArray;let S=h||0;const E=p.length;if(E===S)return S;const B=E-S>10&&"function"==typeof e,U=B?Date.now()+15:0;let V=0;const H=this.commonObjs,X=this.objs;let ee;for(;;){if(void 0!==l&&S===l.nextBreakPoint)return l.breakIt(S,e),S;if(ee=C[S],ee!==b.OPS.dependency)this[ee].apply(this,p[S]);else for(const ce of p[S]){const be=ce.startsWith("g_")?H:X;if(!be.has(ce))return be.get(ce,e),S}if(S++,S===E)return S;if(B&&++V>10){if(Date.now()>U)return e(),S;V=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const a of this._cachedBitmapsMap.values()){for(const h of a.values())typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement&&(h.width=h.height=0);a.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(a,h){const e=a.width,l=a.height;let U,V,p=Math.max(Math.hypot(h[0],h[1]),1),C=Math.max(Math.hypot(h[2],h[3]),1),S=e,E=l,B="prescale1";for(;p>2&&S>1||C>2&&E>1;){let H=S,X=E;p>2&&S>1&&(H=Math.ceil(S/2),p/=S/H),C>2&&E>1&&(X=Math.ceil(E/2),C/=E/X),U=this.cachedCanvases.getCanvas(B,H,X,!1),V=U.context,V.clearRect(0,0,H,X),V.drawImage(a,0,0,S,E,0,0,H,X),a=U.canvas,S=H,E=X,B="prescale1"===B?"prescale2":"prescale1"}return{img:a,paintWidth:S,paintHeight:E}}_createMaskCanvas(a){const h=this.ctx,{width:e,height:l}=a,p=this.current.fillColor,C=this.current.patternFill,S=h.mozCurrentTransform;let E,B,U,V;if((a.bitmap||a.data)&&a.count>1){const pe=a.bitmap||a.data.buffer,de=S.slice(0,4);B=JSON.stringify(C?de:[de,p]),E=this._cachedBitmapsMap.get(pe),E||(E=new Map,this._cachedBitmapsMap.set(pe,E));const he=E.get(B);if(he&&!C)return{canvas:he,offsetX:Math.round(Math.min(S[0],S[2])+S[4]),offsetY:Math.round(Math.min(S[1],S[3])+S[5])};U=he}U||(V=this.cachedCanvases.getCanvas("maskCanvas",e,l,!1),o(V.context,a));let H=b.Util.transform(S,[1/e,0,0,-1/l,0,0]);H=b.Util.transform(H,[1,0,0,1,0,-l]);const X=b.Util.applyTransform([0,0],H),ee=b.Util.applyTransform([e,l],H),ce=b.Util.normalizeRect([X[0],X[1],ee[0],ee[1]]),be=Math.round(ce[2]-ce[0])||1,Q=Math.round(ce[3]-ce[1])||1,re=this.cachedCanvases.getCanvas("fillCanvas",be,Q,!0),ie=re.context,v=Math.min(X[0],ee[0]),D=Math.min(X[1],ee[1]);ie.translate(-v,-D),ie.transform.apply(ie,H),U||(U=this._scaleImage(V.canvas,ie.mozCurrentTransformInverse),U=U.img,E&&C&&E.set(B,U)),ie.imageSmoothingEnabled=J(ie.mozCurrentTransform,a.interpolate),g(ie,U,0,0,U.width,U.height,0,0,e,l),ie.globalCompositeOperation="source-in";const G=b.Util.transform(ie.mozCurrentTransformInverse,[1,0,0,1,-v,-D]);return ie.fillStyle=C?p.getPattern(h,this,G,oe.PathType.FILL):p,ie.fillRect(0,0,e,l),E&&!C&&(this.cachedCanvases.delete("fillCanvas"),E.set(B,re.canvas)),{canvas:re.canvas,offsetX:Math.round(v),offsetY:Math.round(D)}}setLineWidth(a){a!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=a,this.ctx.lineWidth=a}setLineCap(a){this.ctx.lineCap=N[a]}setLineJoin(a){this.ctx.lineJoin=q[a]}setMiterLimit(a){this.ctx.miterLimit=a}setDash(a,h){const e=this.ctx;void 0!==e.setLineDash&&(e.setLineDash(a),e.lineDashOffset=h)}setRenderingIntent(a){}setFlatness(a){}setGState(a){for(let h=0,e=a.length;h<e;h++){const l=a[h],C=l[1];switch(l[0]){case"LW":this.setLineWidth(C);break;case"LC":this.setLineCap(C);break;case"LJ":this.setLineJoin(C);break;case"ML":this.setMiterLimit(C);break;case"D":this.setDash(C[0],C[1]);break;case"RI":this.setRenderingIntent(C);break;case"FL":this.setFlatness(C);break;case"Font":this.setFont(C[0],C[1]);break;case"CA":this.current.strokeAlpha=l[1];break;case"ca":this.current.fillAlpha=l[1],this.ctx.globalAlpha=l[1];break;case"BM":this.ctx.globalCompositeOperation=C;break;case"SMask":this.current.activeSMask=C?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=C}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const a=this.inSMaskMode;this.current.activeSMask&&!a?this.beginSMaskMode():!this.current.activeSMask&&a&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const l=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=l.context;const p=this.ctx;p.setTransform.apply(p,this.suspendedCtx.mozCurrentTransform),d(this.suspendedCtx,p),function u(T,a){if(T._removeMirroring)throw new Error("Context is already forwarding operations.");T.__originalSave=T.save,T.__originalRestore=T.restore,T.__originalRotate=T.rotate,T.__originalScale=T.scale,T.__originalTranslate=T.translate,T.__originalTransform=T.transform,T.__originalSetTransform=T.setTransform,T.__originalResetTransform=T.resetTransform,T.__originalClip=T.clip,T.__originalMoveTo=T.moveTo,T.__originalLineTo=T.lineTo,T.__originalBezierCurveTo=T.bezierCurveTo,T.__originalRect=T.rect,T.__originalClosePath=T.closePath,T.__originalBeginPath=T.beginPath,T._removeMirroring=()=>{T.save=T.__originalSave,T.restore=T.__originalRestore,T.rotate=T.__originalRotate,T.scale=T.__originalScale,T.translate=T.__originalTranslate,T.transform=T.__originalTransform,T.setTransform=T.__originalSetTransform,T.resetTransform=T.__originalResetTransform,T.clip=T.__originalClip,T.moveTo=T.__originalMoveTo,T.lineTo=T.__originalLineTo,T.bezierCurveTo=T.__originalBezierCurveTo,T.rect=T.__originalRect,T.closePath=T.__originalClosePath,T.beginPath=T.__originalBeginPath,delete T._removeMirroring},T.save=function(){a.save(),this.__originalSave()},T.restore=function(){a.restore(),this.__originalRestore()},T.translate=function(e,l){a.translate(e,l),this.__originalTranslate(e,l)},T.scale=function(e,l){a.scale(e,l),this.__originalScale(e,l)},T.transform=function(e,l,p,C,S,E){a.transform(e,l,p,C,S,E),this.__originalTransform(e,l,p,C,S,E)},T.setTransform=function(e,l,p,C,S,E){a.setTransform(e,l,p,C,S,E),this.__originalSetTransform(e,l,p,C,S,E)},T.resetTransform=function(){a.resetTransform(),this.__originalResetTransform()},T.rotate=function(e){a.rotate(e),this.__originalRotate(e)},T.clip=function(e){a.clip(e),this.__originalClip(e)},T.moveTo=function(h,e){a.moveTo(h,e),this.__originalMoveTo(h,e)},T.lineTo=function(h,e){a.lineTo(h,e),this.__originalLineTo(h,e)},T.bezierCurveTo=function(h,e,l,p,C,S){a.bezierCurveTo(h,e,l,p,C,S),this.__originalBezierCurveTo(h,e,l,p,C,S)},T.rect=function(h,e,l,p){a.rect(h,e,l,p),this.__originalRect(h,e,l,p)},T.closePath=function(){a.closePath(),this.__originalClosePath()},T.beginPath=function(){a.beginPath(),this.__originalBeginPath()}}(p,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),d(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(a){this.current.activeSMask&&(a?(a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.ceil(a[2]),a[3]=Math.ceil(a[3])):a=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function z(T,a,h,e){const l=e[0],p=e[1],C=e[2]-l,S=e[3]-p;0===C||0===S||(function j(T,a,h,e,l,p,C,S,E,B,U){const V=!!p,H=V?p[0]:0,X=V?p[1]:0,ee=V?p[2]:0;let ce;ce="Luminosity"===l?I:k;const Q=Math.min(e,Math.ceil(1048576/h));for(let re=0;re<e;re+=Q){const ie=Math.min(Q,e-re),v=T.getImageData(S-B,re+(E-U),h,ie),D=a.getImageData(S,re+E,h,ie);V&&M(v.data,H,X,ee),ce(v.data,D.data,C),a.putImageData(D,S,re+E)}}(a.context,h,C,S,a.subtype,a.backdrop,a.transferMap,l,p,a.offsetX,a.offsetY),T.save(),T.globalAlpha=1,T.globalCompositeOperation="source-over",T.setTransform(1,0,0,1,0,0),T.drawImage(h.canvas,0,0),T.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,a),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(d(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const a=this.current;this.stateStack.push(a),this.current=a.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),d(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(a,h,e,l,p,C){this.ctx.transform(a,h,e,l,p,C),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(a,h,e){const l=this.ctx,p=this.current;let E,B,C=p.x,S=p.y;const U=l.mozCurrentTransform,V=0===U[0]&&0===U[3]||0===U[1]&&0===U[2],H=V?e.slice(0):null;for(let X=0,ee=0,ce=a.length;X<ce;X++)switch(0|a[X]){case b.OPS.rectangle:C=h[ee++],S=h[ee++];const be=h[ee++],Q=h[ee++],re=C+be,ie=S+Q;l.moveTo(C,S),0===be||0===Q?l.lineTo(re,ie):(l.lineTo(re,S),l.lineTo(re,ie),l.lineTo(C,ie)),V||p.updateRectMinMax(U,[C,S,re,ie]),l.closePath();break;case b.OPS.moveTo:C=h[ee++],S=h[ee++],l.moveTo(C,S),V||p.updatePathMinMax(U,C,S);break;case b.OPS.lineTo:C=h[ee++],S=h[ee++],l.lineTo(C,S),V||p.updatePathMinMax(U,C,S);break;case b.OPS.curveTo:E=C,B=S,C=h[ee+4],S=h[ee+5],l.bezierCurveTo(h[ee],h[ee+1],h[ee+2],h[ee+3],C,S),p.updateCurvePathMinMax(U,E,B,h[ee],h[ee+1],h[ee+2],h[ee+3],C,S,H),ee+=6;break;case b.OPS.curveTo2:E=C,B=S,l.bezierCurveTo(C,S,h[ee],h[ee+1],h[ee+2],h[ee+3]),p.updateCurvePathMinMax(U,E,B,C,S,h[ee],h[ee+1],h[ee+2],h[ee+3],H),C=h[ee+2],S=h[ee+3],ee+=4;break;case b.OPS.curveTo3:E=C,B=S,C=h[ee+2],S=h[ee+3],l.bezierCurveTo(h[ee],h[ee+1],C,S,C,S),p.updateCurvePathMinMax(U,E,B,h[ee],h[ee+1],C,S,C,S,H),ee+=4;break;case b.OPS.closePath:l.closePath()}V&&p.updateScalingPathMinMax(U,H),p.setCurrentPoint(C,S)}closePath(){this.ctx.closePath()}stroke(a){a=!(typeof a<"u")||a;const h=this.ctx,e=this.current.strokeColor;h.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof e&&e?.getPattern?(h.save(),h.strokeStyle=e.getPattern(h,this,h.mozCurrentTransformInverse,oe.PathType.STROKE),this.rescaleAndStroke(!1),h.restore()):this.rescaleAndStroke(!0)),a&&this.consumePath(this.current.getClippedPathBoundingBox()),h.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(a){a=!(typeof a<"u")||a;const h=this.ctx,e=this.current.fillColor;let p=!1;this.current.patternFill&&(h.save(),h.fillStyle=e.getPattern(h,this,h.mozCurrentTransformInverse,oe.PathType.FILL),p=!0);const C=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==C&&(this.pendingEOFill?(h.fill("evenodd"),this.pendingEOFill=!1):h.fill()),p&&h.restore(),a&&this.consumePath(C)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=K}eoClip(){this.pendingClip=te}beginText(){this.current.textMatrix=b.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const a=this.pendingTextPaths,h=this.ctx;if(void 0!==a){h.save(),h.beginPath();for(let e=0;e<a.length;e++){const l=a[e];h.setTransform.apply(h,l.transform),h.translate(l.x,l.y),l.addToPath(h,l.fontSize)}h.restore(),h.clip(),h.beginPath(),delete this.pendingTextPaths}else h.beginPath()}setCharSpacing(a){this.current.charSpacing=a}setWordSpacing(a){this.current.wordSpacing=a}setHScale(a){this.current.textHScale=a/100}setLeading(a){this.current.leading=-a}setFont(a,h){const e=this.commonObjs.get(a),l=this.current;if(!e)throw new Error(`Can't find font for ${a}`);if(l.fontMatrix=e.fontMatrix||b.FONT_IDENTITY_MATRIX,(0===l.fontMatrix[0]||0===l.fontMatrix[3])&&(0,b.warn)("Invalid font matrix for font "+a),h<0?(h=-h,l.fontDirection=-1):l.fontDirection=1,this.current.font=e,this.current.fontSize=h,e.isType3Font)return;let C="normal";e.black?C="900":e.bold&&(C="bold");const S=e.italic?"italic":"normal",E=`"${e.loadedName||"sans-serif"}", ${e.fallbackName}`;let B=h;h<16?B=16:h>100&&(B=100),this.current.fontSizeScale=h/B,this.ctx.font=`${S} ${C} ${B}px ${E}`}setTextRenderingMode(a){this.current.textRenderingMode=a}setTextRise(a){this.current.textRise=a}moveText(a,h){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=h}setLeadingMoveText(a,h){this.setLeading(-h),this.moveText(a,h)}setTextMatrix(a,h,e,l,p,C){this.current.textMatrix=[a,h,e,l,p,C],this.current.textMatrixScale=Math.hypot(a,h),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(a,h,e,l){const p=this.ctx,C=this.current,S=C.font,E=C.textRenderingMode,B=C.fontSize/C.fontSizeScale,U=E&b.TextRenderingMode.FILL_STROKE_MASK,V=!!(E&b.TextRenderingMode.ADD_TO_PATH_FLAG),H=C.patternFill&&!S.missingFile;let X;(S.disableFontFace||V||H)&&(X=S.getPathGenerator(this.commonObjs,a)),S.disableFontFace||H?(p.save(),p.translate(h,e),p.beginPath(),X(p,B),l&&p.setTransform.apply(p,l),(U===b.TextRenderingMode.FILL||U===b.TextRenderingMode.FILL_STROKE)&&p.fill(),(U===b.TextRenderingMode.STROKE||U===b.TextRenderingMode.FILL_STROKE)&&p.stroke(),p.restore()):((U===b.TextRenderingMode.FILL||U===b.TextRenderingMode.FILL_STROKE)&&p.fillText(a,h,e),(U===b.TextRenderingMode.STROKE||U===b.TextRenderingMode.FILL_STROKE)&&p.strokeText(a,h,e)),V&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:p.mozCurrentTransform,x:h,y:e,fontSize:B,addToPath:X})}get isFontSubpixelAAEnabled(){const{context:a}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);a.scale(1.5,1),a.fillText("I",0,10);const h=a.getImageData(0,0,10,10).data;let e=!1;for(let l=3;l<h.length;l+=4)if(h[l]>0&&h[l]<255){e=!0;break}return(0,b.shadow)(this,"isFontSubpixelAAEnabled",e)}showText(a){const h=this.current,e=h.font;if(e.isType3Font)return this.showType3Text(a);const l=h.fontSize;if(0===l)return;const p=this.ctx,C=h.fontSizeScale,S=h.charSpacing,E=h.wordSpacing,B=h.fontDirection,U=h.textHScale*B,V=a.length,H=e.vertical,X=H?1:-1,ee=e.defaultVMetrics,ce=l*h.fontMatrix[0],be=h.textRenderingMode===b.TextRenderingMode.FILL&&!e.disableFontFace&&!h.patternFill;let Q;if(p.save(),p.transform.apply(p,h.textMatrix),p.translate(h.x,h.y+h.textRise),p.scale(U,B>0?-1:1),h.patternFill){p.save();const G=h.fillColor.getPattern(p,this,p.mozCurrentTransformInverse,oe.PathType.FILL);Q=p.mozCurrentTransform,p.restore(),p.fillStyle=G}let re=h.lineWidth;const ie=h.textMatrixScale;if(0===ie||0===re){const G=h.textRenderingMode&b.TextRenderingMode.FILL_STROKE_MASK;(G===b.TextRenderingMode.STROKE||G===b.TextRenderingMode.FILL_STROKE)&&(re=this.getSinglePixelWidth())}else re/=ie;1!==C&&(p.scale(C,C),re/=C),p.lineWidth=re;let D,v=0;for(D=0;D<V;++D){const G=a[D];if("number"==typeof G){v+=X*G*l/1e3;continue}let pe=!1;const de=(G.isSpace?E:0)+S,he=G.fontChar,me=G.accent;let _e,Se,Ee,Ce=G.width;if(H){const Z=G.vmetric||ee,R=-(G.vmetric?Z[1]:.5*Ce)*ce;Ce=Z?-Z[0]:Ce,_e=R/C,Se=(v+Z[2]*ce)/C}else _e=v/C,Se=0;if(e.remeasure&&Ce>0){const Z=1e3*p.measureText(he).width/l*C;if(Ce<Z&&this.isFontSubpixelAAEnabled){const R=Ce/Z;pe=!0,p.save(),p.scale(R,1),_e/=R}else Ce!==Z&&(_e+=(Ce-Z)/2e3*l/C)}this.contentVisible&&(G.isInFont||e.missingFile)&&(be&&!me?p.fillText(he,_e,Se):(this.paintChar(he,_e,Se,Q),me&&this.paintChar(me.fontChar,_e+l*me.offset.x/C,Se-l*me.offset.y/C,Q))),Ee=H?Ce*ce-de*B:Ce*ce+de*B,v+=Ee,pe&&p.restore()}H?h.y-=v:h.x+=v*U,p.restore(),this.compose()}showType3Text(a){const h=this.ctx,e=this.current,l=e.font,p=e.fontSize,C=e.fontDirection,S=l.vertical?1:-1,E=e.charSpacing,B=e.wordSpacing,U=e.textHScale*C,V=e.fontMatrix||b.FONT_IDENTITY_MATRIX,H=a.length;let ee,ce,be,Q;if(e.textRenderingMode!==b.TextRenderingMode.INVISIBLE&&0!==p){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,h.save(),h.transform.apply(h,e.textMatrix),h.translate(e.x,e.y),h.scale(U,C),ee=0;ee<H;++ee){if(ce=a[ee],"number"==typeof ce){Q=S*ce*p/1e3,this.ctx.translate(Q,0),e.x+=Q*U;continue}const re=(ce.isSpace?B:0)+E,ie=l.charProcOperatorList[ce.operatorListId];ie?(this.contentVisible&&(this.processingType3=ce,this.save(),h.scale(p,p),h.transform.apply(h,V),this.executeOperatorList(ie),this.restore()),be=b.Util.applyTransform([ce.width,0],V)[0]*p+re,h.translate(be,0),e.x+=be*U):(0,b.warn)(`Type3 character "${ce.operatorListId}" is not available.`)}h.restore(),this.processingType3=null}}setCharWidth(a,h){}setCharWidthAndBounds(a,h,e,l,p,C){this.ctx.rect(e,l,p-e,C-l),this.ctx.clip(),this.endPath()}getColorN_Pattern(a){let h;if("TilingPattern"===a[0]){const e=a[1],l=this.baseTransform||this.ctx.mozCurrentTransform.slice();h=new oe.TilingPattern(a,e,this.ctx,{createCanvasGraphics:C=>new se(C,this.commonObjs,this.objs,this.canvasFactory)},l)}else h=this._getPattern(a[1],a[2]);return h}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(a,h,e){const l=this.selectColor?.(a,h,e)||b.Util.makeHexColor(a,h,e);this.ctx.strokeStyle=l,this.current.strokeColor=l}setFillRGBColor(a,h,e){const l=this.selectColor?.(a,h,e)||b.Util.makeHexColor(a,h,e);this.ctx.fillStyle=l,this.current.fillColor=l,this.current.patternFill=!1}_getPattern(a,h=null){let e;return this.cachedPatterns.has(a)?e=this.cachedPatterns.get(a):(e=(0,oe.getShadingPattern)(this.objs.get(a)),this.cachedPatterns.set(a,e)),h&&(e.matrix=h),e}shadingFill(a){if(!this.contentVisible)return;const h=this.ctx;this.save();const e=this._getPattern(a);h.fillStyle=e.getPattern(h,this,h.mozCurrentTransformInverse,oe.PathType.SHADING);const l=h.mozCurrentTransformInverse;if(l){const p=h.canvas,C=p.width,S=p.height,E=b.Util.applyTransform([0,0],l),B=b.Util.applyTransform([0,S],l),U=b.Util.applyTransform([C,0],l),V=b.Util.applyTransform([C,S],l),H=Math.min(E[0],B[0],U[0],V[0]),X=Math.min(E[1],B[1],U[1],V[1]),ee=Math.max(E[0],B[0],U[0],V[0]),ce=Math.max(E[1],B[1],U[1],V[1]);this.ctx.fillRect(H,X,ee-H,ce-X)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,b.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,b.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(a,h){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,h)&&(this.ctx.rect(h[0],h[1],h[2]-h[0],h[3]-h[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,h),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(a){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const h=this.ctx;a.isolated||(0,b.info)("TODO: Support non-isolated groups."),a.knockout&&(0,b.warn)("Knockout groups not supported.");const e=h.mozCurrentTransform;if(a.matrix&&h.transform.apply(h,a.matrix),!a.bbox)throw new Error("Bounding box is required.");let l=b.Util.getAxialAlignedBoundingBox(a.bbox,h.mozCurrentTransform);l=b.Util.intersect(l,[0,0,h.canvas.width,h.canvas.height])||[0,0,0,0];const C=Math.floor(l[0]),S=Math.floor(l[1]);let E=Math.max(Math.ceil(l[2])-C,1),B=Math.max(Math.ceil(l[3])-S,1),U=1,V=1;E>P&&(U=E/P,E=P),B>P&&(V=B/P,B=P),this.current.startNewPathAndClipBox([0,0,E,B]);let H="groupAt"+this.groupLevel;a.smask&&(H+="_smask_"+this.smaskCounter++%2);const X=this.cachedCanvases.getCanvas(H,E,B,!0),ee=X.context;ee.scale(1/U,1/V),ee.translate(-C,-S),ee.transform.apply(ee,e),a.smask?this.smaskStack.push({canvas:X.canvas,context:ee,offsetX:C,offsetY:S,scaleX:U,scaleY:V,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(h.setTransform(1,0,0,1,0,0),h.translate(C,S),h.scale(U,V),h.save()),d(h,ee),this.ctx=ee,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(h),this.groupLevel++}endGroup(a){if(!this.contentVisible)return;this.groupLevel--;const h=this.ctx,e=this.groupStack.pop();if(this.ctx=e,this.ctx.imageSmoothingEnabled=!1,a.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const l=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,l);const p=b.Util.getAxialAlignedBoundingBox([0,0,h.canvas.width,h.canvas.height],l);this.ctx.drawImage(h.canvas,0,0),this.ctx.restore(),this.compose(p)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(a,h,e,l,p){if(this.save(),Array.isArray(h)&&4===h.length){const C=h[2]-h[0],S=h[3]-h[1];if(p&&this.annotationCanvasMap){(e=e.slice())[4]-=h[0],e[5]-=h[1],(h=h.slice())[0]=h[1]=0,h[2]=C,h[3]=S;const[E,B]=b.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:U}=this,V=Math.ceil(C*this.outputScaleX*U),H=Math.ceil(S*this.outputScaleY*U);this.annotationCanvas=this.canvasFactory.create(V,H);const{canvas:X,context:ee}=this.annotationCanvas,ce=`var(--zoom-factor) * ${Y.PixelsPerInch.PDF_TO_CSS_UNITS}`;X.style.width=`calc(${C}px * ${ce})`,X.style.height=`calc(${S}px * ${ce})`,this.annotationCanvasMap.set(a,X),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ee,this.ctx.setTransform(E,0,0,-B,0,S*B),w(this.ctx),x(this.ctx,this.foregroundColor)}else x(this.ctx,this.foregroundColor),this.ctx.rect(h[0],h[1],C,S),this.ctx.clip(),this.endPath()}this.current=new n(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,e),this.transform.apply(this,l)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(a){if(!this.contentVisible)return;const h=a.count;(a=this.getObject(a.data,a)).count=h;const e=this.ctx,l=this.processingType3;if(l&&(void 0===l.compiled&&(l.compiled=function t(T){const{width:a,height:h}=T;if(a>1e3||h>1e3)return null;const l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),p=a+1;let S,E,B,C=new Uint8Array(p*(h+1));const U=a+7&-8;let V=new Uint8Array(U*h),H=0;for(const ie of T.data){let v=128;for(;v>0;)V[H++]=ie&v?0:255,v>>=1}let X=0;for(H=0,0!==V[H]&&(C[0]=1,++X),E=1;E<a;E++)V[H]!==V[H+1]&&(C[E]=V[H]?2:1,++X),H++;for(0!==V[H]&&(C[E]=2,++X),S=1;S<h;S++){H=S*U,B=S*p,V[H-U]!==V[H]&&(C[B]=V[H]?1:8,++X);let ie=(V[H]?4:0)+(V[H-U]?8:0);for(E=1;E<a;E++)ie=(ie>>2)+(V[H+1]?4:0)+(V[H-U+1]?8:0),l[ie]&&(C[B+E]=l[ie],++X),H++;if(V[H-U]!==V[H]&&(C[B+E]=V[H]?2:4,++X),X>1e3)return null}for(H=U*(h-1),B=S*p,0!==V[H]&&(C[B]=8,++X),E=1;E<a;E++)V[H]!==V[H+1]&&(C[B+E]=V[H]?4:8,++X),H++;if(0!==V[H]&&(C[B+E]=4,++X),X>1e3)return null;const ee=new Int32Array([0,p,-1,0,-p,0,0,0,1]);let ce,be,Q;for(W.isNodeJS?be=[]:ce=new Path2D,S=0;X&&S<=h;S++){let ie=S*p;const v=ie+a;for(;ie<v&&!C[ie];)ie++;if(ie===v)continue;ce?ce.moveTo(ie%p,S):Q=[ie%p,S];const D=ie;let G=C[ie];do{const pe=ee[G];do{ie+=pe}while(!C[ie]);const de=C[ie];5!==de&&10!==de?(G=de,C[ie]=0):(G=de&51*G>>4,C[ie]&=G>>2|G<<2),ce?ce.lineTo(ie%p,ie/p|0):Q.push(ie%p,ie/p|0),C[ie]||--X}while(D!==ie);ce||be.push(Q),--S}return V=null,C=null,function(ie){if(ie.save(),ie.scale(1/a,-1/h),ie.translate(0,-h),ce)ie.fill(ce);else{ie.beginPath();for(const v of be){ie.moveTo(v[0],v[1]);for(let D=2,G=v.length;D<G;D+=2)ie.lineTo(v[D],v[D+1])}ie.fill()}ie.beginPath(),ie.restore()}}(a)),l.compiled))return void l.compiled(e);const p=this._createMaskCanvas(a),C=p.canvas;e.save(),e.setTransform(1,0,0,1,0,0),e.drawImage(C,p.offsetX,p.offsetY),e.restore(),this.compose()}paintImageMaskXObjectRepeat(a,h,e=0,l=0,p,C){if(!this.contentVisible)return;a=this.getObject(a.data,a);const S=this.ctx;S.save();const E=S.mozCurrentTransform;S.transform(h,e,l,p,0,0);const B=this._createMaskCanvas(a);S.setTransform(1,0,0,1,0,0);for(let U=0,V=C.length;U<V;U+=2){const H=b.Util.transform(E,[h,e,l,p,C[U],C[U+1]]),[X,ee]=b.Util.applyTransform([0,0],H);S.drawImage(B.canvas,X,ee)}S.restore(),this.compose()}paintImageMaskXObjectGroup(a){if(!this.contentVisible)return;const h=this.ctx,e=this.current.fillColor,l=this.current.patternFill;for(let p=0,C=a.length;p<C;p++){const S=a[p],E=S.width,B=S.height,U=this.cachedCanvases.getCanvas("maskCanvas",E,B,!1),V=U.context;V.save(),o(V,S),V.globalCompositeOperation="source-in",V.fillStyle=l?e.getPattern(V,this,h.mozCurrentTransformInverse,oe.PathType.FILL):e,V.fillRect(0,0,E,B),V.restore(),h.save(),h.transform.apply(h,S.transform),h.scale(1,-1),g(h,U.canvas,0,0,E,B,0,-1,1,1),h.restore()}this.compose()}paintImageXObject(a){if(!this.contentVisible)return;const h=this.getObject(a);h?this.paintInlineImageXObject(h):(0,b.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(a,h,e,l){if(!this.contentVisible)return;const p=this.getObject(a);if(!p)return void(0,b.warn)("Dependent image isn't ready yet");const C=p.width,S=p.height,E=[];for(let B=0,U=l.length;B<U;B+=2)E.push({transform:[h,0,0,e,l[B],l[B+1]],x:0,y:0,w:C,h:S});this.paintInlineImageXObjectGroup(p,E)}paintInlineImageXObject(a){if(!this.contentVisible)return;const h=a.width,e=a.height,l=this.ctx;let p;if(this.save(),l.scale(1/h,-1/e),"function"==typeof HTMLElement&&a instanceof HTMLElement||!a.data)p=a;else{const B=this.cachedCanvases.getCanvas("inlineImage",h,e,!1);m(B.context,a,this.current.transferMaps),p=B.canvas}const C=this._scaleImage(p,l.mozCurrentTransformInverse);l.imageSmoothingEnabled=J(l.mozCurrentTransform,a.interpolate);const[S,E]=g(l,C.img,0,0,C.paintWidth,C.paintHeight,0,-e,h,e);if(this.imageLayer){const B=this.getCanvasPosition(0,-e);this.imageLayer.appendImage({imgData:a,left:B[0],top:B[1],width:S,height:E})}this.compose(),this.restore()}paintInlineImageXObjectGroup(a,h){if(!this.contentVisible)return;const e=this.ctx,l=a.width,p=a.height,C=this.cachedCanvases.getCanvas("inlineImage",l,p,!1);m(C.context,a,this.current.transferMaps);for(let E=0,B=h.length;E<B;E++){const U=h[E];if(e.save(),e.transform.apply(e,U.transform),e.scale(1,-1),g(e,C.canvas,U.x,U.y,U.w,U.h,0,-1,1,1),this.imageLayer){const V=this.getCanvasPosition(U.x,U.y);this.imageLayer.appendImage({imgData:a,left:V[0],top:V[1],width:l,height:p})}e.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(a){}markPointProps(a,h){}beginMarkedContent(a){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(a,h){this.markedContentStack.push("OC"===a?{visible:this.optionalContentConfig.isVisible(h)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(a){const h=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(a);const e=this.ctx;this.pendingClip&&(h||(this.pendingClip===te?e.clip("evenodd"):e.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),e.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const a=this.ctx.mozCurrentTransform;if(0===a[1]&&0===a[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(a[0]),Math.abs(a[3]));else{const h=Math.abs(a[0]*a[3]-a[2]*a[1]),e=Math.hypot(a[0],a[2]),l=Math.hypot(a[1],a[3]);this._cachedGetSinglePixelWidth=Math.max(e,l)/h}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:a}=this.current,h=this.ctx.mozCurrentTransform;let e,l;if(0===h[1]&&0===h[2]){const p=Math.abs(h[0]),C=Math.abs(h[3]);if(0===a)e=1/p,l=1/C;else{const S=p*a,E=C*a;e=S<1?1/S:1,l=E<1?1/E:1}}else{const p=Math.abs(h[0]*h[3]-h[2]*h[1]),C=Math.hypot(h[0],h[1]),S=Math.hypot(h[2],h[3]);if(0===a)e=S/p,l=C/p;else{const E=a*p;e=S>E?S/E:1,l=C>E?C/E:1}}this._cachedScaleForStroking=[e,l]}return this._cachedScaleForStroking}rescaleAndStroke(a){const{ctx:h}=this,{lineWidth:e}=this.current,[l,p]=this.getScaleForStroking();if(h.lineWidth=e||1,1===l&&1===p)return void h.stroke();let C,S,E;a&&(C=h.mozCurrentTransform.slice(),S=h.getLineDash().slice(),E=h.lineDashOffset),h.scale(l,p);const B=Math.max(l,p);h.setLineDash(h.getLineDash().map(U=>U/B)),h.lineDashOffset/=B,h.stroke(),a&&(h.setTransform(...C),h.setLineDash(S),h.lineDashOffset=E)}getCanvasPosition(a,h){const e=this.ctx.mozCurrentTransform;return[e[0]*a+e[2]*h+e[4],e[1]*a+e[3]*h+e[5]]}isContentVisible(){for(let a=this.markedContentStack.length-1;a>=0;a--)if(!this.markedContentStack[a].visible)return!1;return!0}}L.CanvasGraphics=se;for(const T in b.OPS)void 0!==se.prototype[T]&&(se.prototype[b.OPS[T]]=se.prototype[T])},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.TilingPattern=L.PathType=void 0,L.getShadingPattern=function s(r){switch(r[0]){case"RadialAxial":return new F(r);case"Mesh":return new y(r);case"Dummy":return new f}throw new Error(`Unknown IR type: ${r[0]}`)};var b=ne(1),oe=ne(3);const $={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function W(r,u){if(!u||oe.isNodeJS)return;const w=u[2]-u[0],_=u[3]-u[1],g=new Path2D;g.rect(u[0],u[1],w,_),r.clip(g)}L.PathType=$;class Y{constructor(){this.constructor===Y&&(0,b.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,b.unreachable)("Abstract method `getPattern` called.")}}class F extends Y{constructor(u){super(),this._type=u[1],this._bbox=u[2],this._colorStops=u[3],this._p0=u[4],this._p1=u[5],this._r0=u[6],this._r1=u[7],this.matrix=null}_createGradient(u){let w;"axial"===this._type?w=u.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(w=u.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const _ of this._colorStops)w.addColorStop(_[0],_[1]);return w}getPattern(u,w,_,g){let t;if(g===$.STROKE||g===$.FILL){const n=w.current.getClippedPathBoundingBox(g,u.mozCurrentTransform)||[0,0,0,0],m=Math.ceil(n[2]-n[0])||1,o=Math.ceil(n[3]-n[1])||1,d=w.cachedCanvases.getCanvas("pattern",m,o,!0),x=d.context;x.clearRect(0,0,x.canvas.width,x.canvas.height),x.beginPath(),x.rect(0,0,x.canvas.width,x.canvas.height),x.translate(-n[0],-n[1]),_=b.Util.transform(_,[1,0,0,1,n[0],n[1]]),x.transform.apply(x,w.baseTransform),this.matrix&&x.transform.apply(x,this.matrix),W(x,this._bbox),x.fillStyle=this._createGradient(x),x.fill(),t=u.createPattern(d.canvas,"no-repeat");const M=new DOMMatrix(_);try{t.setTransform(M)}catch(k){(0,b.warn)(`RadialAxialShadingPattern.getPattern: "${k?.message}".`)}}else W(u,this._bbox),t=this._createGradient(u);return t}}function c(r,u,w,_,g,t,n,m){const o=u.coords,d=u.colors,x=r.data,M=4*r.width;let k;o[w+1]>o[_+1]&&(k=w,w=_,_=k,k=t,t=n,n=k),o[_+1]>o[g+1]&&(k=_,_=g,g=k,k=n,n=m,m=k),o[w+1]>o[_+1]&&(k=w,w=_,_=k,k=t,t=n,n=k);const I=(o[w]+u.offsetX)*u.scaleX,j=(o[w+1]+u.offsetY)*u.scaleY,z=(o[_]+u.offsetX)*u.scaleX,J=(o[_+1]+u.offsetY)*u.scaleY,N=(o[g]+u.offsetX)*u.scaleX,q=(o[g+1]+u.offsetY)*u.scaleY;if(j>=q)return;const K=d[t],te=d[t+1],se=d[t+2],T=d[n],a=d[n+1],h=d[n+2],e=d[m],l=d[m+1],p=d[m+2],C=Math.round(j),S=Math.round(q);let E,B,U,V,H,X,ee,ce;for(let be=C;be<=S;be++){if(be<J){let D;D=be<j?0:(j-be)/(j-J),E=I-(I-z)*D,B=K-(K-T)*D,U=te-(te-a)*D,V=se-(se-h)*D}else{let D;D=be>q?1:J===q?0:(J-be)/(J-q),E=z-(z-N)*D,B=T-(T-e)*D,U=a-(a-l)*D,V=h-(h-p)*D}let Q;Q=be<j?0:be>q?1:(j-be)/(j-q),H=I-(I-N)*Q,X=K-(K-e)*Q,ee=te-(te-l)*Q,ce=se-(se-p)*Q;const re=Math.round(Math.min(E,H)),ie=Math.round(Math.max(E,H));let v=M*be+4*re;for(let D=re;D<=ie;D++)Q=(E-D)/(E-H),Q<0?Q=0:Q>1&&(Q=1),x[v++]=B-(B-X)*Q|0,x[v++]=U-(U-ee)*Q|0,x[v++]=V-(V-ce)*Q|0,x[v++]=255}}function P(r,u,w){const _=u.coords,g=u.colors;let t,n;switch(u.type){case"lattice":const m=u.verticesPerRow,o=Math.floor(_.length/m)-1,d=m-1;for(t=0;t<o;t++){let x=t*m;for(let M=0;M<d;M++,x++)c(r,w,_[x],_[x+1],_[x+m],g[x],g[x+1],g[x+m]),c(r,w,_[x+m+1],_[x+1],_[x+m],g[x+m+1],g[x+1],g[x+m])}break;case"triangles":for(t=0,n=_.length;t<n;t+=3)c(r,w,_[t],_[t+1],_[t+2],g[t],g[t+1],g[t+2]);break;default:throw new Error("illegal figure")}}class y extends Y{constructor(u){super(),this._coords=u[2],this._colors=u[3],this._figures=u[4],this._bounds=u[5],this._bbox=u[7],this._background=u[8],this.matrix=null}_createMeshCanvas(u,w,_){const m=Math.floor(this._bounds[0]),o=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-m,x=Math.ceil(this._bounds[3])-o,M=Math.min(Math.ceil(Math.abs(d*u[0]*1.1)),3e3),k=Math.min(Math.ceil(Math.abs(x*u[1]*1.1)),3e3),I=d/M,j=x/k,z={coords:this._coords,colors:this._colors,offsetX:-m,offsetY:-o,scaleX:1/I,scaleY:1/j},q=_.getCanvas("mesh",M+4,k+4,!1),K=q.context,te=K.createImageData(M,k);if(w){const T=te.data;for(let a=0,h=T.length;a<h;a+=4)T[a]=w[0],T[a+1]=w[1],T[a+2]=w[2],T[a+3]=255}for(const T of this._figures)P(te,T,z);return K.putImageData(te,2,2),{canvas:q.canvas,offsetX:m-2*I,offsetY:o-2*j,scaleX:I,scaleY:j}}getPattern(u,w,_,g){let t;if(W(u,this._bbox),g===$.SHADING)t=b.Util.singularValueDecompose2dScale(u.mozCurrentTransform);else if(t=b.Util.singularValueDecompose2dScale(w.baseTransform),this.matrix){const m=b.Util.singularValueDecompose2dScale(this.matrix);t=[t[0]*m[0],t[1]*m[1]]}const n=this._createMeshCanvas(t,g===$.SHADING?null:this._background,w.cachedCanvases);return g!==$.SHADING&&(u.setTransform.apply(u,w.baseTransform),this.matrix&&u.transform.apply(u,this.matrix)),u.translate(n.offsetX,n.offsetY),u.scale(n.scaleX,n.scaleY),u.createPattern(n.canvas,"no-repeat")}}class f extends Y{getPattern(){return"hotpink"}}class i{static get MAX_PATTERN_SIZE(){return(0,b.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(u,w,_,g,t){this.operatorList=u[2],this.matrix=u[3]||[1,0,0,1,0,0],this.bbox=u[4],this.xstep=u[5],this.ystep=u[6],this.paintType=u[7],this.tilingType=u[8],this.color=w,this.ctx=_,this.canvasGraphicsFactory=g,this.baseTransform=t}createPatternCanvas(u){const w=this.operatorList,_=this.bbox,g=this.xstep,t=this.ystep,n=this.paintType,o=this.color,d=this.canvasGraphicsFactory;(0,b.info)("TilingType: "+this.tilingType);const x=_[0],M=_[1],k=_[2],I=_[3],j=b.Util.singularValueDecompose2dScale(this.matrix),z=b.Util.singularValueDecompose2dScale(this.baseTransform),J=[j[0]*z[0],j[1]*z[1]],N=this.getSizeAndScale(g,this.ctx.canvas.width,J[0]),q=this.getSizeAndScale(t,this.ctx.canvas.height,J[1]),K=u.cachedCanvases.getCanvas("pattern",N.size,q.size,!0),te=K.context,se=d.createCanvasGraphics(te);se.groupLevel=u.groupLevel,this.setFillAndStrokeStyleToContext(se,n,o);let T=x,a=M,h=k,e=I;return x<0&&(T=0,h+=Math.abs(x)),M<0&&(a=0,e+=Math.abs(M)),te.translate(-N.scale*T,-q.scale*a),se.transform(N.scale,0,0,q.scale,0,0),te.save(),this.clipBbox(se,T,a,h,e),se.baseTransform=se.ctx.mozCurrentTransform.slice(),se.executeOperatorList(w),se.endDrawing(),{canvas:K.canvas,scaleX:N.scale,scaleY:q.scale,offsetX:T,offsetY:a}}getSizeAndScale(u,w,_){u=Math.abs(u);const g=Math.max(i.MAX_PATTERN_SIZE,w);let t=Math.ceil(u*_);return t>=g?t=g:_=t/u,{scale:_,size:t}}clipBbox(u,w,_,g,t){u.ctx.rect(w,_,g-w,t-_),u.current.updateRectMinMax(u.ctx.mozCurrentTransform,[w,_,g,t]),u.clip(),u.endPath()}setFillAndStrokeStyleToContext(u,w,_){const g=u.ctx,t=u.current;switch(w){case 1:const n=this.ctx;g.fillStyle=n.fillStyle,g.strokeStyle=n.strokeStyle,t.fillColor=n.fillStyle,t.strokeColor=n.strokeStyle;break;case 2:const m=b.Util.makeHexColor(_[0],_[1],_[2]);g.fillStyle=m,g.strokeStyle=m,t.fillColor=m,t.strokeColor=m;break;default:throw new b.FormatError(`Unsupported paint type: ${w}`)}}getPattern(u,w,_,g){let t=_;g!==$.SHADING&&(t=b.Util.transform(t,w.baseTransform),this.matrix&&(t=b.Util.transform(t,this.matrix)));const n=this.createPatternCanvas(w);let m=new DOMMatrix(t);m=m.translate(n.offsetX,n.offsetY),m=m.scale(1/n.scaleX,1/n.scaleY);const o=u.createPattern(n.canvas,"repeat");try{o.setTransform(m)}catch(d){(0,b.warn)(`TilingPattern.getPattern: "${d?.message}".`)}return o}}L.TilingPattern=i},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.applyMaskImageData=function oe({src:$,srcPos:W=0,dest:Y,destPos:F=0,width:c,height:P,inverseDecode:y=!1}){const f=b.FeatureTest.isLittleEndian?4278190080:255,[s,A]=y?[0,f]:[f,0],i=c>>3,r=7&c,u=$.length;Y=new Uint32Array(Y.buffer);for(let w=0;w<P;w++){for(const g=W+i;W<g;W++){const t=W<u?$[W]:255;Y[F++]=128&t?A:s,Y[F++]=64&t?A:s,Y[F++]=32&t?A:s,Y[F++]=16&t?A:s,Y[F++]=8&t?A:s,Y[F++]=4&t?A:s,Y[F++]=2&t?A:s,Y[F++]=1&t?A:s}if(0===r)continue;const _=W<u?$[W++]:255;for(let g=0;g<r;g++)Y[F++]=_&1<<7-g?A:s}return{srcPos:W,destPos:F}};var b=ne(1)},(ue,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.GlobalWorkerOptions=void 0;const ne=Object.create(null);L.GlobalWorkerOptions=ne,ne.workerPort=void 0===ne.workerPort?null:ne.workerPort,ne.workerSrc=void 0===ne.workerSrc?"":ne.workerSrc},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.MessageHandler=void 0;var b=ne(1);function W(F){switch(F instanceof Error||"object"==typeof F&&null!==F||(0,b.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),F.name){case"AbortException":return new b.AbortException(F.message);case"MissingPDFException":return new b.MissingPDFException(F.message);case"PasswordException":return new b.PasswordException(F.message,F.code);case"UnexpectedResponseException":return new b.UnexpectedResponseException(F.message,F.status);case"UnknownErrorException":return new b.UnknownErrorException(F.message,F.details);default:return new b.UnknownErrorException(F.message,F.toString())}}L.MessageHandler=class Y{constructor(c,P,y){this.sourceName=c,this.targetName=P,this.comObj=y,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=f=>{const s=f.data;if(s.targetName!==this.sourceName)return;if(s.stream)return void this._processStreamMessage(s);if(s.callback){const i=s.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],1===s.callback)r.resolve(s.data);else{if(2!==s.callback)throw new Error("Unexpected callback case");r.reject(W(s.reason))}return}const A=this.actionHandler[s.action];if(!A)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const i=this.sourceName,r=s.sourceName;new Promise(function(u){u(A(s.data))}).then(function(u){y.postMessage({sourceName:i,targetName:r,callback:1,callbackId:s.callbackId,data:u})},function(u){y.postMessage({sourceName:i,targetName:r,callback:2,callbackId:s.callbackId,reason:W(u)})})}else s.streamId?this._createStreamSink(s):A(s.data)},y.addEventListener("message",this._onComObjOnMessage)}on(c,P){const y=this.actionHandler;if(y[c])throw new Error(`There is already an actionName called "${c}"`);y[c]=P}send(c,P,y){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,data:P},y)}sendWithPromise(c,P,y){const f=this.callbackId++,s=(0,b.createPromiseCapability)();this.callbackCapabilities[f]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,callbackId:f,data:P},y)}catch(A){s.reject(A)}return s.promise}sendWithStream(c,P,y,f){const s=this.streamId++,A=this.sourceName,i=this.targetName,r=this.comObj;return new ReadableStream({start:u=>{const w=(0,b.createPromiseCapability)();return this.streamControllers[s]={controller:u,startCall:w,pullCall:null,cancelCall:null,isClosed:!1},r.postMessage({sourceName:A,targetName:i,action:c,streamId:s,data:P,desiredSize:u.desiredSize},f),w.promise},pull:u=>{const w=(0,b.createPromiseCapability)();return this.streamControllers[s].pullCall=w,r.postMessage({sourceName:A,targetName:i,stream:6,streamId:s,desiredSize:u.desiredSize}),w.promise},cancel:u=>{(0,b.assert)(u instanceof Error,"cancel must have a valid reason");const w=(0,b.createPromiseCapability)();return this.streamControllers[s].cancelCall=w,this.streamControllers[s].isClosed=!0,r.postMessage({sourceName:A,targetName:i,stream:1,streamId:s,reason:W(u)}),w.promise}},y)}_createStreamSink(c){const P=c.streamId,y=this.sourceName,f=c.sourceName,s=this.comObj,A=this,i=this.actionHandler[c.action],r={enqueue(u,w=1,_){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=w,g>0&&this.desiredSize<=0&&(this.sinkCapability=(0,b.createPromiseCapability)(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:y,targetName:f,stream:4,streamId:P,chunk:u},_)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:y,targetName:f,stream:3,streamId:P}),delete A.streamSinks[P])},error(u){(0,b.assert)(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:y,targetName:f,stream:5,streamId:P,reason:W(u)}))},sinkCapability:(0,b.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:c.desiredSize,ready:null};r.sinkCapability.resolve(),r.ready=r.sinkCapability.promise,this.streamSinks[P]=r,new Promise(function(u){u(i(c.data,r))}).then(function(){s.postMessage({sourceName:y,targetName:f,stream:8,streamId:P,success:!0})},function(u){s.postMessage({sourceName:y,targetName:f,stream:8,streamId:P,reason:W(u)})})}_processStreamMessage(c){const P=c.streamId,y=this.sourceName,f=c.sourceName,s=this.comObj,A=this.streamControllers[P],i=this.streamSinks[P];switch(c.stream){case 8:c.success?A.startCall.resolve():A.startCall.reject(W(c.reason));break;case 7:c.success?A.pullCall.resolve():A.pullCall.reject(W(c.reason));break;case 6:if(!i){s.postMessage({sourceName:y,targetName:f,stream:7,streamId:P,success:!0});break}i.desiredSize<=0&&c.desiredSize>0&&i.sinkCapability.resolve(),i.desiredSize=c.desiredSize,new Promise(function(r){r(i.onPull&&i.onPull())}).then(function(){s.postMessage({sourceName:y,targetName:f,stream:7,streamId:P,success:!0})},function(r){s.postMessage({sourceName:y,targetName:f,stream:7,streamId:P,reason:W(r)})});break;case 4:if((0,b.assert)(A,"enqueue should have stream controller"),A.isClosed)break;A.controller.enqueue(c.chunk);break;case 3:if((0,b.assert)(A,"close should have stream controller"),A.isClosed)break;A.isClosed=!0,A.controller.close(),this._deleteStreamController(A,P);break;case 5:(0,b.assert)(A,"error should have stream controller"),A.controller.error(W(c.reason)),this._deleteStreamController(A,P);break;case 2:c.success?A.cancelCall.resolve():A.cancelCall.reject(W(c.reason)),this._deleteStreamController(A,P);break;case 1:if(!i)break;new Promise(function(r){r(i.onCancel&&i.onCancel(W(c.reason)))}).then(function(){s.postMessage({sourceName:y,targetName:f,stream:2,streamId:P,success:!0})},function(r){s.postMessage({sourceName:y,targetName:f,stream:2,streamId:P,reason:W(r)})}),i.sinkCapability.reject(W(c.reason)),i.isCancelled=!0,delete this.streamSinks[P];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(c,P){var y=this;return _asyncToGenerator(function*(){yield Promise.allSettled([c.startCall&&c.startCall.promise,c.pullCall&&c.pullCall.promise,c.cancelCall&&c.cancelCall.promise]),delete y.streamControllers[P]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(ue,L,ne)=>{var $,W;Object.defineProperty(L,"__esModule",{value:!0}),L.Metadata=void 0;var b=ne(1);$=new WeakMap,W=new WeakMap,L.Metadata=class oe{constructor({parsedData:F,rawData:c}){ve(this,$,void 0),ve(this,W,void 0),Te(this,$,F),Te(this,W,c)}getRaw(){return Ae(this,W)}get(F){return Ae(this,$).get(F)??null}getAll(){return(0,b.objectFromMap)(Ae(this,$))}has(F){return Ae(this,$).has(F)}}},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.OptionalContentConfig=void 0;var b=ne(1);class oe{constructor(Y,F){this.visible=!0,this.name=Y,this.intent=F}}L.OptionalContentConfig=class ${constructor(Y){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==Y){this.name=Y.name,this.creator=Y.creator,this._order=Y.order;for(const F of Y.groups)this._groups.set(F.id,new oe(F.name,F.intent));if("OFF"===Y.baseState)for(const F of this._groups)F.visible=!1;for(const F of Y.on)this._groups.get(F).visible=!0;for(const F of Y.off)this._groups.get(F).visible=!1}}_evaluateVisibilityExpression(Y){const F=Y.length;if(F<2)return!0;const c=Y[0];for(let P=1;P<F;P++){const y=Y[P];let f;if(Array.isArray(y))f=this._evaluateVisibilityExpression(y);else{if(!this._groups.has(y))return(0,b.warn)(`Optional content group not found: ${y}`),!0;f=this._groups.get(y).visible}switch(c){case"And":if(!f)return!1;break;case"Or":if(f)return!0;break;case"Not":return!f;default:return!0}}return"And"===c}isVisible(Y){if(0===this._groups.size)return!0;if(!Y)return(0,b.warn)("Optional content group not defined."),!0;if("OCG"===Y.type)return this._groups.has(Y.id)?this._groups.get(Y.id).visible:((0,b.warn)(`Optional content group not found: ${Y.id}`),!0);if("OCMD"===Y.type){if(Y.expression)return this._evaluateVisibilityExpression(Y.expression);if(!Y.policy||"AnyOn"===Y.policy){for(const F of Y.ids){if(!this._groups.has(F))return(0,b.warn)(`Optional content group not found: ${F}`),!0;if(this._groups.get(F).visible)return!0}return!1}if("AllOn"===Y.policy){for(const F of Y.ids){if(!this._groups.has(F))return(0,b.warn)(`Optional content group not found: ${F}`),!0;if(!this._groups.get(F).visible)return!1}return!0}if("AnyOff"===Y.policy){for(const F of Y.ids){if(!this._groups.has(F))return(0,b.warn)(`Optional content group not found: ${F}`),!0;if(!this._groups.get(F).visible)return!0}return!1}if("AllOff"===Y.policy){for(const F of Y.ids){if(!this._groups.has(F))return(0,b.warn)(`Optional content group not found: ${F}`),!0;if(this._groups.get(F).visible)return!1}return!0}return(0,b.warn)(`Unknown optional content policy ${Y.policy}.`),!0}return(0,b.warn)(`Unknown group type ${Y.type}.`),!0}setVisibility(Y,F=!0){this._groups.has(Y)?this._groups.get(Y).visible=!!F:(0,b.warn)(`Optional content group not found: ${Y}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,b.objectFromMap)(this._groups):null}getGroup(Y){return this._groups.get(Y)||null}}},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFDataTransportStream=void 0;var b=ne(1),oe=ne(5);L.PDFDataTransportStream=class ${constructor(c,P){(0,b.assert)(P,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=c.progressiveDone||!1,this._contentDispositionFilename=c.contentDispositionFilename||null;const y=c.initialData;if(y?.length>0){const f=new Uint8Array(y).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=P,this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._contentLength=c.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((f,s)=>{this._onReceiveData({begin:f,chunk:s})}),this._pdfDataRangeTransport.addProgressListener((f,s)=>{this._onProgress({loaded:f,total:s})}),this._pdfDataRangeTransport.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(c){const P=new Uint8Array(c.chunk).buffer;if(void 0===c.begin)this._fullRequestReader?this._fullRequestReader._enqueue(P):this._queuedChunks.push(P);else{const y=this._rangeReaders.some(function(f){return f._begin===c.begin&&(f._enqueue(P),!0)});(0,b.assert)(y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(c){if(void 0===c.total){const P=this._rangeReaders[0];P?.onProgress&&P.onProgress({loaded:c.loaded})}else{const P=this._fullRequestReader;P?.onProgress&&P.onProgress({loaded:c.loaded,total:c.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(c){const P=this._rangeReaders.indexOf(c);P>=0&&this._rangeReaders.splice(P,1)}getFullReader(){(0,b.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const c=this._queuedChunks;return this._queuedChunks=null,new W(this,c,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(c,P){if(P<=this._progressiveDataLength)return null;const y=new Y(this,c,P);return this._pdfDataRangeTransport.requestDataRange(c,P),this._rangeReaders.push(y),y}cancelAllRequests(c){this._fullRequestReader&&this._fullRequestReader.cancel(c);for(const P of this._rangeReaders.slice(0))P.cancel(c);this._pdfDataRangeTransport.abort()}};class W{constructor(c,P,y=!1,f=null){this._stream=c,this._done=y||!1,this._filename=(0,oe.isPdfFile)(f)?f:null,this._queuedChunks=P||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),c._fullRequestReader=this,this.onProgress=null}_enqueue(c){this._done||(this._requests.length>0?this._requests.shift().resolve({value:c,done:!1}):this._queuedChunks.push(c),this._loaded+=c.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var c=this;return _asyncToGenerator(function*(){if(c._queuedChunks.length>0)return{value:c._queuedChunks.shift(),done:!1};if(c._done)return{value:void 0,done:!0};const P=(0,b.createPromiseCapability)();return c._requests.push(P),P.promise})()}cancel(c){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Y{constructor(c,P,y){this._stream=c,this._begin=P,this._end=y,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(c){if(!this._done){if(0===this._requests.length)this._queuedChunk=c;else{this._requests.shift().resolve({value:c,done:!1});for(const y of this._requests)y.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var c=this;return _asyncToGenerator(function*(){if(c._queuedChunk){const y=c._queuedChunk;return c._queuedChunk=null,{value:y,done:!1}}if(c._done)return{value:void 0,done:!0};const P=(0,b.createPromiseCapability)();return c._requests.push(P),P.promise})()}cancel(c){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(ue,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.XfaText=void 0;class ne{static textContent(oe){const $=[],W={items:$,styles:Object.create(null)};return function Y(F){if(!F)return;let c=null;const P=F.name;if("#text"===P)c=F.value;else{if(!ne.shouldBuildText(P))return;F?.attributes?.textContent?c=F.attributes.textContent:F.value&&(c=F.value)}if(null!==c&&$.push({str:c}),F.children)for(const y of F.children)Y(y)}(oe),W}static shouldBuildText(oe){return!("textarea"===oe||"input"===oe||"option"===oe||"select"===oe)}}L.XfaText=ne},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.NodeStandardFontDataFactory=L.NodeCanvasFactory=L.NodeCMapReaderFactory=void 0;var b=ne(6);const oe=function(F){return new Promise((c,P)=>{__webpack_require__(172).readFile(F,(f,s)=>{!f&&s?c(new Uint8Array(s)):P(new Error(f))})})};L.NodeCanvasFactory=class $ extends b.BaseCanvasFactory{_createCanvas(c,P){return __webpack_require__(3414).createCanvas(c,P)}},L.NodeCMapReaderFactory=class W extends b.BaseCMapReaderFactory{_fetchData(c,P){return oe(c).then(y=>({cMapData:y,compressionType:P}))}},L.NodeStandardFontDataFactory=class Y extends b.BaseStandardFontDataFactory{_fetchData(c){return oe(c)}}},(ue,L,ne)=>{var T,Je;Object.defineProperty(L,"__esModule",{value:!0}),L.AnnotationLayer=void 0;var b=ne(1),oe=ne(5),$=ne(8),W=ne(21),Y=ne(22);const F=1e3,c=new WeakSet;function P(h){return{width:h[2]-h[0],height:h[3]-h[1]}}class y{static create(e){switch(e.data.annotationType){case b.AnnotationType.LINK:return new s(e);case b.AnnotationType.TEXT:return new A(e);case b.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new r(e);case"Btn":return e.data.radioButton?new w(e):e.data.checkBox?new u(e):new _(e);case"Ch":return new g(e)}return new i(e);case b.AnnotationType.POPUP:return new t(e);case b.AnnotationType.FREETEXT:return new m(e);case b.AnnotationType.LINE:return new o(e);case b.AnnotationType.SQUARE:return new d(e);case b.AnnotationType.CIRCLE:return new x(e);case b.AnnotationType.POLYLINE:return new M(e);case b.AnnotationType.CARET:return new I(e);case b.AnnotationType.INK:return new j(e);case b.AnnotationType.POLYGON:return new k(e);case b.AnnotationType.HIGHLIGHT:return new z(e);case b.AnnotationType.UNDERLINE:return new J(e);case b.AnnotationType.SQUIGGLY:return new N(e);case b.AnnotationType.STRIKEOUT:return new q(e);case b.AnnotationType.STAMP:return new K(e);case b.AnnotationType.FILEATTACHMENT:return new te(e);default:return new f(e)}}}class f{constructor(e,{isRenderable:l=!1,ignoreBorder:p=!1,createQuadrilaterals:C=!1}={}){this.isRenderable=l,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,l&&(this.container=this._createContainer(p)),C&&(this.quadrilaterals=this._createQuadrilaterals(p))}_createContainer(e=!1){const l=this.data,p=this.page,C=this.viewport,S=document.createElement("section");let{width:E,height:B}=P(l.rect);S.setAttribute("data-annotation-id",l.id);const U=b.Util.normalizeRect([l.rect[0],p.view[3]-l.rect[1]+p.view[1],l.rect[2],p.view[3]-l.rect[3]+p.view[1]]);if(l.hasOwnCanvas){const V=C.transform.slice(),[H,X]=b.Util.singularValueDecompose2dScale(V);E=Math.ceil(E*H),B=Math.ceil(B*X),U[0]*=H,U[1]*=X;for(let ee=0;ee<4;ee++)V[ee]=Math.sign(V[ee]);S.style.transform=`matrix(${V.join(",")})`}else S.style.transform=`matrix(${C.transform.join(",")})`;if(S.style.transformOrigin=`${-U[0]}px ${-U[1]}px`,!e&&l.borderStyle.width>0){S.style.borderWidth=`${l.borderStyle.width}px`,l.borderStyle.style!==b.AnnotationBorderStyleType.UNDERLINE&&(E-=2*l.borderStyle.width,B-=2*l.borderStyle.width);const V=l.borderStyle.horizontalCornerRadius,H=l.borderStyle.verticalCornerRadius;switch((V>0||H>0)&&(S.style.borderRadius=`${V}px / ${H}px`),l.borderStyle.style){case b.AnnotationBorderStyleType.SOLID:S.style.borderStyle="solid";break;case b.AnnotationBorderStyleType.DASHED:S.style.borderStyle="dashed";break;case b.AnnotationBorderStyleType.BEVELED:(0,b.warn)("Unimplemented border style: beveled");break;case b.AnnotationBorderStyleType.INSET:(0,b.warn)("Unimplemented border style: inset");break;case b.AnnotationBorderStyleType.UNDERLINE:S.style.borderBottomStyle="solid"}l.borderColor||l.color?S.style.borderColor=b.Util.makeHexColor(0|l.color[0],0|l.color[1],0|l.color[2]):S.style.borderWidth=0}return S.style.left=`${U[0]}px`,S.style.top=`${U[1]}px`,l.hasOwnCanvas?S.style.width=S.style.height="auto":(S.style.width=`${E}px`,S.style.height=`${B}px`),S}get _commonActions(){const e=(l,p,C)=>{const S=C.detail[l];C.target.style[p]=W.ColorConverters[`${S[0]}_HTML`](S.slice(1))};return(0,b.shadow)(this,"_commonActions",{display:l=>{const p=l.detail.display%2==1;l.target.style.visibility=p?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:p,print:0===l.detail.display||3===l.detail.display})},print:l=>{this.annotationStorage.setValue(this.data.id,{print:l.detail.print})},hidden:l=>{l.target.style.visibility=l.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:l.detail.hidden})},focus:l=>{setTimeout(()=>l.target.focus({preventScroll:!1}),0)},userName:l=>{l.target.title=l.detail.userName},readonly:l=>{l.detail.readonly?l.target.setAttribute("readonly",""):l.target.removeAttribute("readonly")},required:l=>{l.detail.required?l.target.setAttribute("required",""):l.target.removeAttribute("required")},bgColor:l=>{e("bgColor","backgroundColor",l)},fillColor:l=>{e("fillColor","backgroundColor",l)},fgColor:l=>{e("fgColor","color",l)},textColor:l=>{e("textColor","color",l)},borderColor:l=>{e("borderColor","borderColor",l)},strokeColor:l=>{e("strokeColor","borderColor",l)}})}_dispatchEventFromSandbox(e,l){const p=this._commonActions;for(const C of Object.keys(l.detail)){const S=e[C]||p[C];S&&S(l)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const l=this.annotationStorage.getRawValue(this.data.id);if(!l)return;const p=this._commonActions;for(const[C,S]of Object.entries(l)){const E=p[C];E&&(E({detail:S,target:e}),delete l[C])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const l=[],p=this.data.rect;for(const C of this.data.quadPoints)this.data.rect=[C[2].x,C[2].y,C[1].x,C[1].y],l.push(this._createContainer(e));return this.data.rect=p,l}_createPopup(e,l){let p=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,p=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=p.style.height,e.style.width=p.style.width,p.appendChild(e));const S=new n({container:p,trigger:e,color:l.color,titleObj:l.titleObj,modificationDate:l.modificationDate,contentsObj:l.contentsObj,richText:l.richText,hideWrapper:!0}).render();S.style.left=p.style.width,p.appendChild(S)}_renderQuadrilaterals(e){for(const l of this.quadrilaterals)l.className=e;return this.quadrilaterals}render(){(0,b.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,l=null){const p=[];if(this._fieldObjects){const C=this._fieldObjects[e];if(C)for(const{page:S,id:E,exportValues:B}of C){if(-1===S||E===l)continue;const U="string"==typeof B?B:null,V=document.getElementById(E);!V||c.has(V)?p.push({id:E,exportValue:U,domElement:V}):(0,b.warn)(`_getElementsByName - element not allowed: ${E}`)}return p}for(const C of document.getElementsByName(e)){const{id:S,exportValue:E}=C;S!==l&&(!c.has(C)||p.push({id:S,exportValue:E,domElement:C}))}return p}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,b.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class s extends f{constructor(e,l=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!l?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:l}=this,p=document.createElement("a");if(e.url)l.addLinkAttributes(p,e.url,e.newWindow);else if(e.action)this._bindNamedAction(p,e.action);else if(e.dest)this._bindLink(p,e.dest);else{let C=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(C=!0,this._bindJSAction(p,e)),e.resetForm?this._bindResetFormAction(p,e.resetForm):C||this._bindLink(p,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((C,S)=>{const E=0===S?p:p.cloneNode();return C.appendChild(E),C}):(this.container.className="linkAnnotation",this.container.appendChild(p),this.container)}_bindLink(e,l){e.href=this.linkService.getDestinationHash(l),e.onclick=()=>(l&&this.linkService.goToDestination(l),!1),(l||""===l)&&(e.className="internalLink")}_bindNamedAction(e,l){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(l),!1),e.className="internalLink"}_bindJSAction(e,l){e.href=this.linkService.getAnchorUrl("");const p=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const C of Object.keys(l.actions)){const S=p.get(C);!S||(e[S]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l.id,name:C}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,l){const p=e.onclick;if(p||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,b.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(p||(e.onclick=()=>!1));e.onclick=()=>{p&&p();const{fields:C,refs:S,include:E}=l,B=[];if(0!==C.length||0!==S.length){const H=new Set(S);for(const X of C){const ee=this._fieldObjects[X]||[];for(const{id:ce}of ee)H.add(ce)}for(const X of Object.values(this._fieldObjects))for(const ee of X)H.has(ee.id)===E&&B.push(ee)}else for(const H of Object.values(this._fieldObjects))B.push(...H);const U=this.annotationStorage,V=[];for(const H of B){const{id:X}=H;switch(V.push(X),H.type){case"text":case"combobox":case"listbox":U.setValue(X,{value:H.defaultValue||""});break;case"checkbox":case"radiobutton":U.setValue(X,{value:H.defaultValue===H.exportValues});break;default:continue}const ee=document.getElementById(X);!ee||!c.has(ee)||ee.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:V,name:"ResetForm"}}),!1}}}class A extends f{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class i extends f{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:l,isMac:p}=f.platform;return l&&e.ctrlKey||p&&e.metaKey}_setEventListener(e,l,p,C){l.includes("mouse")?e.addEventListener(l,S=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:p,value:C(S),shift:S.shiftKey,modifier:this._getKeyModifier(S)}})}):e.addEventListener(l,S=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:p,value:C(S)}})})}_setEventListeners(e,l,p){for(const[C,S]of l)("Action"===S||this.data.actions?.[S])&&this._setEventListener(e,C,S,p)}_setBackgroundColor(e){const l=this.data.backgroundColor||null;e.style.backgroundColor=null===l?"transparent":b.Util.makeHexColor(l[0],l[1],l[2])}}class r extends i{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,l,p,C){const S=this.annotationStorage;for(const E of this._getElementsByName(e.name,e.id))E.domElement&&(E.domElement[l]=p),S.setValue(E.id,{[C]:p})}render(){const e=this.annotationStorage,l=this.data.id;this.container.className="textWidgetAnnotation";let p=null;if(this.renderForms){const C=e.getValue(l,{value:this.data.fieldValue}),S=C.formattedValue||C.value||"",E={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(p=document.createElement("textarea"),p.textContent=S):(p=document.createElement("input"),p.type="text",p.setAttribute("value",S)),c.add(p),p.disabled=this.data.readOnly,p.name=this.data.fieldName,p.tabIndex=F,E.userValue=S,p.setAttribute("id",l),p.addEventListener("input",U=>{e.setValue(l,{value:U.target.value}),this.setPropertyOnSiblings(p,"value",U.target.value,"value")}),p.addEventListener("resetform",U=>{p.value=E.userValue=this.data.defaultFieldValue??"",E.formattedValue=null});let B=U=>{const{formattedValue:V}=E;null!=V&&(U.target.value=V),U.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){p.addEventListener("focus",V=>{E.userValue&&(V.target.value=E.userValue),E.valueOnFocus=V.target.value}),p.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value(X){E.userValue=X.detail.value??"",e.setValue(l,{value:E.userValue.toString()}),X.target.value=E.userValue},formattedValue(X){const{formattedValue:ee}=X.detail;E.formattedValue=ee,null!=ee&&X.target!==document.activeElement&&(X.target.value=ee),e.setValue(l,{formattedValue:ee})},selRange(X){X.target.setSelectionRange(...X.detail.selRange)}},V)}),p.addEventListener("keydown",V=>{let H=-1;if("Escape"===V.key?H=0:"Enter"===V.key?H=2:"Tab"===V.key&&(H=3),-1===H)return;const{value:X}=V.target;E.valueOnFocus!==X&&(E.userValue=X,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:X,willCommit:!0,commitKey:H,selStart:V.target.selectionStart,selEnd:V.target.selectionEnd}}))});const U=B;B=null,p.addEventListener("blur",V=>{const{value:H}=V.target;E.userValue=H,this._mouseState.isDown&&E.valueOnFocus!==H&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:H,willCommit:!0,commitKey:1,selStart:V.target.selectionStart,selEnd:V.target.selectionEnd}}),U(V)}),this.data.actions?.Keystroke&&p.addEventListener("beforeinput",V=>{const{data:H,target:X}=V,{value:ee,selectionStart:ce,selectionEnd:be}=X;let Q=ce,re=be;switch(V.inputType){case"deleteWordBackward":{const ie=ee.substring(0,ce).match(/\w*[^\w]*$/);ie&&(Q-=ie[0].length);break}case"deleteWordForward":{const ie=ee.substring(ce).match(/^[^\w]*\w*/);ie&&(re+=ie[0].length);break}case"deleteContentBackward":ce===be&&(Q-=1);break;case"deleteContentForward":ce===be&&(re+=1)}V.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:ee,change:H||"",willCommit:!1,selStart:Q,selEnd:re}})}),this._setEventListeners(p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],V=>V.target.value)}if(B&&p.addEventListener("blur",B),null!==this.data.maxLen&&(p.maxLength=this.data.maxLen),this.data.comb){const V=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;p.classList.add("comb"),p.style.letterSpacing=`calc(${V}px - 1ch)`}}else p=document.createElement("div"),p.textContent=this.data.fieldValue,p.style.verticalAlign="middle",p.style.display="table-cell";return this._setTextStyle(p),this._setBackgroundColor(p),this._setDefaultPropertiesFromJS(p),this.container.appendChild(p),this.container}_setTextStyle(e){const{fontSize:p,fontColor:C}=this.data.defaultAppearanceData,S=e.style;p&&(S.fontSize=`${p}px`),S.color=b.Util.makeHexColor(C[0],C[1],C[2]),null!==this.data.textAlignment&&(S.textAlign=["left","center","right"][this.data.textAlignment])}}class u extends i{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,l=this.data,p=l.id;let C=e.getValue(p,{value:l.exportValue===l.fieldValue}).value;"string"==typeof C&&(C="Off"!==C,e.setValue(p,{value:C})),this.container.className="buttonWidgetAnnotation checkBox";const S=document.createElement("input");return c.add(S),S.disabled=l.readOnly,S.type="checkbox",S.name=l.fieldName,C&&S.setAttribute("checked",!0),S.setAttribute("id",p),S.setAttribute("exportValue",l.exportValue),S.tabIndex=F,S.addEventListener("change",E=>{const{name:B,checked:U}=E.target;for(const V of this._getElementsByName(B,p)){const H=U&&V.exportValue===l.exportValue;V.domElement&&(V.domElement.checked=H),e.setValue(V.id,{value:H})}e.setValue(p,{value:U})}),S.addEventListener("resetform",E=>{E.target.checked=(l.defaultFieldValue||"Off")===l.exportValue}),this.enableScripting&&this.hasJSActions&&(S.addEventListener("updatefromsandbox",E=>{this._dispatchEventFromSandbox({value(U){U.target.checked="Off"!==U.detail.value,e.setValue(p,{value:U.target.checked})}},E)}),this._setEventListeners(S,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.checked)),this._setBackgroundColor(S),this._setDefaultPropertiesFromJS(S),this.container.appendChild(S),this.container}}class w extends i{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,l=this.data,p=l.id;let C=e.getValue(p,{value:l.fieldValue===l.buttonValue}).value;"string"==typeof C&&(C=C!==l.buttonValue,e.setValue(p,{value:C}));const S=document.createElement("input");if(c.add(S),S.disabled=l.readOnly,S.type="radio",S.name=l.fieldName,C&&S.setAttribute("checked",!0),S.setAttribute("id",p),S.tabIndex=F,S.addEventListener("change",E=>{const{name:B,checked:U}=E.target;for(const V of this._getElementsByName(B,p))e.setValue(V.id,{value:!1});e.setValue(p,{value:U})}),S.addEventListener("resetform",E=>{const B=l.defaultFieldValue;E.target.checked=null!=B&&B===l.buttonValue}),this.enableScripting&&this.hasJSActions){const E=l.buttonValue;S.addEventListener("updatefromsandbox",B=>{this._dispatchEventFromSandbox({value:V=>{const H=E===V.detail.value;for(const X of this._getElementsByName(V.target.name)){const ee=H&&X.id===p;X.domElement&&(X.domElement.checked=ee),e.setValue(X.id,{value:ee})}}},B)}),this._setEventListeners(S,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],B=>B.target.checked)}return this._setBackgroundColor(S),this._setDefaultPropertiesFromJS(S),this.container.appendChild(S),this.container}}class _ extends s{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class g extends i{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,l=this.data.id,p=e.getValue(l,{value:this.data.fieldValue});let{fontSize:C}=this.data.defaultAppearanceData;C||(C=9);const S=`calc(${C}px * var(--zoom-factor))`,E=document.createElement("select");c.add(E),E.disabled=this.data.readOnly,E.name=this.data.fieldName,E.setAttribute("id",l),E.tabIndex=F,E.style.fontSize=`${C}px`,this.data.combo||(E.size=this.data.options.length,this.data.multiSelect&&(E.multiple=!0)),E.addEventListener("resetform",V=>{const H=this.data.defaultFieldValue;for(const X of E.options)X.selected=X.value===H});for(const V of this.data.options){const H=document.createElement("option");H.textContent=V.displayValue,H.value=V.exportValue,this.data.combo&&(H.style.fontSize=S),p.value.includes(V.exportValue)&&H.setAttribute("selected",!0),E.appendChild(H)}const B=(V,H)=>{const X=H?"value":"textContent",ee=V.target.options;return V.target.multiple?Array.prototype.filter.call(ee,ce=>ce.selected).map(ce=>ce[X]):-1===ee.selectedIndex?null:ee[ee.selectedIndex][X]},U=V=>Array.prototype.map.call(V.target.options,X=>({displayValue:X.textContent,exportValue:X.value}));return this.enableScripting&&this.hasJSActions?(E.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value(X){const ee=X.detail.value,ce=new Set(Array.isArray(ee)?ee:[ee]);for(const be of E.options)be.selected=ce.has(be.value);e.setValue(l,{value:B(X,!0)})},multipleSelection(X){E.multiple=!0},remove(X){const ee=E.options,ce=X.detail.remove;ee[ce].selected=!1,E.remove(ce),ee.length>0&&-1===Array.prototype.findIndex.call(ee,Q=>Q.selected)&&(ee[0].selected=!0),e.setValue(l,{value:B(X,!0),items:U(X)})},clear(X){for(;0!==E.length;)E.remove(0);e.setValue(l,{value:null,items:[]})},insert(X){const{index:ee,displayValue:ce,exportValue:be}=X.detail.insert,Q=document.createElement("option");Q.textContent=ce,Q.value=be,E.insertBefore(Q,E.children[ee]),e.setValue(l,{value:B(X,!0),items:U(X)})},items(X){const{items:ee}=X.detail;for(;0!==E.length;)E.remove(0);for(const ce of ee){const{displayValue:be,exportValue:Q}=ce,re=document.createElement("option");re.textContent=be,re.value=Q,E.appendChild(re)}E.options.length>0&&(E.options[0].selected=!0),e.setValue(l,{value:B(X,!0),items:U(X)})},indices(X){const ee=new Set(X.detail.indices);for(const ce of X.target.options)ce.selected=ee.has(ce.index);e.setValue(l,{value:B(X,!0)})},editable(X){X.target.disabled=!X.detail.editable}},V)}),E.addEventListener("input",V=>{const H=B(V,!0),X=B(V,!1);e.setValue(l,{value:H}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:l,name:"Keystroke",value:X,changeEx:H,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(E,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],V=>V.target.checked)):E.addEventListener("input",function(V){e.setValue(l,{value:B(V,!0)})}),this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.appendChild(E),this.container}}class t extends f{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const p=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===p.length)return this.container;const C=new n({container:this.container,trigger:Array.from(p),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),S=this.page,E=b.Util.normalizeRect([this.data.parentRect[0],S.view[3]-this.data.parentRect[1]+S.view[1],this.data.parentRect[2],S.view[3]-this.data.parentRect[3]+S.view[1]]),B=E[0]+this.data.parentRect[2]-this.data.parentRect[0],U=E[1];return this.container.style.transformOrigin=`${-B}px ${-U}px`,this.container.style.left=`${B}px`,this.container.style.top=`${U}px`,this.container.appendChild(C.render()),this.container}}class n{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const l=document.createElement("div");l.className="popupWrapper",this.hideElement=this.hideWrapper?l:this.container,this.hideElement.hidden=!0;const p=document.createElement("div");p.className="popup";const C=this.color;C&&(p.style.backgroundColor=b.Util.makeHexColor(0|.7*(255-C[0])+C[0],0|.7*(255-C[1])+C[1],0|.7*(255-C[2])+C[2]));const S=document.createElement("h1");S.dir=this.titleObj.dir,S.textContent=this.titleObj.str,p.appendChild(S);const E=oe.PDFDateString.toDateObject(this.modificationDate);if(E){const B=document.createElement("span");B.className="popupDate",B.textContent="{{date}}, {{time}}",B.dataset.l10nId="annotation_date_string",B.dataset.l10nArgs=JSON.stringify({date:E.toLocaleDateString(),time:E.toLocaleTimeString()}),p.appendChild(B)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const B=this._formatContents(this.contentsObj);p.appendChild(B)}else Y.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:p}),p.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const B of this.trigger)B.addEventListener("click",this._toggle.bind(this)),B.addEventListener("mouseover",this._show.bind(this,!1)),B.addEventListener("mouseout",this._hide.bind(this,!1));return p.addEventListener("click",this._hide.bind(this,!0)),l.appendChild(p),l}_formatContents({str:e,dir:l}){const p=document.createElement("p");p.className="popupContent",p.dir=l;const C=e.split(/(?:\r\n?|\n)/);for(let S=0,E=C.length;S<E;++S)p.appendChild(document.createTextNode(C[S])),S<E-1&&p.appendChild(document.createElement("br"));return p}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class m extends f{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class o extends f{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:l,height:p}=P(e.rect),C=this.svgFactory.create(l,p),S=this.svgFactory.createElement("svg:line");return S.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),S.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),S.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),S.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),S.setAttribute("stroke-width",e.borderStyle.width||1),S.setAttribute("stroke","transparent"),S.setAttribute("fill","transparent"),C.appendChild(S),this.container.append(C),this._createPopup(S,e),this.container}}class d extends f{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:l,height:p}=P(e.rect),C=this.svgFactory.create(l,p),S=e.borderStyle.width,E=this.svgFactory.createElement("svg:rect");return E.setAttribute("x",S/2),E.setAttribute("y",S/2),E.setAttribute("width",l-S),E.setAttribute("height",p-S),E.setAttribute("stroke-width",S||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),C.appendChild(E),this.container.append(C),this._createPopup(E,e),this.container}}class x extends f{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:l,height:p}=P(e.rect),C=this.svgFactory.create(l,p),S=e.borderStyle.width,E=this.svgFactory.createElement("svg:ellipse");return E.setAttribute("cx",l/2),E.setAttribute("cy",p/2),E.setAttribute("rx",l/2-S/2),E.setAttribute("ry",p/2-S/2),E.setAttribute("stroke-width",S||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),C.appendChild(E),this.container.append(C),this._createPopup(E,e),this.container}}class M extends f{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:l,height:p}=P(e.rect),C=this.svgFactory.create(l,p);let S=[];for(const B of e.vertices)S.push(B.x-e.rect[0]+","+(e.rect[3]-B.y));S=S.join(" ");const E=this.svgFactory.createElement(this.svgElementName);return E.setAttribute("points",S),E.setAttribute("stroke-width",e.borderStyle.width||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),C.appendChild(E),this.container.append(C),this._createPopup(E,e),this.container}}class k extends M{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class I extends f{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class j extends f{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:l,height:p}=P(e.rect),C=this.svgFactory.create(l,p);for(const S of e.inkLists){let E=[];for(const U of S)E.push(`${U.x-e.rect[0]},${e.rect[3]-U.y}`);E=E.join(" ");const B=this.svgFactory.createElement(this.svgElementName);B.setAttribute("points",E),B.setAttribute("stroke-width",e.borderStyle.width||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),this._createPopup(B,e),C.appendChild(B)}return this.container.append(C),this.container}}class z extends f{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class J extends f{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class N extends f{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class q extends f{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class K extends f{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class te extends f{constructor(e){super(e,{isRenderable:!0});const{filename:l,content:p}=this.data.file;this.filename=(0,oe.getFilenameFromUrl)(l),this.content=p,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:l,content:p})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class se{static render(e){const l=[],p=[];for(const S of e.annotations){if(!S)continue;const{width:E,height:B}=P(S.rect);if(!(E<=0||B<=0)){if(S.annotationType===b.AnnotationType.POPUP){p.push(S);continue}l.push(S)}}p.length&&l.push(...p);const C=e.div;for(const S of l){const E=y.create({data:S,layer:C,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new oe.DOMSVGFactory,annotationStorage:e.annotationStorage||new $.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(E.isRenderable){const B=E.render();if(S.hidden&&(B.style.visibility="hidden"),Array.isArray(B))for(const U of B)C.appendChild(U);else E instanceof t?C.prepend(B):C.appendChild(B)}}ye(this,T,Je).call(this,C,e.annotationCanvasMap)}static update(e){const{page:l,viewport:p,annotations:C,annotationCanvasMap:S,div:E}=e,B=p.transform,U=`matrix(${B.join(",")})`;let V,H;for(const X of C){const ee=E.querySelectorAll(`[data-annotation-id="${X.id}"]`);if(ee)for(const ce of ee)if(X.hasOwnCanvas){const be=b.Util.normalizeRect([X.rect[0],l.view[3]-X.rect[1]+l.view[1],X.rect[2],l.view[3]-X.rect[3]+l.view[1]]);if(!H){V=Math.abs(B[0]||B[1]);const ie=B.slice();for(let v=0;v<4;v++)ie[v]=Math.sign(ie[v]);H=`matrix(${ie.join(",")})`}const Q=be[0]*V,re=be[1]*V;ce.style.left=`${Q}px`,ce.style.top=`${re}px`,ce.style.transformOrigin=`${-Q}px ${-re}px`,ce.style.transform=H}else ce.style.transform=U}ye(this,T,Je).call(this,E,S),E.hidden=!1}}T=new WeakSet,Je=function(e,l){if(l){for(const[p,C]of l){const S=e.querySelector(`[data-annotation-id="${p}"]`);if(!S)continue;const{firstChild:E}=S;"CANVAS"===E.nodeName?S.replaceChild(C,E):S.insertBefore(C,E)}l.clear()}},ve(se,T),L.AnnotationLayer=se},(ue,L)=>{function ne(oe){return Math.floor(255*Math.max(0,Math.min(1,oe))).toString(16).padStart(2,"0")}Object.defineProperty(L,"__esModule",{value:!0}),L.ColorConverters=void 0,L.ColorConverters=class b{static CMYK_G([$,W,Y,F]){return["G",1-Math.min(1,.3*$+.59*Y+.11*W+F)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_HTML([$]){const W=ne($);return`#${W}${W}${W}`}static RGB_G([$,W,Y]){return["G",.3*$+.59*W+.11*Y]}static RGB_HTML([$,W,Y]){return`#${ne($)}${ne(W)}${ne(Y)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([$,W,Y,F]){return["RGB",1-Math.min(1,$+F),1-Math.min(1,Y+F),1-Math.min(1,W+F)]}static CMYK_HTML($){return this.RGB_HTML(this.CMYK_RGB($))}static RGB_CMYK([$,W,Y]){const F=1-$,c=1-W,P=1-Y;return["CMYK",F,c,P,Math.min(F,c,P)]}}},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.XfaLayer=void 0;var b=ne(18);L.XfaLayer=class oe{static setupStorage(W,Y,F,c,P){const y=c.getValue(Y,{value:null});switch(F.name){case"textarea":if(null!==y.value&&(W.textContent=y.value),"print"===P)break;W.addEventListener("input",f=>{c.setValue(Y,{value:f.target.value})});break;case"input":if("radio"===F.attributes.type||"checkbox"===F.attributes.type){if(y.value===F.attributes.xfaOn?W.setAttribute("checked",!0):y.value===F.attributes.xfaOff&&W.removeAttribute("checked"),"print"===P)break;W.addEventListener("change",f=>{c.setValue(Y,{value:f.target.getAttribute(f.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==y.value&&W.setAttribute("value",y.value),"print"===P)break;W.addEventListener("input",f=>{c.setValue(Y,{value:f.target.value})})}break;case"select":if(null!==y.value)for(const f of F.children)f.attributes.value===y.value&&(f.attributes.selected=!0);W.addEventListener("input",f=>{const s=f.target.options;c.setValue(Y,{value:-1===s.selectedIndex?"":s[s.selectedIndex].value})})}}static setAttributes({html:W,element:Y,storage:F=null,intent:c,linkService:P}){const{attributes:y}=Y,f=W instanceof HTMLAnchorElement;"radio"===y.type&&(y.name=`${y.name}-${c}`);for(const[s,A]of Object.entries(y))if(null!=A&&"dataId"!==s)if("style"!==s)if("textContent"===s)W.textContent=A;else if("class"===s)A.length&&W.setAttribute(s,A.join(" "));else{if(f&&("href"===s||"newWindow"===s))continue;W.setAttribute(s,A)}else Object.assign(W.style,A);f&&P.addLinkAttributes(W,y.href,y.newWindow),F&&y.dataId&&this.setupStorage(W,y.dataId,Y,F)}static render(W){const Y=W.annotationStorage,F=W.linkService,c=W.xfaHtml,P=W.intent||"display",y=document.createElement(c.name);c.attributes&&this.setAttributes({html:y,element:c,intent:P,linkService:F});const f=[[c,-1,y]],s=W.div;if(s.appendChild(y),W.viewport){const i=`matrix(${W.viewport.transform.join(",")})`;s.style.transform=i}"richText"!==P&&s.setAttribute("class","xfaLayer xfaFont");const A=[];for(;f.length>0;){const[i,r,u]=f[f.length-1];if(r+1===i.children.length){f.pop();continue}const w=i.children[++f[f.length-1][1]];if(null===w)continue;const{name:_}=w;if("#text"===_){const t=document.createTextNode(w.value);A.push(t),u.appendChild(t);continue}let g;if(g=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,_):document.createElement(_),u.appendChild(g),w.attributes&&this.setAttributes({html:g,element:w,storage:Y,intent:P,linkService:F}),w.children&&w.children.length>0)f.push([w,-1,g]);else if(w.value){const t=document.createTextNode(w.value);b.XfaText.shouldBuildText(_)&&A.push(t),g.appendChild(t)}}for(const i of s.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))i.setAttribute("readOnly",!0);return{textDivs:A}}static update(W){const Y=`matrix(${W.viewport.transform.join(",")})`;W.div.style.transform=Y,W.div.hidden=!1}}},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.renderTextLayer=function u(w){const _=new r({textContent:w.textContent,textContentStream:w.textContentStream,container:w.container,viewport:w.viewport,textDivs:w.textDivs,textContentItemsStr:w.textContentItemsStr,enhanceTextSelection:w.enhanceTextSelection});return _._render(w.timeout),_};var b=ne(1);const $=30,Y=new Map,F=/^\s+$/g;function P(w,_,g,t){const n=document.createElement("span"),m=w._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==_.str,hasEOL:_.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==_.str,hasEOL:_.hasEOL};w._textDivs.push(n);const o=b.Util.transform(w._viewport.transform,_.transform);let d=Math.atan2(o[1],o[0]);const x=g[_.fontName];x.vertical&&(d+=Math.PI/2);const M=Math.hypot(o[2],o[3]),k=M*function c(w,_){const g=Y.get(w);if(g)return g;_.save(),_.font=`30px ${w}`;const t=_.measureText("");let n=t.fontBoundingBoxAscent,m=Math.abs(t.fontBoundingBoxDescent);if(n){_.restore();const d=n/(n+m);return Y.set(w,d),d}_.strokeStyle="red",_.clearRect(0,0,$,$),_.strokeText("g",0,0);let o=_.getImageData(0,0,$,$).data;m=0;for(let d=o.length-1-3;d>=0;d-=4)if(o[d]>0){m=Math.ceil(d/4/$);break}_.clearRect(0,0,$,$),_.strokeText("A",0,$),o=_.getImageData(0,0,$,$).data,n=0;for(let d=0,x=o.length;d<x;d+=4)if(o[d]>0){n=$-Math.floor(d/4/$);break}if(_.restore(),n){const d=n/(n+m);return Y.set(w,d),d}return Y.set(w,.8),.8}(x.fontFamily,t);let I,j;0===d?(I=o[4],j=o[5]-k):(I=o[4]+k*Math.sin(d),j=o[5]-k*Math.cos(d)),n.style.left=`${I}px`,n.style.top=`${j}px`,n.style.fontSize=`${M}px`,n.style.fontFamily=x.fontFamily,n.setAttribute("role","presentation"),n.textContent=_.str,n.dir=_.dir,w._fontInspectorEnabled&&(n.dataset.fontName=_.fontName),0!==d&&(m.angle=d*(180/Math.PI));let z=!1;if(_.str.length>1||w._enhanceTextSelection&&F.test(_.str))z=!0;else if(" "!==_.str&&_.transform[0]!==_.transform[3]){const J=Math.abs(_.transform[0]),N=Math.abs(_.transform[3]);J!==N&&Math.max(J,N)/Math.min(J,N)>1.5&&(z=!0)}if(z&&(m.canvasWidth=x.vertical?_.height*w._viewport.scale:_.width*w._viewport.scale),w._textDivProperties.set(n,m),w._textContentStream&&w._layoutText(n),w._enhanceTextSelection&&m.hasText){let J=1,N=0;0!==d&&(J=Math.cos(d),N=Math.sin(d));const q=(x.vertical?_.height:_.width)*w._viewport.scale,K=M;let te,se;0!==d?(te=[J,N,-N,J,I,j],se=b.Util.getAxialAlignedBoundingBox([0,0,q,K],te)):se=[I,j,I+q,j+K],w._bounds.push({left:se[0],top:se[1],right:se[2],bottom:se[3],div:n,size:[q,K],m:te})}}function y(w){if(w._canceled)return;const _=w._textDivs,g=w._capability,t=_.length;if(t>1e5)return w._renderingDone=!0,void g.resolve();if(!w._textContentStream)for(let n=0;n<t;n++)w._layoutText(_[n]);w._renderingDone=!0,g.resolve()}function f(w,_,g){let t=0;for(let n=0;n<g;n++){const m=w[_++];m>0&&(t=t?Math.min(m,t):m)}return t}function i(w,_){_.sort(function(n,m){return n.x1-m.x1||n.index-m.index});const t=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const n of _){let m=0;for(;m<t.length&&t[m].end<=n.y1;)m++;let o=t.length-1;for(;o>=0&&t[o].start>=n.y2;)o--;let d,x,M,k,I=-1/0;for(M=m;M<=o;M++){let J;d=t[M],x=d.boundary,J=x.x2>n.x1?x.index>n.index?x.x1New:n.x1:void 0===x.x2New?(x.x2+n.x1)/2:x.x2New,J>I&&(I=J)}for(n.x1New=I,M=m;M<=o;M++)d=t[M],x=d.boundary,void 0===x.x2New?x.x2>n.x1?x.index>n.index&&(x.x2New=x.x2):x.x2New=I:x.x2New>I&&(x.x2New=Math.max(I,x.x2));const j=[];let z=null;for(M=m;M<=o;M++){d=t[M],x=d.boundary;const J=x.x2>n.x2?x:n;z===J?j[j.length-1].end=d.end:(j.push({start:d.start,end:d.end,boundary:J}),z=J)}for(t[m].start<n.y1&&(j[0].start=n.y1,j.unshift({start:t[m].start,end:n.y1,boundary:t[m].boundary})),n.y2<t[o].end&&(j[j.length-1].end=n.y2,j.push({start:n.y2,end:t[o].end,boundary:t[o].boundary})),M=m;M<=o;M++){if(d=t[M],x=d.boundary,void 0!==x.x2New)continue;let J=!1;for(k=m-1;!J&&k>=0&&t[k].start>=x.y1;k--)J=t[k].boundary===x;for(k=o+1;!J&&k<t.length&&t[k].end<=x.y2;k++)J=t[k].boundary===x;for(k=0;!J&&k<j.length;k++)J=j[k].boundary===x;J||(x.x2New=I)}Array.prototype.splice.apply(t,[m,o-m+1].concat(j))}for(const n of t){const m=n.boundary;void 0===m.x2New&&(m.x2New=Math.max(w,m.x2))}}class r{constructor({textContent:_,textContentStream:g,container:t,viewport:n,textDivs:m,textContentItemsStr:o,enhanceTextSelection:d}){this._textContent=_,this._textContentStream=g,this._container=t,this._document=t.ownerDocument,this._viewport=n,this._textDivs=m||[],this._textContentItemsStr=o||[],this._enhanceTextSelection=!!d,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,b.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new b.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(_,g){for(let t=0,n=_.length;t<n;t++)if(void 0!==_[t].str)this._textContentItemsStr.push(_[t].str),P(this,_[t],g,this._layoutTextCtx);else if("beginMarkedContentProps"===_[t].type||"beginMarkedContent"===_[t].type){const m=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==_[t].id&&this._container.setAttribute("id",`${_[t].id}`),m.appendChild(this._container)}else"endMarkedContent"===_[t].type&&(this._container=this._container.parentNode)}_layoutText(_){const g=this._textDivProperties.get(_);let t="";if(0!==g.canvasWidth&&g.hasText){const{fontSize:n,fontFamily:m}=_.style;(n!==this._layoutTextLastFontSize||m!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${n} ${m}`,this._layoutTextLastFontSize=n,this._layoutTextLastFontFamily=m);const{width:o}=this._layoutTextCtx.measureText(_.textContent);if(o>0){const d=g.canvasWidth/o;this._enhanceTextSelection&&(g.scale=d),t=`scaleX(${d})`}}if(0!==g.angle&&(t=`rotate(${g.angle}deg) ${t}`),t.length>0&&(this._enhanceTextSelection&&(g.originalTransform=t),_.style.transform=t),g.hasText&&this._container.appendChild(_),g.hasEOL){const n=document.createElement("br");n.setAttribute("role","presentation"),this._container.appendChild(n)}}_render(_=0){const g=(0,b.createPromiseCapability)();let t=Object.create(null);const n=this._document.createElement("canvas");if(n.height=n.width=$,this._layoutTextCtx=n.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),g.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const m=()=>{this._reader.read().then(({value:o,done:d})=>{d?g.resolve():(Object.assign(t,o.styles),this._processItems(o.items,t),m())},g.reject)};this._reader=this._textContentStream.getReader(),m()}}g.promise.then(()=>{t=null,_?this._renderTimer=setTimeout(()=>{y(this),this._renderTimer=null},_):y(this)},this._capability.reject)}expandTextDivs(_=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function s(w){const _=w._bounds,g=w._viewport,t=function A(w,_,g){const t=g.map(function(m,o){return{x1:m.left,y1:m.top,x2:m.right,y2:m.bottom,index:o,x1New:void 0,x2New:void 0}});i(w,t);const n=new Array(g.length);for(const m of t)n[m.index]={left:m.x1New,top:0,right:m.x2New,bottom:0};g.map(function(m,o){const d=n[o],x=t[o];x.x1=m.top,x.y1=w-d.right,x.x2=m.bottom,x.y2=w-d.left,x.index=o,x.x1New=void 0,x.x2New=void 0}),i(_,t);for(const m of t){const o=m.index;n[o].top=m.x1New,n[o].bottom=m.x2New}return n}(g.width,g.height,_);for(let n=0;n<t.length;n++){const m=_[n].div,o=w._textDivProperties.get(m);if(0===o.angle){o.paddingLeft=_[n].left-t[n].left,o.paddingTop=_[n].top-t[n].top,o.paddingRight=t[n].right-_[n].right,o.paddingBottom=t[n].bottom-_[n].bottom,w._textDivProperties.set(m,o);continue}const d=t[n],x=_[n],M=x.m,k=M[0],I=M[1],j=[[0,0],[0,x.size[1]],[x.size[0],0],x.size],z=new Float64Array(64);for(let N=0,q=j.length;N<q;N++){const K=b.Util.applyTransform(j[N],M);z[N+0]=k&&(d.left-K[0])/k,z[N+4]=I&&(d.top-K[1])/I,z[N+8]=k&&(d.right-K[0])/k,z[N+12]=I&&(d.bottom-K[1])/I,z[N+16]=I&&(d.left-K[0])/-I,z[N+20]=k&&(d.top-K[1])/k,z[N+24]=I&&(d.right-K[0])/-I,z[N+28]=k&&(d.bottom-K[1])/k,z[N+32]=k&&(d.left-K[0])/-k,z[N+36]=I&&(d.top-K[1])/-I,z[N+40]=k&&(d.right-K[0])/-k,z[N+44]=I&&(d.bottom-K[1])/-I,z[N+48]=I&&(d.left-K[0])/I,z[N+52]=k&&(d.top-K[1])/-k,z[N+56]=I&&(d.right-K[0])/I,z[N+60]=k&&(d.bottom-K[1])/-k}const J=1+Math.min(Math.abs(k),Math.abs(I));o.paddingLeft=f(z,32,16)/J,o.paddingTop=f(z,48,16)/J,o.paddingRight=f(z,0,16)/J,o.paddingBottom=f(z,16,16)/J,w._textDivProperties.set(m,o)}}(this),this._bounds=null);const g=[],t=[];for(let n=0,m=this._textDivs.length;n<m;n++){const o=this._textDivs[n],d=this._textDivProperties.get(o);!d.hasText||(_?(g.length=0,t.length=0,d.originalTransform&&g.push(d.originalTransform),d.paddingTop>0?(t.push(`${d.paddingTop}px`),g.push(`translateY(${-d.paddingTop}px)`)):t.push(0),t.push(d.paddingRight>0?d.paddingRight/d.scale+"px":0),t.push(d.paddingBottom>0?`${d.paddingBottom}px`:0),d.paddingLeft>0?(t.push(d.paddingLeft/d.scale+"px"),g.push(`translateX(${-d.paddingLeft/d.scale}px)`)):t.push(0),o.style.padding=t.join(" "),g.length&&(o.style.transform=g.join(" "))):(o.style.padding=null,o.style.transform=d.originalTransform))}}}},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.SVGGraphics=void 0;var b=ne(1),oe=ne(5),$=ne(3);let W=class{constructor(){(0,b.unreachable)("Not implemented: SVGGraphics")}};L.SVGGraphics=W;{let i=function(t){let n=[];const m=[];for(const o of t)"save"!==o.fn?"restore"===o.fn?n=m.pop():n.push(o):(n.push({fnId:92,fn:"group",items:[]}),m.push(n),n=n[n.length-1].items);return n},r=function(t){if(Number.isInteger(t))return t.toString();const n=t.toFixed(10);let m=n.length-1;if("0"!==n[m])return n;do{m--}while("0"===n[m]);return n.substring(0,"."===n[m]?m:m+1)},u=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${r(t[0])} ${r(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const n=180*Math.acos(t[0])/Math.PI;return`rotate(${r(n)})`}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${r(t[4])} ${r(t[5])})`;return`matrix(${r(t[0])} ${r(t[1])} ${r(t[2])} ${r(t[3])} ${r(t[4])} ${r(t[5])})`};const Y={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},F="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",P=["butt","round","square"],y=["miter","round","bevel"],f=function(t,n="",m=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!m)return URL.createObjectURL(new Blob([t],{type:n}));const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let d=`data:${n};base64,`;for(let x=0,M=t.length;x<M;x+=3){const k=255&t[x],I=255&t[x+1],j=255&t[x+2];d+=o[k>>2]+o[(3&k)<<4|I>>4]+o[x+1<M?(15&I)<<2|j>>6:64]+o[x+2<M?63&j:64]}return d},s=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),m=new Int32Array(256);for(let j=0;j<256;j++){let z=j;for(let J=0;J<8;J++)z=1&z?3988292384^z>>1&2147483647:z>>1&2147483647;m[j]=z}function d(j,z,J,N){let q=N;const K=z.length;J[q]=K>>24&255,J[q+1]=K>>16&255,J[q+2]=K>>8&255,J[q+3]=255&K,q+=4,J[q]=255&j.charCodeAt(0),J[q+1]=255&j.charCodeAt(1),J[q+2]=255&j.charCodeAt(2),J[q+3]=255&j.charCodeAt(3),q+=4,J.set(z,q),q+=z.length;const te=function o(j,z,J){let N=-1;for(let q=z;q<J;q++)N=N>>>8^m[255&(N^j[q])];return-1^N}(J,N+4,q);J[q]=te>>24&255,J[q+1]=te>>16&255,J[q+2]=te>>8&255,J[q+3]=255&te}function k(j){let z=j.length;const J=65535,N=Math.ceil(z/J),q=new Uint8Array(2+z+5*N+4);let K=0;q[K++]=120,q[K++]=156;let te=0;for(;z>J;)q[K++]=0,q[K++]=255,q[K++]=255,q[K++]=0,q[K++]=0,q.set(j.subarray(te,te+J),K),K+=J,te+=J,z-=J;q[K++]=1,q[K++]=255&z,q[K++]=z>>8&255,q[K++]=255&~z,q[K++]=(65535&~z)>>8&255,q.set(j.subarray(te),K),K+=j.length-te;const se=function x(j,z,J){let N=1,q=0;for(let K=z;K<J;++K)N=(N+(255&j[K]))%65521,q=(q+N)%65521;return q<<16|N}(j,0,j.length);return q[K++]=se>>24&255,q[K++]=se>>16&255,q[K++]=se>>8&255,q[K++]=255&se,q}return function(z,J,N){return function I(j,z,J,N){const q=j.width,K=j.height;let te,se,T;const a=j.data;switch(z){case b.ImageKind.GRAYSCALE_1BPP:se=0,te=1,T=q+7>>3;break;case b.ImageKind.RGB_24BPP:se=2,te=8,T=3*q;break;case b.ImageKind.RGBA_32BPP:se=6,te=8,T=4*q;break;default:throw new Error("invalid format")}const h=new Uint8Array((1+T)*K);let e=0,l=0;for(let U=0;U<K;++U)h[e++]=0,h.set(a.subarray(l,l+T),e),l+=T,e+=T;if(z===b.ImageKind.GRAYSCALE_1BPP&&N){e=0;for(let U=0;U<K;U++){e++;for(let V=0;V<T;V++)h[e++]^=255}}const p=new Uint8Array([q>>24&255,q>>16&255,q>>8&255,255&q,K>>24&255,K>>16&255,K>>8&255,255&K,te,se,0,0,0]),C=function M(j){if(!$.isNodeJS)return k(j);try{let z;z=parseInt(process.versions.node)>=8?j:Buffer.from(j);const J=__webpack_require__(2258).deflateSync(z,{level:9});return J instanceof Uint8Array?J:new Uint8Array(J)}catch(z){(0,b.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+z)}return k(j)}(h),E=new Uint8Array(t.length+36+p.length+C.length);let B=0;return E.set(t,B),B+=t.length,d("IHDR",p,E,B),B+=12+p.length,d("IDATA",C,E,B),B+=12+C.length,d("IEND",new Uint8Array(0),E,B),f(E,"image/png",J)}(z,void 0===z.kind?b.ImageKind.GRAYSCALE_1BPP:z.kind,J,N)}}();class A{constructor(){this.fontSizeScale=1,this.fontWeight=Y.fontWeight,this.fontSize=0,this.textMatrix=b.IDENTITY_MATRIX,this.fontMatrix=b.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=b.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Y.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(n,m){this.x=n,this.y=m}}let w=0,_=0,g=0;L.SVGGraphics=W=class{constructor(t,n,m=!1){this.svgFactory=new oe.DOMSVGFactory,this.current=new A,this.transformMatrix=b.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!m,this._operatorIdMapping=[];for(const o in b.OPS)this._operatorIdMapping[b.OPS[o]]=o}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const n=t.fnArray,m=t.argsArray;for(let o=0,d=n.length;o<d;o++)if(n[o]===b.OPS.dependency)for(const x of m[o]){const M=x.startsWith("g_")?this.commonObjs:this.objs,k=new Promise(I=>{M.get(x,I)});this.current.dependencies.push(k)}return Promise.all(this.current.dependencies)}transform(t,n,m,o,d,x){this.transformMatrix=b.Util.transform(this.transformMatrix,[t,n,m,o,d,x]),this.tgrp=null}getSVG(t,n){this.viewport=n;const m=this._initialize(n);return this.loadDependencies(t).then(()=>(this.transformMatrix=b.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),m))}convertOpList(t){const n=this._operatorIdMapping,m=t.argsArray,o=t.fnArray,d=[];for(let x=0,M=o.length;x<M;x++){const k=o[x];d.push({fnId:k,fn:n[k],args:m[x]})}return i(d)}executeOpTree(t){for(const n of t){const m=n.fn,d=n.args;switch(0|n.fnId){case b.OPS.beginText:this.beginText();break;case b.OPS.dependency:break;case b.OPS.setLeading:this.setLeading(d);break;case b.OPS.setLeadingMoveText:this.setLeadingMoveText(d[0],d[1]);break;case b.OPS.setFont:this.setFont(d);break;case b.OPS.showText:case b.OPS.showSpacedText:this.showText(d[0]);break;case b.OPS.endText:this.endText();break;case b.OPS.moveText:this.moveText(d[0],d[1]);break;case b.OPS.setCharSpacing:this.setCharSpacing(d[0]);break;case b.OPS.setWordSpacing:this.setWordSpacing(d[0]);break;case b.OPS.setHScale:this.setHScale(d[0]);break;case b.OPS.setTextMatrix:this.setTextMatrix(d[0],d[1],d[2],d[3],d[4],d[5]);break;case b.OPS.setTextRise:this.setTextRise(d[0]);break;case b.OPS.setTextRenderingMode:this.setTextRenderingMode(d[0]);break;case b.OPS.setLineWidth:this.setLineWidth(d[0]);break;case b.OPS.setLineJoin:this.setLineJoin(d[0]);break;case b.OPS.setLineCap:this.setLineCap(d[0]);break;case b.OPS.setMiterLimit:this.setMiterLimit(d[0]);break;case b.OPS.setFillRGBColor:this.setFillRGBColor(d[0],d[1],d[2]);break;case b.OPS.setStrokeRGBColor:this.setStrokeRGBColor(d[0],d[1],d[2]);break;case b.OPS.setStrokeColorN:this.setStrokeColorN(d);break;case b.OPS.setFillColorN:this.setFillColorN(d);break;case b.OPS.shadingFill:this.shadingFill(d[0]);break;case b.OPS.setDash:this.setDash(d[0],d[1]);break;case b.OPS.setRenderingIntent:this.setRenderingIntent(d[0]);break;case b.OPS.setFlatness:this.setFlatness(d[0]);break;case b.OPS.setGState:this.setGState(d[0]);break;case b.OPS.fill:this.fill();break;case b.OPS.eoFill:this.eoFill();break;case b.OPS.stroke:this.stroke();break;case b.OPS.fillStroke:this.fillStroke();break;case b.OPS.eoFillStroke:this.eoFillStroke();break;case b.OPS.clip:this.clip("nonzero");break;case b.OPS.eoClip:this.clip("evenodd");break;case b.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case b.OPS.paintImageXObject:this.paintImageXObject(d[0]);break;case b.OPS.paintInlineImageXObject:this.paintInlineImageXObject(d[0]);break;case b.OPS.paintImageMaskXObject:this.paintImageMaskXObject(d[0]);break;case b.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(d[0],d[1]);break;case b.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case b.OPS.closePath:this.closePath();break;case b.OPS.closeStroke:this.closeStroke();break;case b.OPS.closeFillStroke:this.closeFillStroke();break;case b.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case b.OPS.nextLine:this.nextLine();break;case b.OPS.transform:this.transform(d[0],d[1],d[2],d[3],d[4],d[5]);break;case b.OPS.constructPath:this.constructPath(d[0],d[1]);break;case b.OPS.endPath:this.endPath();break;case 92:this.group(n.items);break;default:(0,b.warn)(`Unimplemented operator ${m}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,n,m,o,d,x){const M=this.current;M.textMatrix=M.lineMatrix=[t,n,m,o,d,x],M.textMatrixScale=Math.hypot(t,n),M.x=M.lineX=0,M.y=M.lineY=0,M.xcoords=[],M.ycoords=[],M.tspan=this.svgFactory.createElement("svg:tspan"),M.tspan.setAttributeNS(null,"font-family",M.fontFamily),M.tspan.setAttributeNS(null,"font-size",`${r(M.fontSize)}px`),M.tspan.setAttributeNS(null,"y",r(-M.y)),M.txtElement=this.svgFactory.createElement("svg:text"),M.txtElement.appendChild(M.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=b.IDENTITY_MATRIX,t.lineMatrix=b.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,n){const m=this.current;m.x=m.lineX+=t,m.y=m.lineY+=n,m.xcoords=[],m.ycoords=[],m.tspan=this.svgFactory.createElement("svg:tspan"),m.tspan.setAttributeNS(null,"font-family",m.fontFamily),m.tspan.setAttributeNS(null,"font-size",`${r(m.fontSize)}px`),m.tspan.setAttributeNS(null,"y",r(-m.y))}showText(t){const n=this.current,m=n.font,o=n.fontSize;if(0===o)return;const d=n.fontSizeScale,x=n.charSpacing,M=n.wordSpacing,k=n.fontDirection,I=n.textHScale*k,j=m.vertical,z=j?1:-1,J=m.defaultVMetrics,N=o*n.fontMatrix[0];let q=0;for(const se of t){if(null===se){q+=k*M;continue}if("number"==typeof se){q+=z*se*o/1e3;continue}const T=(se.isSpace?M:0)+x,a=se.fontChar;let h,e,p,l=se.width;if(j){let C;const S=se.vmetric||J;C=se.vmetric?S[1]:.5*l,C=-C*N,l=S?-S[0]:l,h=C/d,e=(q+S[2]*N)/d}else h=q/d,e=0;(se.isInFont||m.missingFile)&&(n.xcoords.push(n.x+h),j&&n.ycoords.push(-n.y+e),n.tspan.textContent+=a),p=j?l*N-T*k:l*N+T*k,q+=p}n.tspan.setAttributeNS(null,"x",n.xcoords.map(r).join(" ")),n.tspan.setAttributeNS(null,"y",j?n.ycoords.map(r).join(" "):r(-n.y)),j?n.y-=q:n.x+=q*I,n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${r(n.fontSize)}px`),n.fontStyle!==Y.fontStyle&&n.tspan.setAttributeNS(null,"font-style",n.fontStyle),n.fontWeight!==Y.fontWeight&&n.tspan.setAttributeNS(null,"font-weight",n.fontWeight);const K=n.textRenderingMode&b.TextRenderingMode.FILL_STROKE_MASK;K===b.TextRenderingMode.FILL||K===b.TextRenderingMode.FILL_STROKE?(n.fillColor!==Y.fillColor&&n.tspan.setAttributeNS(null,"fill",n.fillColor),n.fillAlpha<1&&n.tspan.setAttributeNS(null,"fill-opacity",n.fillAlpha)):n.tspan.setAttributeNS(null,"fill",n.textRenderingMode===b.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(K===b.TextRenderingMode.STROKE||K===b.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(n.tspan,1/(n.textMatrixScale||1));let te=n.textMatrix;0!==n.textRise&&(te=te.slice(),te[5]+=n.textRise),n.txtElement.setAttributeNS(null,"transform",`${u(te)} scale(${r(I)}, -1)`),n.txtElement.setAttributeNS(F,"xml:space","preserve"),n.txtElement.appendChild(n.tspan),n.txtgrp.appendChild(n.txtElement),this._ensureTransformGroup().appendChild(n.txtElement)}setLeadingMoveText(t,n){this.setLeading(-n),this.moveText(t,n)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const n=f(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${n}); }\n`}setFont(t){const n=this.current,m=this.commonObjs.get(t[0]);let o=t[1];n.font=m,this.embedFonts&&!m.missingFile&&!this.embeddedFonts[m.loadedName]&&(this.addFontStyle(m),this.embeddedFonts[m.loadedName]=m),n.fontMatrix=m.fontMatrix||b.FONT_IDENTITY_MATRIX;let d="normal";m.black?d="900":m.bold&&(d="bold");const x=m.italic?"italic":"normal";o<0?(o=-o,n.fontDirection=-1):n.fontDirection=1,n.fontSize=o,n.fontFamily=m.loadedName,n.fontWeight=d,n.fontStyle=x,n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"y",r(-n.y)),n.xcoords=[],n.ycoords=[]}endText(){const t=this.current;t.textRenderingMode&b.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement?.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=P[t]}setLineJoin(t){this.current.lineJoin=y[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,n,m){this.current.strokeColor=b.Util.makeHexColor(t,n,m)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,n,m){this.current.fillColor=b.Util.makeHexColor(t,n,m),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const n=this.viewport.width,m=this.viewport.height,o=b.Util.inverseTransform(this.transformMatrix),d=b.Util.applyTransform([0,0],o),x=b.Util.applyTransform([0,m],o),M=b.Util.applyTransform([n,0],o),k=b.Util.applyTransform([n,m],o),I=Math.min(d[0],x[0],M[0],k[0]),j=Math.min(d[1],x[1],M[1],k[1]),z=Math.max(d[0],x[0],M[0],k[0]),J=Math.max(d[1],x[1],M[1],k[1]),N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x",I),N.setAttributeNS(null,"y",j),N.setAttributeNS(null,"width",z-I),N.setAttributeNS(null,"height",J-j),N.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&N.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(N)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const n=t[1],m=t[2],o=t[3]||b.IDENTITY_MATRIX,[d,x,M,k]=t[4],I=t[5],j=t[6],z=t[7],J="shading"+g++,[N,q,K,te]=b.Util.normalizeRect([...b.Util.applyTransform([d,x],o),...b.Util.applyTransform([M,k],o)]),[se,T]=b.Util.singularValueDecompose2dScale(o),a=I*se,h=j*T,e=this.svgFactory.createElement("svg:pattern");e.setAttributeNS(null,"id",J),e.setAttributeNS(null,"patternUnits","userSpaceOnUse"),e.setAttributeNS(null,"width",a),e.setAttributeNS(null,"height",h),e.setAttributeNS(null,"x",`${N}`),e.setAttributeNS(null,"y",`${q}`);const l=this.svg,p=this.transformMatrix,C=this.current.fillColor,S=this.current.strokeColor,E=this.svgFactory.create(K-N,te-q);if(this.svg=E,this.transformMatrix=o,2===z){const B=b.Util.makeHexColor(...n);this.current.fillColor=B,this.current.strokeColor=B}return this.executeOpTree(this.convertOpList(m)),this.svg=l,this.transformMatrix=p,this.current.fillColor=C,this.current.strokeColor=S,e.appendChild(E.childNodes[0]),this.defs.appendChild(e),`url(#${J})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const n="shading"+g++,m=t[3];let o;switch(t[1]){case"axial":const d=t[4],x=t[5];o=this.svgFactory.createElement("svg:linearGradient"),o.setAttributeNS(null,"id",n),o.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),o.setAttributeNS(null,"x1",d[0]),o.setAttributeNS(null,"y1",d[1]),o.setAttributeNS(null,"x2",x[0]),o.setAttributeNS(null,"y2",x[1]);break;case"radial":const M=t[4],k=t[5],I=t[6],j=t[7];o=this.svgFactory.createElement("svg:radialGradient"),o.setAttributeNS(null,"id",n),o.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),o.setAttributeNS(null,"cx",k[0]),o.setAttributeNS(null,"cy",k[1]),o.setAttributeNS(null,"r",j),o.setAttributeNS(null,"fx",M[0]),o.setAttributeNS(null,"fy",M[1]),o.setAttributeNS(null,"fr",I);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const d of m){const x=this.svgFactory.createElement("svg:stop");x.setAttributeNS(null,"offset",d[0]),x.setAttributeNS(null,"stop-color",d[1]),o.appendChild(x)}return this.defs.appendChild(o),`url(#${n})`;case"Mesh":return(0,b.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,n){this.current.dashArray=t,this.current.dashPhase=n}constructPath(t,n){const m=this.current;let o=m.x,d=m.y,x=[],M=0;for(const k of t)switch(0|k){case b.OPS.rectangle:o=n[M++],d=n[M++];const z=o+n[M++],J=d+n[M++];x.push("M",r(o),r(d),"L",r(z),r(d),"L",r(z),r(J),"L",r(o),r(J),"Z");break;case b.OPS.moveTo:o=n[M++],d=n[M++],x.push("M",r(o),r(d));break;case b.OPS.lineTo:o=n[M++],d=n[M++],x.push("L",r(o),r(d));break;case b.OPS.curveTo:o=n[M+4],d=n[M+5],x.push("C",r(n[M]),r(n[M+1]),r(n[M+2]),r(n[M+3]),r(o),r(d)),M+=6;break;case b.OPS.curveTo2:x.push("C",r(o),r(d),r(n[M]),r(n[M+1]),r(n[M+2]),r(n[M+3])),o=n[M+2],d=n[M+3],M+=4;break;case b.OPS.curveTo3:o=n[M+2],d=n[M+3],x.push("C",r(n[M]),r(n[M+1]),r(o),r(d),r(o),r(d)),M+=4;break;case b.OPS.closePath:x.push("Z")}x=x.join(" "),m.path&&t.length>0&&t[0]!==b.OPS.rectangle&&t[0]!==b.OPS.moveTo?x=m.path.getAttributeNS(null,"d")+x:(m.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(m.path)),m.path.setAttributeNS(null,"d",x),m.path.setAttributeNS(null,"fill","none"),m.element=m.path,m.setCurrentPoint(o,d)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const n="clippath"+w++,m=this.svgFactory.createElement("svg:clipPath");m.setAttributeNS(null,"id",n),m.setAttributeNS(null,"transform",u(this.transformMatrix));const o=t.element.cloneNode(!0);if(o.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,m.appendChild(o),this.defs.appendChild(m),t.activeClipUrl){t.clipGroup=null;for(const d of this.extraStack)d.clipGroup=null;m.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${n})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const n=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",n)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[n,m]of t)switch(n){case"LW":this.setLineWidth(m);break;case"LC":this.setLineCap(m);break;case"LJ":this.setLineJoin(m);break;case"ML":this.setMiterLimit(m);break;case"D":this.setDash(m[0],m[1]);break;case"RI":this.setRenderingIntent(m);break;case"FL":this.setFlatness(m);break;case"Font":this.setFont(m);break;case"CA":this.setStrokeAlpha(m);break;case"ca":this.setFillAlpha(m);break;default:(0,b.warn)(`Unimplemented graphic state operator ${n}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,n=1){const m=this.current;let o=m.dashArray;1!==n&&o.length>0&&(o=o.map(function(d){return n*d})),t.setAttributeNS(null,"stroke",m.strokeColor),t.setAttributeNS(null,"stroke-opacity",m.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",r(m.miterLimit)),t.setAttributeNS(null,"stroke-linecap",m.lineCap),t.setAttributeNS(null,"stroke-linejoin",m.lineJoin),t.setAttributeNS(null,"stroke-width",r(n*m.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",o.map(r).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",r(n*m.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintImageXObject(t){const n=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);n?this.paintInlineImageXObject(n):(0,b.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,n){const m=t.width,o=t.height,d=s(t,this.forceDataSchema,!!n),x=this.svgFactory.createElement("svg:rect");x.setAttributeNS(null,"x","0"),x.setAttributeNS(null,"y","0"),x.setAttributeNS(null,"width",r(m)),x.setAttributeNS(null,"height",r(o)),this.current.element=x,this.clip("nonzero");const M=this.svgFactory.createElement("svg:image");M.setAttributeNS(c,"xlink:href",d),M.setAttributeNS(null,"x","0"),M.setAttributeNS(null,"y",r(-o)),M.setAttributeNS(null,"width",r(m)+"px"),M.setAttributeNS(null,"height",r(o)+"px"),M.setAttributeNS(null,"transform",`scale(${r(1/m)} ${r(-1/o)})`),n?n.appendChild(M):this._ensureTransformGroup().appendChild(M)}paintImageMaskXObject(t){const n=this.current,m=t.width,o=t.height,d=n.fillColor;n.maskId="mask"+_++;const x=this.svgFactory.createElement("svg:mask");x.setAttributeNS(null,"id",n.maskId);const M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x","0"),M.setAttributeNS(null,"y","0"),M.setAttributeNS(null,"width",r(m)),M.setAttributeNS(null,"height",r(o)),M.setAttributeNS(null,"fill",d),M.setAttributeNS(null,"mask",`url(#${n.maskId})`),this.defs.appendChild(x),this._ensureTransformGroup().appendChild(M),this.paintInlineImageXObject(t,x)}paintFormXObjectBegin(t,n){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),n){const m=n[2]-n[0],o=n[3]-n[1],d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",n[0]),d.setAttributeNS(null,"y",n[1]),d.setAttributeNS(null,"width",r(m)),d.setAttributeNS(null,"height",r(o)),this.current.element=d,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const n=this.svgFactory.create(t.width,t.height),m=this.svgFactory.createElement("svg:defs");n.appendChild(m),this.defs=m;const o=this.svgFactory.createElement("svg:g");return o.setAttributeNS(null,"transform",u(t.transform)),n.appendChild(o),this.svg=o,n}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",u(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFNodeStream=void 0;var b=ne(1),oe=ne(26);const $=__webpack_require__(172),W=__webpack_require__(2001),Y=__webpack_require__(3779),F=__webpack_require__(6558),c=/^file:\/\/\/[a-zA-Z]:\//;L.PDFNodeStream=class y{constructor(g){this.source=g,this.url=function P(_){const g=F.parse(_);return"file:"===g.protocol||g.host?g:/^[a-z]:[/\\]/i.test(_)?F.parse(`file:///${_}`):(g.host||(g.protocol="file:"),g)}(g.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,b.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new u(this):new i(this),this._fullRequestReader}getRangeReader(g,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new w(this,g,t):new r(this,g,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(g){this._fullRequestReader&&this._fullRequestReader.cancel(g);for(const t of this._rangeRequestReaders.slice(0))t.cancel(g)}};class f{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=g.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,b.createPromiseCapability)(),this._headersCapability=(0,b.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const t=g._readableStream.read();return null===t?(g._readCapability=(0,b.createPromiseCapability)(),g.read()):(g._loaded+=t.length,g.onProgress&&g.onProgress({loaded:g._loaded,total:g._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new b.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class s{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,b.createPromiseCapability)(),this._isStreamingSupported=!g.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const t=g._readableStream.read();return null===t?(g._readCapability=(0,b.createPromiseCapability)(),g.read()):(g._loaded+=t.length,g.onProgress&&g.onProgress({loaded:g._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function A(_,g){return{protocol:_.protocol,auth:_.auth,host:_.hostname,port:_.port,path:_.path,method:"GET",headers:g}}class i extends f{constructor(g){super(g);const t=n=>{if(404===n.statusCode){const x=new b.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=x,void this._headersCapability.reject(x)}this._headersCapability.resolve(),this._setReadableStream(n);const m=x=>this._readableStream.headers[x.toLowerCase()],{allowRangeRequests:o,suggestedLength:d}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:g.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=d||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(m)};this._request=null,this._request="http:"===this._url.protocol?W.request(A(this._url,g.httpHeaders),t):Y.request(A(this._url,g.httpHeaders),t),this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class r extends s{constructor(g,t,n){super(g),this._httpHeaders={};for(const o in g.httpHeaders){const d=g.httpHeaders[o];typeof d>"u"||(this._httpHeaders[o]=d)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const m=o=>{if(404!==o.statusCode)this._setReadableStream(o);else{const d=new b.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=d}};this._request=null,this._request="http:"===this._url.protocol?W.request(A(this._url,this._httpHeaders),m):Y.request(A(this._url,this._httpHeaders),m),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class u extends f{constructor(g){super(g);let t=decodeURIComponent(this._url.path);c.test(this._url.href)&&(t=t.replace(/^\//,"")),$.lstat(t,(n,m)=>{if(n)return"ENOENT"===n.code&&(n=new b.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=n,void this._headersCapability.reject(n);this._contentLength=m.size,this._setReadableStream($.createReadStream(t)),this._headersCapability.resolve()})}}class w extends s{constructor(g,t,n){super(g);let m=decodeURIComponent(this._url.path);c.test(this._url.href)&&(m=m.replace(/^\//,"")),this._setReadableStream($.createReadStream(m,{start:t,end:n-1}))}}},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.createResponseStatusError=function F(P,y){return 404===P||0===P&&y.startsWith("file:")?new b.MissingPDFException('Missing PDF "'+y+'".'):new b.UnexpectedResponseException(`Unexpected server response (${P}) while retrieving PDF "${y}".`,P)},L.extractFilenameFromHeader=function Y(P){const y=P("Content-Disposition");if(y){let f=(0,oe.getFilenameFromContentDispositionHeader)(y);if(f.includes("%"))try{f=decodeURIComponent(f)}catch{}if((0,$.isPdfFile)(f))return f}return null},L.validateRangeRequestCapabilities=function W({getResponseHeader:P,isHttp:y,rangeChunkSize:f,disableRange:s}){const A={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(P("Content-Length"),10);return!Number.isInteger(i)||(A.suggestedLength=i,i<=2*f)||s||!y||"bytes"!==P("Accept-Ranges")||"identity"!==(P("Content-Encoding")||"identity")||(A.allowRangeRequests=!0),A},L.validateResponseStatus=function c(P){return 200===P||206===P};var b=ne(1),oe=ne(27),$=ne(5)},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.getFilenameFromContentDispositionHeader=function oe($){let W=!0,Y=F("filename\\*","i").exec($);if(Y){Y=Y[1];let i=f(Y);return i=unescape(i),i=s(i),i=A(i),P(i)}if(Y=function y(i){const r=[];let u;const w=F("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(u=w.exec(i));){let[,g,t,n]=u;if(g=parseInt(g,10),g in r){if(0===g)break}else r[g]=[t,n]}const _=[];for(let g=0;g<r.length&&g in r;++g){let[t,n]=r[g];n=f(n),t&&(n=unescape(n),0===g&&(n=s(n))),_.push(n)}return _.join("")}($),Y)return P(A(Y));if(Y=F("filename","i").exec($),Y){Y=Y[1];let i=f(Y);return i=A(i),P(i)}function F(i,r){return new RegExp("(?:^|;)\\s*"+i+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',r)}function c(i,r){if(i){if(!/^[\x00-\xFF]+$/.test(r))return r;try{const u=new TextDecoder(i,{fatal:!0}),w=(0,b.stringToBytes)(r);r=u.decode(w),W=!1}catch{}}return r}function P(i){return W&&/[\x80-\xff]/.test(i)&&(i=c("utf-8",i),W&&(i=c("iso-8859-1",i))),i}function f(i){if(i.startsWith('"')){const r=i.slice(1).split('\\"');for(let u=0;u<r.length;++u){const w=r[u].indexOf('"');-1!==w&&(r[u]=r[u].slice(0,w),r.length=u+1),r[u]=r[u].replace(/\\(.)/g,"$1")}i=r.join('"')}return i}function s(i){const r=i.indexOf("'");return-1===r?i:c(i.slice(0,r),i.slice(r+1).replace(/^[^']*'/,""))}function A(i){return!i.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(i)?i:i.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(r,u,w,_){if("q"===w||"Q"===w)return c(u,_=(_=_.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(g,t){return String.fromCharCode(parseInt(t,16))}));try{_=atob(_)}catch{}return c(u,_)})}return""};var b=ne(1)},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFNetworkStream=void 0;var b=ne(1),oe=ne(26);class F{constructor(s,A={}){this.url=s,this.isHttp=/^https?:/i.test(s),this.httpHeaders=this.isHttp&&A.httpHeaders||Object.create(null),this.withCredentials=A.withCredentials||!1,this.getXhr=A.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(s,A,i){const r={begin:s,end:A};for(const u in i)r[u]=i[u];return this.request(r)}requestFull(s){return this.request(s)}request(s){const A=this.getXhr(),i=this.currXhrId++,r=this.pendingRequests[i]={xhr:A};A.open("GET",this.url),A.withCredentials=this.withCredentials;for(const u in this.httpHeaders){const w=this.httpHeaders[u];typeof w>"u"||A.setRequestHeader(u,w)}return this.isHttp&&"begin"in s&&"end"in s?(A.setRequestHeader("Range",`bytes=${s.begin}-${s.end-1}`),r.expectedStatus=206):r.expectedStatus=200,A.responseType="arraybuffer",s.onError&&(A.onerror=function(u){s.onError(A.status)}),A.onreadystatechange=this.onStateChange.bind(this,i),A.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=s.onHeadersReceived,r.onDone=s.onDone,r.onError=s.onError,r.onProgress=s.onProgress,A.send(null),i}onProgress(s,A){const i=this.pendingRequests[s];!i||i.onProgress?.(A)}onStateChange(s,A){const i=this.pendingRequests[s];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4!==r.readyState||!(s in this.pendingRequests))return;if(delete this.pendingRequests[s],0===r.status&&this.isHttp)return void i.onError?.(r.status);const u=r.status||200;if((200!==u||206!==i.expectedStatus)&&u!==i.expectedStatus)return void i.onError?.(r.status);const _=function Y(f){const s=f.response;return"string"!=typeof s?s:(0,b.stringToBytes)(s).buffer}(r);if(206===u){const g=r.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(g);i.onDone({begin:parseInt(t[1],10),chunk:_})}else _?i.onDone({begin:0,chunk:_}):i.onError?.(r.status)}getRequestXhr(s){return this.pendingRequests[s].xhr}isPendingRequest(s){return s in this.pendingRequests}abortRequest(s){const A=this.pendingRequests[s].xhr;delete this.pendingRequests[s],A.abort()}}L.PDFNetworkStream=class c{constructor(s){this._source=s,this._manager=new F(s.url,{httpHeaders:s.httpHeaders,withCredentials:s.withCredentials}),this._rangeChunkSize=s.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(s){const A=this._rangeRequestReaders.indexOf(s);A>=0&&this._rangeRequestReaders.splice(A,1)}getFullReader(){return(0,b.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new P(this._manager,this._source),this._fullRequestReader}getRangeReader(s,A){const i=new y(this._manager,s,A);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(s){this._fullRequestReader?.cancel(s);for(const A of this._rangeRequestReaders.slice(0))A.cancel(s)}};class P{constructor(s,A){this._manager=s;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=A.url,this._fullRequestId=s.requestFull(i),this._headersReceivedCapability=(0,b.createPromiseCapability)(),this._disableRange=A.disableRange||!1,this._contentLength=A.length,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const s=this._fullRequestId,A=this._manager.getRequestXhr(s),i=w=>A.getResponseHeader(w),{allowRangeRequests:r,suggestedLength:u}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=u||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(i),this._isRangeSupported&&this._manager.abortRequest(s),this._headersReceivedCapability.resolve()}_onDone(s){if(s&&(this._requests.length>0?this._requests.shift().resolve({value:s.chunk,done:!1}):this._cachedChunks.push(s.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(s){this._storedError=(0,oe.createResponseStatusError)(s,this._url),this._headersReceivedCapability.reject(this._storedError);for(const A of this._requests)A.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(s){this.onProgress?.({loaded:s.loaded,total:s.lengthComputable?s.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var s=this;return _asyncToGenerator(function*(){if(s._storedError)throw s._storedError;if(s._cachedChunks.length>0)return{value:s._cachedChunks.shift(),done:!1};if(s._done)return{value:void 0,done:!0};const A=(0,b.createPromiseCapability)();return s._requests.push(A),A.promise})()}cancel(s){this._done=!0,this._headersReceivedCapability.reject(s);for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class y{constructor(s,A,i){this._manager=s;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=s.url,this._requestId=s.requestRange(A,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(s){const A=s.chunk;this._requests.length>0?this._requests.shift().resolve({value:A,done:!1}):this._queuedChunk=A,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(s){this._storedError=(0,oe.createResponseStatusError)(s,this._url);for(const A of this._requests)A.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(s){this.isStreamingSupported||this.onProgress?.({loaded:s.loaded})}get isStreamingSupported(){return!1}read(){var s=this;return _asyncToGenerator(function*(){if(s._storedError)throw s._storedError;if(null!==s._queuedChunk){const i=s._queuedChunk;return s._queuedChunk=null,{value:i,done:!1}}if(s._done)return{value:void 0,done:!0};const A=(0,b.createPromiseCapability)();return s._requests.push(A),A.promise})()}cancel(s){this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ue,L,ne)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFFetchStream=void 0;var b=ne(1),oe=ne(26);function $(P,y,f){return{method:"GET",headers:P,signal:f?.signal,mode:"cors",credentials:y?"include":"same-origin",redirect:"follow"}}function W(P){const y=new Headers;for(const f in P){const s=P[f];typeof s>"u"||y.append(f,s)}return y}L.PDFFetchStream=class Y{constructor(y){this.source=y,this.isHttp=/^https?:/i.test(y.url),this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,b.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new F(this),this._fullRequestReader}getRangeReader(y,f){if(f<=this._progressiveDataLength)return null;const s=new c(this,y,f);return this._rangeRequestReaders.push(s),s}cancelAllRequests(y){this._fullRequestReader&&this._fullRequestReader.cancel(y);for(const f of this._rangeRequestReaders.slice(0))f.cancel(y)}};class F{constructor(y){this._stream=y,this._reader=null,this._loaded=0,this._filename=null;const f=y.source;this._withCredentials=f.withCredentials||!1,this._contentLength=f.length,this._headersCapability=(0,b.createPromiseCapability)(),this._disableRange=f.disableRange||!1,this._rangeChunkSize=f.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!f.disableStream,this._isRangeSupported=!f.disableRange,this._headers=W(this._stream.httpHeaders);const s=f.url;fetch(s,$(this._headers,this._withCredentials,this._abortController)).then(A=>{if(!(0,oe.validateResponseStatus)(A.status))throw(0,oe.createResponseStatusError)(A.status,s);this._reader=A.body.getReader(),this._headersCapability.resolve();const i=w=>A.headers.get(w),{allowRangeRequests:r,suggestedLength:u}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=u||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(i),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new b.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var y=this;return _asyncToGenerator(function*(){yield y._headersCapability.promise;const{value:f,done:s}=yield y._reader.read();return s?{value:f,done:s}:(y._loaded+=f.byteLength,y.onProgress&&y.onProgress({loaded:y._loaded,total:y._contentLength}),{value:new Uint8Array(f).buffer,done:!1})})()}cancel(y){this._reader&&this._reader.cancel(y),this._abortController&&this._abortController.abort()}}class c{constructor(y,f,s){this._stream=y,this._reader=null,this._loaded=0;const A=y.source;this._withCredentials=A.withCredentials||!1,this._readCapability=(0,b.createPromiseCapability)(),this._isStreamingSupported=!A.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=W(this._stream.httpHeaders),this._headers.append("Range",`bytes=${f}-${s-1}`);const i=A.url;fetch(i,$(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!(0,oe.validateResponseStatus)(r.status))throw(0,oe.createResponseStatusError)(r.status,i);this._readCapability.resolve(),this._reader=r.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var y=this;return _asyncToGenerator(function*(){yield y._readCapability.promise;const{value:f,done:s}=yield y._reader.read();return s?{value:f,done:s}:(y._loaded+=f.byteLength,y.onProgress&&y.onProgress({loaded:y._loaded}),{value:new Uint8Array(f).buffer,done:!1})})()}cancel(y){this._reader&&this._reader.cancel(y),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(ue){var L=__webpack_module_cache__[ue];if(void 0!==L)return L.exports;var ne=__webpack_module_cache__[ue]={exports:{}};return __webpack_modules__[ue](ne,ne.exports,__w_pdfjs_require__),ne.exports}var __webpack_exports__={};return(()=>{var ue=__webpack_exports__;Object.defineProperty(ue,"__esModule",{value:!0}),Object.defineProperty(ue,"AnnotationLayer",{enumerable:!0,get:function(){return oe.AnnotationLayer}}),Object.defineProperty(ue,"AnnotationMode",{enumerable:!0,get:function(){return L.AnnotationMode}}),Object.defineProperty(ue,"CMapCompressionType",{enumerable:!0,get:function(){return L.CMapCompressionType}}),Object.defineProperty(ue,"GlobalWorkerOptions",{enumerable:!0,get:function(){return $.GlobalWorkerOptions}}),Object.defineProperty(ue,"InvalidPDFException",{enumerable:!0,get:function(){return L.InvalidPDFException}}),Object.defineProperty(ue,"LoopbackPort",{enumerable:!0,get:function(){return ne.LoopbackPort}}),Object.defineProperty(ue,"MissingPDFException",{enumerable:!0,get:function(){return L.MissingPDFException}}),Object.defineProperty(ue,"OPS",{enumerable:!0,get:function(){return L.OPS}}),Object.defineProperty(ue,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ne.PDFDataRangeTransport}}),Object.defineProperty(ue,"PDFDateString",{enumerable:!0,get:function(){return b.PDFDateString}}),Object.defineProperty(ue,"PDFWorker",{enumerable:!0,get:function(){return ne.PDFWorker}}),Object.defineProperty(ue,"PasswordResponses",{enumerable:!0,get:function(){return L.PasswordResponses}}),Object.defineProperty(ue,"PermissionFlag",{enumerable:!0,get:function(){return L.PermissionFlag}}),Object.defineProperty(ue,"PixelsPerInch",{enumerable:!0,get:function(){return b.PixelsPerInch}}),Object.defineProperty(ue,"RenderingCancelledException",{enumerable:!0,get:function(){return b.RenderingCancelledException}}),Object.defineProperty(ue,"SVGGraphics",{enumerable:!0,get:function(){return F.SVGGraphics}}),Object.defineProperty(ue,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return L.UNSUPPORTED_FEATURES}}),Object.defineProperty(ue,"UnexpectedResponseException",{enumerable:!0,get:function(){return L.UnexpectedResponseException}}),Object.defineProperty(ue,"Util",{enumerable:!0,get:function(){return L.Util}}),Object.defineProperty(ue,"VerbosityLevel",{enumerable:!0,get:function(){return L.VerbosityLevel}}),Object.defineProperty(ue,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(ue,"build",{enumerable:!0,get:function(){return ne.build}}),Object.defineProperty(ue,"createPromiseCapability",{enumerable:!0,get:function(){return L.createPromiseCapability}}),Object.defineProperty(ue,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return L.createValidAbsoluteUrl}}),Object.defineProperty(ue,"getDocument",{enumerable:!0,get:function(){return ne.getDocument}}),Object.defineProperty(ue,"getFilenameFromUrl",{enumerable:!0,get:function(){return b.getFilenameFromUrl}}),Object.defineProperty(ue,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return b.getPdfFilenameFromUrl}}),Object.defineProperty(ue,"getXfaPageViewport",{enumerable:!0,get:function(){return b.getXfaPageViewport}}),Object.defineProperty(ue,"isPdfFile",{enumerable:!0,get:function(){return b.isPdfFile}}),Object.defineProperty(ue,"loadScript",{enumerable:!0,get:function(){return b.loadScript}}),Object.defineProperty(ue,"renderTextLayer",{enumerable:!0,get:function(){return Y.renderTextLayer}}),Object.defineProperty(ue,"shadow",{enumerable:!0,get:function(){return L.shadow}}),Object.defineProperty(ue,"version",{enumerable:!0,get:function(){return ne.version}});var L=__w_pdfjs_require__(1),ne=__w_pdfjs_require__(4),b=__w_pdfjs_require__(5),oe=__w_pdfjs_require__(20),$=__w_pdfjs_require__(13),W=__w_pdfjs_require__(3),Y=__w_pdfjs_require__(23),F=__w_pdfjs_require__(24),c=__w_pdfjs_require__(22);if(W.isNodeJS){const{PDFNodeStream:f}=__w_pdfjs_require__(25);(0,ne.setPDFNetworkStreamFactory)(s=>new f(s))}else{const{PDFNetworkStream:f}=__w_pdfjs_require__(28),{PDFFetchStream:s}=__w_pdfjs_require__(29);(0,ne.setPDFNetworkStreamFactory)(A=>(0,b.isValidFetchUrl)(A.url)?new s(A):new f(A))}})(),__webpack_exports__})(),module.exports=ne()},6837:function(ue,L,ne){var W,b=ne(7820).default;W=()=>(()=>{"use strict";var oe=[,(F,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DefaultXfaLayerFactory=c.DefaultTextLayerFactory=c.DefaultStructTreeLayerFactory=c.DefaultAnnotationLayerFactory=void 0;var y=P(2),f=P(4),s=P(5),A=P(7),i=P(8),r=P(9);c.DefaultAnnotationLayerFactory=class u{createAnnotationLayerBuilder(n,m,o=null,d="",x=!0,M=f.NullL10n,k=!1,I=null,j=null,z=null,J=null){return new y.AnnotationLayerBuilder({pageDiv:n,pdfPage:m,imageResourcesPath:d,renderForms:x,linkService:new s.SimpleLinkService,l10n:M,annotationStorage:o,enableScripting:k,hasJSActionsPromise:I,fieldObjectsPromise:z,mouseState:j,annotationCanvasMap:J})}},c.DefaultStructTreeLayerFactory=class w{createStructTreeLayerBuilder(n){return new A.StructTreeLayerBuilder({pdfPage:n})}},c.DefaultTextLayerFactory=class _{createTextLayerBuilder(n,m,o,d=!1,x,M){return new i.TextLayerBuilder({textLayerDiv:n,pageIndex:m,viewport:o,enhanceTextSelection:d,eventBus:x,highlighter:M})}},c.DefaultXfaLayerFactory=class g{createXfaLayerBuilder(n,m,o=null,d=null){return new r.XfaLayerBuilder({pageDiv:n,pdfPage:m,annotationStorage:o,linkService:new s.SimpleLinkService,xfaHtml:d})}}},(F,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationLayerBuilder=void 0;var y=P(3),f=P(4);c.AnnotationLayerBuilder=class s{constructor({pageDiv:i,pdfPage:r,linkService:u,downloadManager:w,annotationStorage:_=null,imageResourcesPath:g="",renderForms:t=!0,l10n:n=f.NullL10n,enableScripting:m=!1,hasJSActionsPromise:o=null,fieldObjectsPromise:d=null,mouseState:x=null,annotationCanvasMap:M=null}){this.pageDiv=i,this.pdfPage=r,this.linkService=u,this.downloadManager=w,this.imageResourcesPath=g,this.renderForms=t,this.l10n=n,this.annotationStorage=_,this.enableScripting=m,this._hasJSActionsPromise=o,this._fieldObjectsPromise=d,this._mouseState=x,this._annotationCanvasMap=M,this.div=null,this._cancelled=!1}render(i,r="display"){var u=this;return b(function*(){const[w,_=!1,g=null]=yield Promise.all([u.pdfPage.getAnnotations({intent:r}),u._hasJSActionsPromise,u._fieldObjectsPromise]);if(u._cancelled||0===w.length)return;const t={viewport:i.clone({dontFlip:!0}),div:u.div,annotations:w,page:u.pdfPage,imageResourcesPath:u.imageResourcesPath,renderForms:u.renderForms,linkService:u.linkService,downloadManager:u.downloadManager,annotationStorage:u.annotationStorage,enableScripting:u.enableScripting,hasJSActions:_,fieldObjects:g,mouseState:u._mouseState,annotationCanvasMap:u._annotationCanvasMap};u.div?y.AnnotationLayer.update(t):(u.div=document.createElement("div"),u.div.className="annotationLayer",u.pageDiv.appendChild(u.div),t.div=u.div,y.AnnotationLayer.render(t),u.l10n.translate(u.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},F=>{let c;c=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:ne(8552),F.exports=c},(F,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.NullL10n=void 0,c.fixupLangCode=function s(r){return f[r?.toLowerCase()]||r},c.getL10nFallback=y;const P={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function y(r,u){switch(r){case"find_match_count":r=`find_match_count[${1===u.total?"one":"other"}]`;break;case"find_match_count_limit":r=`find_match_count_limit[${1===u.limit?"one":"other"}]`}return P[r]||""}const f={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};c.NullL10n={getLanguage:()=>b(function*(){return"en-us"})(),getDirection:()=>b(function*(){return"ltr"})(),get:(r,u=null,w=y(r,u))=>b(function*(){return function A(r,u){return u?r.replace(/\{\{\s*(\w+)\s*\}\}/g,(w,_)=>_ in u?u[_]:"{{"+_+"}}"):r}(w,u)})(),translate:r=>b(function*(){})()}},(F,c,P)=>{var u,w,Ze,g,ct;Object.defineProperty(c,"__esModule",{value:!0}),c.SimpleLinkService=c.PDFLinkService=c.LinkTarget=void 0;var y=P(6);const s={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function A(m,{url:o,target:d,rel:x,enabled:M=!0}={}){if(!o||"string"!=typeof o)throw new Error('A valid "url" parameter must provided.');const k=(0,y.removeNullCharacters)(o);M?m.href=m.title=k:(m.href="",m.title=`Disabled: ${k}`,m.onclick=()=>!1);let I="";switch(d){case s.NONE:break;case s.SELF:I="_self";break;case s.BLANK:I="_blank";break;case s.PARENT:I="_parent";break;case s.TOP:I="_top"}m.target=I,m.rel="string"==typeof x?x:"noopener noreferrer nofollow"}c.LinkTarget=s;const n=class{constructor({eventBus:o,externalLinkTarget:d=null,externalLinkRel:x=null,ignoreDestinationZoom:M=!1}={}){ve(this,w),ve(this,u,new Map),this.eventBus=o,this.externalLinkTarget=d,this.externalLinkRel=x,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=M,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(o,d=null){this.baseUrl=d,this.pdfDocument=o,Ae(this,u).clear()}setViewer(o){this.pdfViewer=o}setHistory(o){this.pdfHistory=o}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(o){this.pdfViewer.currentPageNumber=o}get rotation(){return this.pdfViewer.pagesRotation}set rotation(o){this.pdfViewer.pagesRotation=o}goToDestination(o){var d=this;return b(function*(){var k;if(!d.pdfDocument)return;let x,M;"string"==typeof o?(x=o,M=yield d.pdfDocument.getDestination(o)):(x=null,M=yield o),Array.isArray(M)?ye(k=d,w,Ze).call(k,o,x,M):console.error(`PDFLinkService.goToDestination: "${M}" is not a valid destination array, for dest="${o}".`)})()}goToPage(o){if(!this.pdfDocument)return;const d="string"==typeof o&&this.pdfViewer.pageLabelToPageNumber(o)||0|o;Number.isInteger(d)&&d>0&&d<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(d)),this.pdfViewer.scrollPageIntoView({pageNumber:d})):console.error(`PDFLinkService.goToPage: "${o}" is not a valid page.`)}addLinkAttributes(o,d,x=!1){A(o,{url:d,target:x?s.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(o){if("string"==typeof o){if(o.length>0)return this.getAnchorUrl("#"+escape(o))}else if(Array.isArray(o)){const d=JSON.stringify(o);if(d.length>0)return this.getAnchorUrl("#"+escape(d))}return this.getAnchorUrl("")}getAnchorUrl(o){return(this.baseUrl||"")+o}setHash(o){var M;if(!this.pdfDocument)return;let d,x;if(o.includes("=")){const k=(0,y.parseQueryString)(o);if(k.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:k.get("search").replace(/"/g,""),phraseSearch:"true"===k.get("phrase")}),k.has("page")&&(d=0|k.get("page")||1),k.has("zoom")){const I=k.get("zoom").split(","),j=I[0],z=parseFloat(j);j.includes("Fit")?"Fit"===j||"FitB"===j?x=[null,{name:j}]:"FitH"===j||"FitBH"===j||"FitV"===j||"FitBV"===j?x=[null,{name:j},I.length>1?0|I[1]:null]:"FitR"===j?5!==I.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):x=[null,{name:j},0|I[1],0|I[2],0|I[3],0|I[4]]:console.error(`PDFLinkService.setHash: "${j}" is not a valid zoom value.`):x=[null,{name:"XYZ"},I.length>1?0|I[1]:null,I.length>2?0|I[2]:null,z?z/100:j]}x?this.pdfViewer.scrollPageIntoView({pageNumber:d||this.page,destArray:x,allowNegativeOffset:!0}):d&&(this.page=d),k.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:k.get("pagemode")}),k.has("nameddest")&&this.goToDestination(k.get("nameddest"))}else{x=unescape(o);try{x=JSON.parse(x),Array.isArray(x)||(x=x.toString())}catch{}if("string"==typeof x||ye(M=n,g,ct).call(M,x))return void this.goToDestination(x);console.error(`PDFLinkService.setHash: "${unescape(o)}" is not a valid destination.`)}}executeNamedAction(o){switch(o){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:o})}cachePageRef(o,d){if(!d)return;const x=0===d.gen?`${d.num}R`:`${d.num}R${d.gen}`;Ae(this,u).set(x,o)}_cachedPageNumber(o){if(!o)return null;const d=0===o.gen?`${o.num}R`:`${o.num}R${o.gen}`;return Ae(this,u).get(d)||null}isPageVisible(o){return this.pdfViewer.isPageVisible(o)}isPageCached(o){return this.pdfViewer.isPageCached(o)}};let i=n;u=new WeakMap,w=new WeakSet,Ze=function(o,d=null,x){const M=x[0];let k;if("object"==typeof M&&null!==M){if(k=this._cachedPageNumber(M),!k)return void this.pdfDocument.getPageIndex(M).then(I=>{this.cachePageRef(I+1,M),ye(this,w,Ze).call(this,o,d,x)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${M}" is not a valid page reference, for dest="${o}".`)})}else{if(!Number.isInteger(M))return void console.error(`PDFLinkService.#goToDestinationHelper: "${M}" is not a valid destination reference, for dest="${o}".`);k=M+1}!k||k<1||k>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${k}" is not a valid page number, for dest="${o}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:d,explicitDest:x,pageNumber:k})),this.pdfViewer.scrollPageIntoView({pageNumber:k,destArray:x,ignoreDestinationZoom:this._ignoreDestinationZoom}))},g=new WeakSet,ct=function(o){if(!Array.isArray(o))return!1;const d=o.length;if(d<2)return!1;const x=o[0];if(!("object"==typeof x&&Number.isInteger(x.num)&&Number.isInteger(x.gen)||Number.isInteger(x)&&x>=0))return!1;const M=o[1];if("object"!=typeof M||"string"!=typeof M.name)return!1;let k=!0;switch(M.name){case"XYZ":if(5!==d)return!1;break;case"Fit":case"FitB":return 2===d;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==d)return!1;break;case"FitR":if(6!==d)return!1;k=!1;break;default:return!1}for(let I=2;I<d;I++){const j=o[I];if(!("number"==typeof j||k&&null===j))return!1}return!0},ve(i,g),c.PDFLinkService=i,c.SimpleLinkService=class r{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(o){}get rotation(){return 0}set rotation(o){}goToDestination(o){return b(function*(){})()}goToPage(o){}addLinkAttributes(o,d,x=!1){A(o,{url:d,enabled:this.externalLinkEnabled})}getDestinationHash(o){return"#"}getAnchorUrl(o){return"#"}setHash(o){}executeNamedAction(o){}cachePageRef(o,d){}isPageVisible(o){return!0}isPageCached(o){return!0}}},(F,c)=>{var ce,ht;Object.defineProperty(c,"__esModule",{value:!0}),c.animationStarted=c.VERTICAL_PADDING=c.UNKNOWN_SCALE=c.TextLayerMode=c.SpreadMode=c.SidebarView=c.ScrollMode=c.SCROLLBAR_PADDING=c.RenderingStates=c.RendererType=c.ProgressBar=c.PresentationModeState=c.OutputScale=c.MIN_SCALE=c.MAX_SCALE=c.MAX_AUTO_SCALE=c.DEFAULT_SCALE_VALUE=c.DEFAULT_SCALE_DELTA=c.DEFAULT_SCALE=c.AutoPrintRegExp=void 0,c.apiPageLayoutToViewerModes=function X(Q){let re=o.VERTICAL,ie=d.NONE;switch(Q){case"SinglePage":re=o.PAGE;break;case"OneColumn":break;case"TwoPageLeft":re=o.PAGE;case"TwoColumnLeft":ie=d.ODD;break;case"TwoPageRight":re=o.PAGE;case"TwoColumnRight":ie=d.EVEN}return{scrollMode:re,spreadMode:ie}},c.apiPageModeToSidebarView=function ee(Q){switch(Q){case"UseNone":return t.NONE;case"UseThumbs":return t.THUMBS;case"UseOutlines":return t.OUTLINE;case"UseAttachments":return t.ATTACHMENTS;case"UseOC":return t.LAYERS}return t.NONE},c.approximateFraction=function K(Q){if(Math.floor(Q)===Q)return[Q,1];const re=1/Q;if(re>8)return[1,8];if(Math.floor(re)===re)return[1,re];const v=Q>1?re:Q;let he,D=0,G=1,pe=1,de=1;for(;;){const me=D+pe,_e=G+de;if(_e>8)break;v<=me/_e?(pe=me,de=_e):(D=me,G=_e)}return he=v-D/G<pe/de-v?v===Q?[D,G]:[G,D]:v===Q?[pe,de]:[de,pe],he},c.backtrackBeforeAllVisibleElements=T,c.binarySearchFirstItem=q,c.getActiveOrFocusedElement=function H(){let Q=document,re=Q.activeElement||Q.querySelector(":focus");for(;re?.shadowRoot;)Q=re.shadowRoot,re=Q.activeElement||Q.querySelector(":focus");return re},c.getPageSizeInches=function se({view:Q,userUnit:re,rotate:ie}){const[v,D,G,pe]=Q,de=ie%180!=0,he=(G-v)/72*re,me=(pe-D)/72*re;return{width:de?me:he,height:de?he:me}},c.getVisibleElements=function a({scrollEl:Q,views:re,sortByVisibility:ie=!1,horizontal:v=!1,rtl:D=!1}){const G=Q.scrollTop,pe=G+Q.clientHeight,de=Q.scrollLeft,he=de+Q.clientWidth,Se=[],Ce=new Set,Ee=re.length;let Z=q(re,v?function _e(le){const fe=le.div,ge=fe.offsetLeft+fe.clientLeft;return D?ge<he:ge+fe.clientWidth>de}:function me(le){const fe=le.div;return fe.offsetTop+fe.clientTop+fe.clientHeight>G});Z>0&&Z<Ee&&!v&&(Z=T(Z,re,G));let R=v?he:-1;for(let le=Z;le<Ee;le++){const fe=re[le],ge=fe.div,Pe=ge.offsetLeft+ge.clientLeft,we=ge.offsetTop+ge.clientTop,Me=ge.clientWidth,xe=ge.clientHeight,Re=Pe+Me,ke=we+xe;if(-1===R)ke>=pe&&(R=ke);else if((v?Pe:we)>R)break;if(ke<=G||we>=pe||Re<=de||Pe>=he)continue;const Be=Math.max(0,G-we)+Math.max(0,ke-pe),Fe=(Me-(Math.max(0,de-Pe)+Math.max(0,Re-he)))/Me;Se.push({id:fe.id,x:Pe,y:we,view:fe,percent:(xe-Be)/xe*Fe*100|0,widthPercent:100*Fe|0}),Ce.add(fe.id)}const O=Se[0],ae=Se[Se.length-1];return ie&&Se.sort(function(le,fe){const ge=le.percent-fe.percent;return Math.abs(ge)>.001?-ge:le.id-fe.id}),{first:O,last:ae,views:Se,ids:Ce}},c.isPortraitOrientation=function E(Q){return Q.width<=Q.height},c.isValidRotation=function p(Q){return Number.isInteger(Q)&&Q%90==0},c.isValidScrollMode=function C(Q){return Number.isInteger(Q)&&Object.values(o).includes(Q)&&Q!==o.UNKNOWN},c.isValidSpreadMode=function S(Q){return Number.isInteger(Q)&&Object.values(d).includes(Q)&&Q!==d.UNKNOWN},c.noContextMenuHandler=function h(Q){Q.preventDefault()},c.normalizeWheelEventDelta=function l(Q){let re=e(Q);return 0===Q.deltaMode?re/=900:1===Q.deltaMode&&(re/=30),re},c.normalizeWheelEventDirection=e,c.parseQueryString=function j(Q){const re=new Map;for(const[ie,v]of new URLSearchParams(Q))re.set(ie.toLowerCase(),v);return re},c.removeNullCharacters=function N(Q,re=!1){return"string"!=typeof Q?(console.error("The argument must be a string."),Q):(re&&(Q=Q.replace(J," ")),Q.replace(z,""))},c.roundToDivide=function te(Q,re){const ie=Q%re;return 0===ie?Q:Math.round(Q-ie+re)},c.scrollIntoView=function k(Q,re,ie=!1){let v=Q.offsetParent;if(!v)return void console.error("offsetParent is not set -- cannot scroll");let D=Q.offsetTop+Q.clientTop,G=Q.offsetLeft+Q.clientLeft;for(;v.clientHeight===v.scrollHeight&&v.clientWidth===v.scrollWidth||ie&&(v.classList.contains("markedContent")||"hidden"===getComputedStyle(v).overflow);)if(D+=v.offsetTop,G+=v.offsetLeft,v=v.offsetParent,!v)return;re&&(void 0!==re.top&&(D+=re.top),void 0!==re.left&&(G+=re.left,v.scrollLeft=G)),v.scrollTop=D},c.watchScroll=function I(Q,re){const ie=function(G){D||(D=window.requestAnimationFrame(function(){D=null;const de=Q.scrollLeft,he=v.lastX;de!==he&&(v.right=de>he),v.lastX=de;const me=Q.scrollTop,_e=v.lastY;me!==_e&&(v.down=me>_e),v.lastY=me,re(v)}))},v={right:!0,down:!0,lastX:Q.scrollLeft,lastY:Q.scrollTop,_eventHandler:ie};let D=null;return Q.addEventListener("scroll",ie,!0),v},c.DEFAULT_SCALE_VALUE="auto",c.DEFAULT_SCALE=1,c.DEFAULT_SCALE_DELTA=1.1,c.MIN_SCALE=.1,c.MAX_SCALE=10,c.UNKNOWN_SCALE=0,c.MAX_AUTO_SCALE=1.25,c.SCROLLBAR_PADDING=40,c.VERTICAL_PADDING=5,c.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},c.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const t={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};c.SidebarView=t,c.RendererType={CANVAS:"canvas",SVG:"svg"},c.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const o={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};c.ScrollMode=o;const d={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};c.SpreadMode=d,c.AutoPrintRegExp=/\bprint\s*\(/,c.OutputScale=class M{constructor(){const re=window.devicePixelRatio||1;this.sx=re,this.sy=re}get scaled(){return 1!==this.sx||1!==this.sy}};const z=/\x00/g,J=/[\x01-\x1F]/g;function q(Q,re,ie=0){let v=ie,D=Q.length-1;if(D<0||!re(Q[D]))return Q.length;if(re(Q[v]))return v;for(;v<D;){const G=v+D>>1;re(Q[G])?D=G:v=G+1}return v}function T(Q,re,ie){if(Q<2)return Q;let v=re[Q].div,D=v.offsetTop+v.clientTop;D>=ie&&(v=re[Q-1].div,D=v.offsetTop+v.clientTop);for(let G=Q-2;G>=0&&(v=re[G].div,!(v.offsetTop+v.clientTop+v.clientHeight<=D));--G)Q=G;return Q}function e(Q){let re=Math.hypot(Q.deltaX,Q.deltaY);const ie=Math.atan2(Q.deltaY,Q.deltaX);return-.25*Math.PI<ie&&ie<.75*Math.PI&&(re=-re),re}const B=new Promise(function(Q){window.requestAnimationFrame(Q)});c.animationStarted=B,ce=new WeakSet,ht=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},c.ProgressBar=class V{constructor(re){if(ve(this,ce),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(re+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(re){this._indeterminate=isNaN(re),this._percent=function U(Q,re,ie){return Math.min(Math.max(Q,re),ie)}(re,0,100),ye(this,ce,ht).call(this)}setWidth(re){if(!re)return;const v=re.parentNode.offsetWidth-re.offsetWidth;v>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${v}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(F,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StructTreeLayerBuilder=void 0;const P={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},y=/^H(\d+)$/;c.StructTreeLayerBuilder=class f{constructor({pdfPage:A}){this.pdfPage=A}render(A){return this._walk(A)}_setAttributes(A,i){void 0!==A.alt&&i.setAttribute("aria-label",A.alt),void 0!==A.id&&i.setAttribute("aria-owns",A.id),void 0!==A.lang&&i.setAttribute("lang",A.lang)}_walk(A){if(!A)return null;const i=document.createElement("span");if("role"in A){const{role:r}=A,u=r.match(y);u?(i.setAttribute("role","heading"),i.setAttribute("aria-level",u[1])):P[r]&&i.setAttribute("role",P[r])}if(this._setAttributes(A,i),A.children)if(1===A.children.length&&"id"in A.children[0])this._setAttributes(A.children[0],i);else for(const r of A.children)i.appendChild(this._walk(r));return i}}},(F,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextLayerBuilder=void 0;var y=P(3);c.TextLayerBuilder=class s{constructor({textLayerDiv:i,eventBus:r,pageIndex:u,viewport:w,highlighter:_=null,enhanceTextSelection:g=!1}){this.textLayerDiv=i,this.eventBus=r,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=u+1,this.viewport=w,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=_,this.enhanceTextSelection=g,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const i=document.createElement("div");i.className="endOfContent",this.textLayerDiv.appendChild(i)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(i=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const r=document.createDocumentFragment();this.textLayerRenderTask=(0,y.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:r,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:i,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(r),this._finishRendering(),this.highlighter?.enable()},function(u){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(i){this.cancel(),this.textContentStream=i}setTextContent(i){this.cancel(),this.textContent=i}_bindMouse(){const i=this.textLayerDiv;let r=null;i.addEventListener("mousedown",u=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(r&&(clearTimeout(r),r=null));const w=i.querySelector(".endOfContent");if(!w)return;let _=u.target!==i;if(_=_&&"none"!==window.getComputedStyle(w).getPropertyValue("-moz-user-select"),_){const g=i.getBoundingClientRect(),t=Math.max(0,(u.pageY-g.top)/g.height);w.style.top=(100*t).toFixed(2)+"%"}w.classList.add("active")}),i.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(r=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),r=null},300));const u=i.querySelector(".endOfContent");!u||(u.style.top="",u.classList.remove("active"))})}}},(F,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaLayerBuilder=void 0;var y=P(3);c.XfaLayerBuilder=class f{constructor({pageDiv:A,pdfPage:i,annotationStorage:r=null,linkService:u,xfaHtml:w=null}){this.pageDiv=A,this.pdfPage=i,this.annotationStorage=r,this.linkService=u,this.xfaHtml=w,this.div=null,this._cancelled=!1}render(A,i="display"){if("print"===i){const r={viewport:A.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i},u=document.createElement("div");this.pageDiv.appendChild(u),r.div=u;const w=y.XfaLayer.render(r);return Promise.resolve(w)}return this.pdfPage.getXfa().then(r=>{if(this._cancelled||!r)return{textDivs:[]};const u={viewport:A.clone({dontFlip:!0}),div:this.div,xfaHtml:r,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:i};return this.div?y.XfaLayer.update(u):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),u.div=this.div,y.XfaLayer.render(u))}).catch(r=>{console.error(r)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(F,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFViewer=c.PDFSinglePageViewer=void 0;var y=P(6),f=P(11);c.PDFViewer=class s extends f.BaseViewer{},c.PDFSinglePageViewer=class A extends f.BaseViewer{_resetView(){super._resetView(),this._scrollMode=y.ScrollMode.PAGE,this._spreadMode=y.SpreadMode.NONE}set scrollMode(r){}_updateScrollMode(){}set spreadMode(r){}_updateSpreadMode(){}}},(F,c,P)=>{var M,k,I,et,z,J,N,q,K,te,se,T,ut,h,dt,l,We,C,qe,E,ft,U,tt,H,pt,ee,gt,be,_t;Object.defineProperty(c,"__esModule",{value:!0}),c.PagesCountLimit=c.PDFPageViewBuffer=c.BaseViewer=void 0;var y=P(3),f=P(6),s=P(2),A=P(4),i=P(12),r=P(14),u=P(5),w=P(7),_=P(15),g=P(8),t=P(9);const m="enablePermissions",o={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};c.PagesCountLimit=o;class d{constructor(v){ve(this,I),ve(this,M,new Set),ve(this,k,0),Te(this,k,v)}push(v){const D=Ae(this,M);D.has(v)&&D.delete(v),D.add(v),D.size>Ae(this,k)&&ye(this,I,et).call(this)}resize(v,D=null){Te(this,k,v);const G=Ae(this,M);if(D){const pe=G.size;let de=1;for(const he of G)if(D.has(he.id)&&(G.delete(he),G.add(he)),++de>pe)break}for(;G.size>Ae(this,k);)ye(this,I,et).call(this)}has(v){return Ae(this,M).has(v)}[Symbol.iterator](){return Ae(this,M).keys()}}M=new WeakMap,k=new WeakMap,I=new WeakSet,et=function(){const v=Ae(this,M).keys().next().value;v?.destroy(),Ae(this,M).delete(v)},c.PDFPageViewBuffer=d;const re=class{constructor(v){if(ve(this,T),ve(this,h),ve(this,l),ve(this,C),ve(this,E),ve(this,U),ve(this,H),ve(this,ee),ve(this,be),ve(this,z,null),ve(this,J,y.AnnotationMode.ENABLE_FORMS),ve(this,N,null),ve(this,q,!1),ve(this,K,0),ve(this,te,null),ve(this,se,null),this.constructor===re)throw new Error("Cannot initialize BaseViewer.");const D="2.14.305";if(y.version!==D)throw new Error(`The API version "${y.version}" does not match the Viewer version "${D}".`);if(this.container=v.container,this.viewer=v.viewer||v.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=v.eventBus,this.linkService=v.linkService||new u.SimpleLinkService,this.downloadManager=v.downloadManager||null,this.findController=v.findController||null,this._scriptingManager=v.scriptingManager||null,this.removePageBorders=v.removePageBorders||!1,this.textLayerMode=v.textLayerMode??f.TextLayerMode.ENABLE,Te(this,J,v.annotationMode??y.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=v.imageResourcesPath||"",this.enablePrintAutoRotate=v.enablePrintAutoRotate||!1,this.renderer=v.renderer||f.RendererType.CANVAS,this.useOnlyCssZoom=v.useOnlyCssZoom||!1,this.maxCanvasPixels=v.maxCanvasPixels,this.l10n=v.l10n||A.NullL10n,Te(this,q,v.enablePermissions||!1),this.pageColors=v.pageColors||null,v.pageColors&&(!CSS.supports("color",v.pageColors.background)||!CSS.supports("color",v.pageColors.foreground))&&((v.pageColors.background||v.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!v.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new r.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=v.renderingQueue,this._doc=document.documentElement,this.scroll=(0,f.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=f.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(v){return this._pages[v]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(v){return v?.pdfPage})}get renderForms(){return Ae(this,J)===y.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(v){if(!Number.isInteger(v))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(v,!0)||console.error(`currentPageNumber: "${v}" is not a valid page.`)}_setCurrentPageNumber(v,D=!1){if(this._currentPageNumber===v)return D&&ye(this,U,tt).call(this),!0;if(!(0<v&&v<=this.pagesCount))return!1;const G=this._currentPageNumber;return this._currentPageNumber=v,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:v,pageLabel:this._pageLabels?.[v-1]??null,previous:G}),D&&ye(this,U,tt).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(v){if(!this.pdfDocument)return;let D=0|v;if(this._pageLabels){const G=this._pageLabels.indexOf(v);G>=0&&(D=G+1)}this._setCurrentPageNumber(D,!0)||console.error(`currentPageLabel: "${v}" is not a valid page.`)}get currentScale(){return this._currentScale!==f.UNKNOWN_SCALE?this._currentScale:f.DEFAULT_SCALE}set currentScale(v){if(isNaN(v))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(v,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(v){!this.pdfDocument||this._setScale(v,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(v){if(!(0,f.isValidRotation)(v))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((v%=360)<0&&(v+=360),this._pagesRotation===v))return;this._pagesRotation=v;const D=this._currentPageNumber,G={rotation:v};for(const pe of this._pages)pe.update(G);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:v,pageNumber:D}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(v){var D=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=v,!v)return;const G=v.isPureXfa,pe=v.numPages,de=v.getPage(1),he=v.getOptionalContentConfig(),me=Ae(this,q)?v.getPermissions():Promise.resolve();if(pe>o.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const _e=this._scrollMode=f.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:_e})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:pe})},()=>{}),this._onBeforeDraw=_e=>{const Se=this._pages[_e.pageNumber-1];!Se||Ae(this,z).push(Se)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=_e=>{_e.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:_e.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Ae(this,se)&&(document.removeEventListener("visibilitychange",Ae(this,se)),Te(this,se,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([de,me]).then(([_e,Se])=>{if(v!==this.pdfDocument)return;this._firstPageCapability.resolve(_e),this._optionalContentConfigPromise=he,ye(this,T,ut).call(this,Se);const Ce=this._scrollMode===f.ScrollMode.PAGE?null:this.viewer,Ee=this.currentScale,Z=_e.getViewport({scale:Ee*y.PixelsPerInch.PDF_TO_CSS_UNITS}),R=this.textLayerMode===f.TextLayerMode.DISABLE||G?null:this,O=Ae(this,J)!==y.AnnotationMode.DISABLE?this:null,ae=G?this:null;for(let fe=1;fe<=pe;++fe){const ge=new i.PDFPageView({container:Ce,eventBus:this.eventBus,id:fe,scale:Ee,defaultViewport:Z.clone(),optionalContentConfigPromise:he,renderingQueue:this.renderingQueue,textLayerFactory:R,textLayerMode:this.textLayerMode,annotationLayerFactory:O,annotationMode:Ae(this,J),xfaLayerFactory:ae,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(ge)}const le=this._pages[0];le&&(le.setPdfPage(_e),this.linkService.cachePageRef(1,_e.ref)),this._scrollMode===f.ScrollMode.PAGE?ye(this,l,We).call(this):this._spreadMode!==f.SpreadMode.NONE&&this._updateSpreadMode(),ye(this,h,dt).call(this).then(b(function*(){if(D.findController&&D.findController.setDocument(v),D._scriptingManager&&D._scriptingManager.setDocument(v),v.loadingParams.disableAutoFetch||pe>o.FORCE_LAZY_PAGE_INIT)return void D._pagesCapability.resolve();let fe=pe-1;if(fe<=0)D._pagesCapability.resolve();else for(let ge=2;ge<=pe;++ge){const Pe=v.getPage(ge).then(we=>{const Me=D._pages[ge-1];Me.pdfPage||Me.setPdfPage(we),D.linkService.cachePageRef(ge,we.ref),0==--fe&&D._pagesCapability.resolve()},we=>{console.error(`Unable to get page ${ge} to initialize viewer`,we),0==--fe&&D._pagesCapability.resolve()});ge%o.PAUSE_EAGER_PAGE_INIT==0&&(yield Pe)}})),this.eventBus.dispatch("pagesinit",{source:this}),v.getMetadata().then(({info:fe})=>{v===this.pdfDocument&&fe.Language&&(this.viewer.lang=fe.Language)}),this.defaultRenderingQueue&&this.update()}).catch(_e=>{console.error("Unable to initialize viewer",_e),this._pagesCapability.reject(_e)})}setPageLabels(v){if(this.pdfDocument){v?Array.isArray(v)&&this.pdfDocument.numPages===v.length?this._pageLabels=v:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let D=0,G=this._pages.length;D<G;D++)this._pages[D].setPageLabel(this._pageLabels?.[D]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=f.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Te(this,z,new d(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,y.createPromiseCapability)(),this._onePageRenderedCapability=(0,y.createPromiseCapability)(),this._pagesCapability=(0,y.createPromiseCapability)(),this._scrollMode=f.ScrollMode.VERTICAL,this._previousScrollMode=f.ScrollMode.UNKNOWN,this._spreadMode=f.SpreadMode.NONE,Te(this,te,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Ae(this,se)&&(document.removeEventListener("visibilitychange",Ae(this,se)),Te(this,se,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(m),null!==Ae(this,N)&&(Te(this,J,Ae(this,N)),Te(this,N,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(v,D,G=!1,pe=!1){if(this._currentScaleValue=D.toString(),ye(this,E,ft).call(this,v))return void(pe&&this.eventBus.dispatch("scalechanging",{source:this,scale:v,presetValue:D}));this._doc.style.setProperty("--zoom-factor",v);const de={scale:v};for(const he of this._pages)he.update(de);if(this._currentScale=v,!G){let me,he=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(he=this._location.pageNumber,me=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:he,destArray:me,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:v,presetValue:pe?D:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==f.SpreadMode.NONE&&this._scrollMode!==f.ScrollMode.HORIZONTAL?2:1}_setScale(v,D=!1){let G=parseFloat(v);if(G>0)this._setScaleUpdatePages(G,v,D,!1);else{const pe=this._pages[this._currentPageNumber-1];if(!pe)return;let de=f.SCROLLBAR_PADDING,he=f.VERTICAL_PADDING;this.isInPresentationMode?de=he=4:this.removePageBorders?de=he=0:this._scrollMode===f.ScrollMode.HORIZONTAL&&([de,he]=[he,de]);const me=(this.container.clientWidth-de)/pe.width*pe.scale/this._pageWidthScaleFactor,_e=(this.container.clientHeight-he)/pe.height*pe.scale;switch(v){case"page-actual":G=1;break;case"page-width":G=me;break;case"page-height":G=_e;break;case"page-fit":G=Math.min(me,_e);break;case"auto":const Se=(0,f.isPortraitOrientation)(pe)?me:Math.min(_e,me);G=Math.min(f.MAX_AUTO_SCALE,Se);break;default:return void console.error(`_setScale: "${v}" is an unknown zoom value.`)}this._setScaleUpdatePages(G,v,D,!0)}}pageLabelToPageNumber(v){if(!this._pageLabels)return null;const D=this._pageLabels.indexOf(v);return D<0?null:D+1}scrollPageIntoView({pageNumber:v,destArray:D=null,allowNegativeOffset:G=!1,ignoreDestinationZoom:pe=!1}){if(!this.pdfDocument)return;const de=Number.isInteger(v)&&this._pages[v-1];if(!de)return void console.error(`scrollPageIntoView: "${v}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!D)return void this._setCurrentPageNumber(v,!0);let Ce,Ee,he=0,me=0,_e=0,Se=0;const Z=de.rotation%180!=0,R=(Z?de.height:de.width)/de.scale/y.PixelsPerInch.PDF_TO_CSS_UNITS,O=(Z?de.width:de.height)/de.scale/y.PixelsPerInch.PDF_TO_CSS_UNITS;let ae=0;switch(D[1].name){case"XYZ":he=D[2],me=D[3],ae=D[4],he=null!==he?he:0,me=null!==me?me:O;break;case"Fit":case"FitB":ae="page-fit";break;case"FitH":case"FitBH":me=D[2],ae="page-width",null===me&&this._location?(he=this._location.left,me=this._location.top):("number"!=typeof me||me<0)&&(me=O);break;case"FitV":case"FitBV":he=D[2],_e=R,Se=O,ae="page-height";break;case"FitR":he=D[2],me=D[3],_e=D[4]-he,Se=D[5]-me,Ce=(this.container.clientWidth-(this.removePageBorders?0:f.SCROLLBAR_PADDING))/_e/y.PixelsPerInch.PDF_TO_CSS_UNITS,Ee=(this.container.clientHeight-(this.removePageBorders?0:f.VERTICAL_PADDING))/Se/y.PixelsPerInch.PDF_TO_CSS_UNITS,ae=Math.min(Math.abs(Ce),Math.abs(Ee));break;default:return void console.error(`scrollPageIntoView: "${D[1].name}" is not a valid destination type.`)}if(pe||(ae&&ae!==this._currentScale?this.currentScaleValue=ae:this._currentScale===f.UNKNOWN_SCALE&&(this.currentScaleValue=f.DEFAULT_SCALE_VALUE)),"page-fit"===ae&&!D[4])return void ye(this,C,qe).call(this,de);const le=[de.viewport.convertToViewportPoint(he,me),de.viewport.convertToViewportPoint(he+_e,me+Se)];let fe=Math.min(le[0][0],le[1][0]),ge=Math.min(le[0][1],le[1][1]);G||(fe=Math.max(fe,0),ge=Math.max(ge,0)),ye(this,C,qe).call(this,de,{left:fe,top:ge})}_updateLocation(v){const D=this._currentScale,G=this._currentScaleValue,pe=parseFloat(G)===D?Math.round(1e4*D)/100:G,de=v.id,me=this.container,_e=this._pages[de-1].getPagePoint(me.scrollLeft-v.x,me.scrollTop-v.y),Se=Math.round(_e[0]),Ce=Math.round(_e[1]);let Ee=`#page=${de}`;this.isInPresentationMode||(Ee+=`&zoom=${pe},${Se},${Ce}`),this._location={pageNumber:de,scale:pe,top:Ce,left:Se,rotation:this._pagesRotation,pdfOpenParams:Ee}}update(){const v=this._getVisiblePages(),D=v.views,G=D.length;if(0===G)return;const pe=Math.max(10,2*G+1);Ae(this,z).resize(pe,v.ids),this.renderingQueue.renderHighestPriority(v);const de=this._spreadMode===f.SpreadMode.NONE&&(this._scrollMode===f.ScrollMode.PAGE||this._scrollMode===f.ScrollMode.VERTICAL),he=this._currentPageNumber;let me=!1;for(const _e of D){if(_e.percent<100)break;if(_e.id===he&&de){me=!0;break}}this._setCurrentPageNumber(me?he:D[0].id),this._updateLocation(v.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(v){return this.container.contains(v)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===f.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===f.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const v=this._scrollMode===f.ScrollMode.PAGE?Ae(this,te).pages:this._pages,D=this._scrollMode===f.ScrollMode.HORIZONTAL;return(0,f.getVisibleElements)({scrollEl:this.container,views:v,sortByVisibility:!0,horizontal:D,rtl:D&&this._isContainerRtl})}isPageVisible(v){return!!this.pdfDocument&&(Number.isInteger(v)&&v>0&&v<=this.pagesCount?this._getVisiblePages().ids.has(v):(console.error(`isPageVisible: "${v}" is not a valid page.`),!1))}isPageCached(v){if(!this.pdfDocument)return!1;if(!(Number.isInteger(v)&&v>0&&v<=this.pagesCount))return console.error(`isPageCached: "${v}" is not a valid page.`),!1;const D=this._pages[v-1];return Ae(this,z).has(D)}cleanup(){for(const v of this._pages)v.renderingState!==f.RenderingStates.FINISHED&&v.reset()}_cancelRendering(){for(const v of this._pages)v.cancelRendering()}forceRendering(v){const D=v||this._getVisiblePages(),G=ye(this,ee,gt).call(this,D),de=this.renderingQueue.getHighestPriority(D,this._pages,G,this._spreadMode!==f.SpreadMode.NONE&&this._scrollMode!==f.ScrollMode.HORIZONTAL);return ye(this,be,_t).call(this,D.ids),!!de&&(ye(this,H,pt).call(this,de).then(()=>{this.renderingQueue.renderView(de)}),!0)}createTextLayerBuilder(v,D,G,pe=!1,de,he){return new g.TextLayerBuilder({textLayerDiv:v,eventBus:de,pageIndex:D,viewport:G,enhanceTextSelection:!this.isInPresentationMode&&pe,highlighter:he})}createTextHighlighter(v,D){return new _.TextHighlighter({eventBus:D,pageIndex:v,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(v,D,G=null,pe="",de=!0,he=A.NullL10n,me=null,_e=null,Se=null,Ce=null,Ee=null){return new s.AnnotationLayerBuilder({pageDiv:v,pdfPage:D,annotationStorage:G||this.pdfDocument?.annotationStorage,imageResourcesPath:pe,renderForms:de,linkService:this.linkService,downloadManager:this.downloadManager,l10n:he,enableScripting:me??this.enableScripting,hasJSActionsPromise:_e||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Ce||this.pdfDocument?.getFieldObjects(),mouseState:Se||this._scriptingManager?.mouseState,annotationCanvasMap:Ee})}createXfaLayerBuilder(v,D,G=null){return new t.XfaLayerBuilder({pageDiv:v,pdfPage:D,annotationStorage:G||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(v){return new w.StructTreeLayerBuilder({pdfPage:v})}get hasEqualPageSizes(){const v=this._pages[0];for(let D=1,G=this._pages.length;D<G;++D){const pe=this._pages[D];if(pe.width!==v.width||pe.height!==v.height)return!1}return!0}getPagesOverview(){return this._pages.map(v=>{const D=v.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,f.isPortraitOrientation)(D)?{width:D.width,height:D.height,rotation:D.rotation}:{width:D.height,height:D.width,rotation:(D.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(v){if(!(v instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${v}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=v;const D={optionalContentConfigPromise:v};for(const G of this._pages)G.update(D);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:v})}get scrollMode(){return this._scrollMode}set scrollMode(v){if(this._scrollMode!==v){if(!(0,f.isValidScrollMode)(v))throw new Error(`Invalid scroll mode: ${v}`);this.pagesCount>o.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=v,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:v}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(v=null){const D=this._scrollMode,G=this.viewer;G.classList.toggle("scrollHorizontal",D===f.ScrollMode.HORIZONTAL),G.classList.toggle("scrollWrapped",D===f.ScrollMode.WRAPPED),this.pdfDocument&&v&&(D===f.ScrollMode.PAGE?ye(this,l,We).call(this):this._previousScrollMode===f.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(v,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(v){if(this._spreadMode!==v){if(!(0,f.isValidSpreadMode)(v))throw new Error(`Invalid spread mode: ${v}`);this._spreadMode=v,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:v}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(v=null){if(!this.pdfDocument)return;const D=this.viewer,G=this._pages;if(this._scrollMode===f.ScrollMode.PAGE)ye(this,l,We).call(this);else if(D.textContent="",this._spreadMode===f.SpreadMode.NONE)for(const pe of this._pages)D.appendChild(pe.div);else{const pe=this._spreadMode-1;let de=null;for(let he=0,me=G.length;he<me;++he)null===de?(de=document.createElement("div"),de.className="spread",D.appendChild(de)):he%2===pe&&(de=de.cloneNode(!1),D.appendChild(de)),de.appendChild(G[he].div)}!v||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(v,!0),this.update())}_getPageAdvance(v,D=!1){switch(this._scrollMode){case f.ScrollMode.WRAPPED:{const{views:G}=this._getVisiblePages(),pe=new Map;for(const{id:de,y:he,percent:me,widthPercent:_e}of G){if(0===me||_e<100)continue;let Se=pe.get(he);Se||pe.set(he,Se||(Se=[])),Se.push(de)}for(const de of pe.values()){const he=de.indexOf(v);if(-1===he)continue;const me=de.length;if(1===me)break;if(D)for(let _e=he-1,Se=0;_e>=Se;_e--){const Ee=de[_e+1]-1;if(de[_e]<Ee)return v-Ee}else for(let _e=he+1,Se=me;_e<Se;_e++){const Ee=de[_e-1]+1;if(de[_e]>Ee)return Ee-v}if(D){const _e=de[0];if(_e<v)return v-_e+1}else{const _e=de[me-1];if(_e>v)return _e-v+1}break}break}case f.ScrollMode.HORIZONTAL:break;case f.ScrollMode.PAGE:case f.ScrollMode.VERTICAL:{if(this._spreadMode===f.SpreadMode.NONE)break;const G=this._spreadMode-1;if(D&&v%2!==G)break;if(!D&&v%2===G)break;const{views:pe}=this._getVisiblePages(),de=D?v-1:v+1;for(const{id:he,percent:me,widthPercent:_e}of pe)if(he===de){if(me>0&&100===_e)return 2;break}break}}return 1}nextPage(){const v=this._currentPageNumber,D=this.pagesCount;if(v>=D)return!1;const G=this._getPageAdvance(v,!1)||1;return this.currentPageNumber=Math.min(v+G,D),!0}previousPage(){const v=this._currentPageNumber;if(v<=1)return!1;const D=this._getPageAdvance(v,!0)||1;return this.currentPageNumber=Math.max(v-D,1),!0}increaseScale(v=1){let D=this._currentScale;do{D=(D*f.DEFAULT_SCALE_DELTA).toFixed(2),D=Math.ceil(10*D)/10,D=Math.min(f.MAX_SCALE,D)}while(--v>0&&D<f.MAX_SCALE);this.currentScaleValue=D}decreaseScale(v=1){let D=this._currentScale;do{D=(D/f.DEFAULT_SCALE_DELTA).toFixed(2),D=Math.floor(10*D)/10,D=Math.max(f.MIN_SCALE,D)}while(--v>0&&D>f.MIN_SCALE);this.currentScaleValue=D}updateContainerHeightCss(){const v=this.container.clientHeight;v!==Ae(this,K)&&(Te(this,K,v),this._doc.style.setProperty("--viewer-container-height",`${v}px`))}};let x=re;z=new WeakMap,J=new WeakMap,N=new WeakMap,q=new WeakMap,K=new WeakMap,te=new WeakMap,se=new WeakMap,T=new WeakSet,ut=function(v){!v||(v.includes(y.PermissionFlag.COPY)||this.viewer.classList.add(m),!v.includes(y.PermissionFlag.MODIFY_ANNOTATIONS)&&!v.includes(y.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Ae(this,J)===y.AnnotationMode.ENABLE_FORMS&&(Te(this,N,Ae(this,J)),Te(this,J,y.AnnotationMode.ENABLE)))},h=new WeakSet,dt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const v=new Promise(D=>{Te(this,se,()=>{"hidden"===document.visibilityState&&(D(),document.removeEventListener("visibilitychange",Ae(this,se)),Te(this,se,null))}),document.addEventListener("visibilitychange",Ae(this,se))});return Promise.race([this._onePageRenderedCapability.promise,v])},l=new WeakSet,We=function(){if(this._scrollMode!==f.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const v=this._currentPageNumber,D=Ae(this,te),G=this.viewer;if(G.textContent="",D.pages.length=0,this._spreadMode!==f.SpreadMode.NONE||this.isInPresentationMode){const pe=new Set,de=this._spreadMode-1;-1===de?pe.add(v-1):v%2!==de?(pe.add(v-1),pe.add(v)):(pe.add(v-2),pe.add(v-1));const he=document.createElement("div");if(he.className="spread",this.isInPresentationMode){const me=document.createElement("div");me.className="dummyPage",he.appendChild(me)}for(const me of pe){const _e=this._pages[me];!_e||(he.appendChild(_e.div),D.pages.push(_e))}G.appendChild(he)}else{const pe=this._pages[v-1];G.appendChild(pe.div),D.pages.push(pe)}D.scrollDown=v>=D.previousPageNumber,D.previousPageNumber=v},C=new WeakSet,qe=function(v,D=null){const{div:G,id:pe}=v;if(this._scrollMode===f.ScrollMode.PAGE&&(this._setCurrentPageNumber(pe),ye(this,l,We).call(this),this.update()),!D&&!this.isInPresentationMode){const de=G.offsetLeft+G.clientLeft,he=de+G.clientWidth,{scrollLeft:me,clientWidth:_e}=this.container;(this._scrollMode===f.ScrollMode.HORIZONTAL||de<me||he>me+_e)&&(D={left:0,top:0})}(0,f.scrollIntoView)(G,D)},E=new WeakSet,ft=function(v){return v===this._currentScale||Math.abs(v-this._currentScale)<1e-15},U=new WeakSet,tt=function(){const v=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),ye(this,C,qe).call(this,v)},H=new WeakSet,pt=function(v){var D=this;return b(function*(){if(v.pdfPage)return v.pdfPage;try{const G=yield D.pdfDocument.getPage(v.id);return v.pdfPage||v.setPdfPage(G),D.linkService._cachedPageNumber?.(G.ref)||D.linkService.cachePageRef(v.id,G.ref),G}catch(G){return console.error("Unable to get page for page view",G),null}})()},ee=new WeakSet,gt=function(v){if(1===v.first?.id)return!0;if(v.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case f.ScrollMode.PAGE:return Ae(this,te).scrollDown;case f.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},be=new WeakSet,_t=function(v){for(const D of v)this._pages[D-1]?.toggleLoadingIconSpinner(!0);for(const D of Ae(this,z))v.has(D.id)||D.toggleLoadingIconSpinner(!1)},c.BaseViewer=x},(F,c,P)=>{var u;Object.defineProperty(c,"__esModule",{value:!0}),c.PDFPageView=void 0;var y=P(3),f=P(6),s=P(13),A=P(4);const i=s.compatibilityParams.maxCanvasPixels||16777216;u=new WeakMap,c.PDFPageView=class r{constructor(_){ve(this,u,y.AnnotationMode.ENABLE_FORMS);const g=_.container,t=_.defaultViewport;this.id=_.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=_.scale||f.DEFAULT_SCALE,this.viewport=t,this.pdfPageRotate=t.rotation,this._optionalContentConfigPromise=_.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=_.textLayerMode??f.TextLayerMode.ENABLE,Te(this,u,_.annotationMode??y.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=_.imageResourcesPath||"",this.useOnlyCssZoom=_.useOnlyCssZoom||!1,this.maxCanvasPixels=_.maxCanvasPixels||i,this.pageColors=_.pageColors||null,this.eventBus=_.eventBus,this.renderingQueue=_.renderingQueue,this.textLayerFactory=_.textLayerFactory,this.annotationLayerFactory=_.annotationLayerFactory,this.xfaLayerFactory=_.xfaLayerFactory,this.textHighlighter=_.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=_.structTreeLayerFactory,this.renderer=_.renderer||f.RendererType.CANVAS,this.l10n=_.l10n||A.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=f.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const n=document.createElement("div");n.className="page",n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px",n.setAttribute("data-page-number",this.id),n.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(m=>{n.setAttribute("aria-label",m)}),this.div=n,g?.appendChild(n)}setPdfPage(_){this.pdfPage=_,this.pdfPageRotate=_.rotate,this.viewport=_.getViewport({scale:this.scale*y.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var _=this;return b(function*(){let g=null;try{yield _.annotationLayer.render(_.viewport,"display")}catch(t){g=t}finally{_.eventBus.dispatch("annotationlayerrendered",{source:_,pageNumber:_.id,error:g})}})()}_renderXfaLayer(){var _=this;return b(function*(){let g=null;try{const t=yield _.xfaLayer.render(_.viewport,"display");_.textHighlighter&&_._buildXfaTextContentItems(t.textDivs)}catch(t){g=t}finally{_.eventBus.dispatch("xfalayerrendered",{source:_,pageNumber:_.id,error:g})}})()}_buildXfaTextContentItems(_){var g=this;return b(function*(){const t=yield g.pdfPage.getTextContent(),n=[];for(const m of t.items)n.push(m.str);g.textHighlighter.setTextMapping(_,n),g.textHighlighter.enable()})()}_resetZoomLayer(_=!1){if(!this.zoomLayer)return;const g=this.zoomLayer.firstChild;this.paintedViewportMap.delete(g),g.width=0,g.height=0,_&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:_=!1,keepAnnotationLayer:g=!1,keepXfaLayer:t=!1}={}){this.cancelRendering({keepAnnotationLayer:g,keepXfaLayer:t}),this.renderingState=f.RenderingStates.INITIAL;const n=this.div;n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px";const m=n.childNodes,o=_&&this.zoomLayer||null,d=g&&this.annotationLayer?.div||null,x=t&&this.xfaLayer?.div||null;for(let M=m.length-1;M>=0;M--){const k=m[M];switch(k){case o:case d:case x:continue}k.remove()}n.removeAttribute("data-loaded"),d&&this.annotationLayer.hide(),x&&this.xfaLayer.hide(),o||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(M=>{this.loadingIconDiv?.setAttribute("aria-label",M)}),n.appendChild(this.loadingIconDiv)}update({scale:_=0,rotation:g=null,optionalContentConfigPromise:t=null}){if(this.scale=_||this.scale,"number"==typeof g&&(this.rotation=g),t instanceof Promise&&(this._optionalContentConfigPromise=t),this.viewport=this.viewport.clone({scale:this.scale*y.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:o}=document.documentElement;o.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let m=!1;if(this.canvas&&this.maxCanvasPixels>0){const o=this.outputScale;(Math.floor(this.viewport.width)*o.sx|0)*(Math.floor(this.viewport.height)*o.sy|0)>this.maxCanvasPixels&&(m=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&m)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:_=!1,keepXfaLayer:g=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!_||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!g||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:_,redrawAnnotationLayer:g=!1,redrawXfaLayer:t=!1}){const n=this.viewport.width,m=this.viewport.height,o=this.div;_.style.width=_.parentNode.style.width=o.style.width=Math.floor(n)+"px",_.style.height=_.parentNode.style.height=o.style.height=Math.floor(m)+"px";const d=this.viewport.rotation-this.paintedViewportMap.get(_).rotation,x=Math.abs(d);let M=1,k=1;if((90===x||270===x)&&(M=m/n,k=n/m),_.style.transform=`rotate(${d}deg) scale(${M}, ${k})`,this.textLayer){const I=this.textLayer.viewport,z=Math.abs(this.viewport.rotation-I.rotation);let J=n/I.width;(90===z||270===z)&&(J=n/I.height);const N=this.textLayer.textLayerDiv;let q,K;switch(z){case 0:q=K=0;break;case 90:q=0,K="-"+N.style.height;break;case 180:q="-"+N.style.width,K="-"+N.style.height;break;case 270:q="-"+N.style.width,K=0;break;default:console.error("Bad rotation value.")}N.style.transform=`rotate(${z}deg) scale(${J}) translate(${q}, ${K})`,N.style.transformOrigin="0% 0%"}g&&this.annotationLayer&&this._renderAnnotationLayer(),t&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(_,g){return this.viewport.convertToPdfPoint(_,g)}toggleLoadingIconSpinner(_=!1){this.loadingIconDiv?.classList.toggle("notVisible",!_)}draw(){var _=this;this.renderingState!==f.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:g,pdfPage:t}=this;if(!t)return this.renderingState=f.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=f.RenderingStates.RUNNING;const n=document.createElement("div");n.style.width=g.style.width,n.style.height=g.style.height,n.classList.add("canvasWrapper"),this.annotationLayer?.div?g.insertBefore(n,this.annotationLayer.div):g.appendChild(n);let m=null;if(this.textLayerMode!==f.TextLayerMode.DISABLE&&this.textLayerFactory){const k=document.createElement("div");k.className="textLayer",k.style.width=n.style.width,k.style.height=n.style.height,this.annotationLayer?.div?g.insertBefore(k,this.annotationLayer.div):g.appendChild(k),m=this.textLayerFactory.createTextLayerBuilder(k,this.id-1,this.viewport,this.textLayerMode===f.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=m,Ae(this,u)!==y.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(g,t,null,this.imageResourcesPath,Ae(this,u)===y.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&g.appendChild(this.xfaLayer.div);let o=null;this.renderingQueue&&(o=k=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=f.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=f.RenderingStates.RUNNING,k()});k()});const d=function(){var k=b(function*(I=null){if(x===_.paintTask&&(_.paintTask=null),I instanceof y.RenderingCancelledException)_._renderError=null;else if(_._renderError=I,_.renderingState=f.RenderingStates.FINISHED,_.loadingIconDiv&&(_.loadingIconDiv.remove(),delete _.loadingIconDiv),_._resetZoomLayer(!0),_.eventBus.dispatch("pagerendered",{source:_,pageNumber:_.id,cssTransform:!1,timestamp:performance.now(),error:_._renderError}),I)throw I});return function(){return k.apply(this,arguments)}}(),x=this.renderer===f.RendererType.SVG?this.paintOnSvg(n):this.paintOnCanvas(n);x.onRenderContinue=o,this.paintTask=x;const M=x.promise.then(()=>d(null).then(()=>{if(m){const k=t.streamTextContent({includeMarkedContent:!0});m.setTextContentStream(k),m.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(k){return d(k)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(g,t,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=k=>{k.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(I=>{if(!I||!this.canvas)return;const j=this.structTreeLayer.render(I);j.classList.add("structTree"),this.canvas.appendChild(j)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(t)),g.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),M}paintOnCanvas(_){const g=(0,y.createPromiseCapability)(),t={promise:g.promise,onRenderContinue(N){N()},cancel(){J.cancel()}},n=this.viewport,m=document.createElement("canvas");m.hidden=!0;let o=!0;const d=function(){o&&(m.hidden=!1,o=!1)};_.appendChild(m),this.canvas=m;const x=m.getContext("2d",{alpha:!1}),M=this.outputScale=new f.OutputScale;if(this.useOnlyCssZoom){const N=n.clone({scale:y.PixelsPerInch.PDF_TO_CSS_UNITS});M.sx*=N.width/n.width,M.sy*=N.height/n.height}if(this.maxCanvasPixels>0){const q=Math.sqrt(this.maxCanvasPixels/(n.width*n.height));M.sx>q||M.sy>q?(M.sx=q,M.sy=q,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const k=(0,f.approximateFraction)(M.sx),I=(0,f.approximateFraction)(M.sy);m.width=(0,f.roundToDivide)(n.width*M.sx,k[0]),m.height=(0,f.roundToDivide)(n.height*M.sy,I[0]),m.style.width=(0,f.roundToDivide)(n.width,k[1])+"px",m.style.height=(0,f.roundToDivide)(n.height,I[1])+"px",this.paintedViewportMap.set(m,n);const z={canvasContext:x,transform:M.scaled?[M.sx,0,0,M.sy,0,0]:null,viewport:this.viewport,annotationMode:Ae(this,u),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},J=this.pdfPage.render(z);return J.onContinue=function(N){d(),t.onRenderContinue?t.onRenderContinue(N):N()},J.promise.then(function(){d(),g.resolve()},function(N){d(),g.reject(N)}),t}paintOnSvg(_){let g=!1;const t=()=>{if(g)throw new y.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},n=this.pdfPage,m=this.viewport.clone({scale:y.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:n.getOperatorList({annotationMode:Ae(this,u)}).then(d=>(t(),new y.SVGGraphics(n.commonObjs,n.objs).getSVG(d,m).then(M=>{t(),this.svg=M,this.paintedViewportMap.set(M,m),M.style.width=_.style.width,M.style.height=_.style.height,this.renderingState=f.RenderingStates.FINISHED,_.appendChild(M)}))),onRenderContinue(d){d()},cancel(){g=!0}}}setPageLabel(_){this.pageLabel="string"==typeof _?_:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(F,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.compatibilityParams=c.OptionKind=c.AppOptions=void 0;const P=Object.create(null);c.compatibilityParams=P;{const i=navigator.userAgent||"",r=navigator.platform||"",u=navigator.maxTouchPoints||1,w=/Android/.test(i);(/\b(iPad|iPhone|iPod)(?=;)/.test(i)||"MacIntel"===r&&u>1||w)&&(P.maxCanvasPixels=5242880)}const y={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};c.OptionKind=y;const f={annotationMode:{value:2,kind:y.VIEWER+y.PREFERENCE},cursorToolOnLoad:{value:0,kind:y.VIEWER+y.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:y.VIEWER},defaultZoomValue:{value:"",kind:y.VIEWER+y.PREFERENCE},disableHistory:{value:!1,kind:y.VIEWER},disablePageLabels:{value:!1,kind:y.VIEWER+y.PREFERENCE},enablePermissions:{value:!1,kind:y.VIEWER+y.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:y.VIEWER+y.PREFERENCE},enableScripting:{value:!0,kind:y.VIEWER+y.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:y.VIEWER},externalLinkTarget:{value:0,kind:y.VIEWER+y.PREFERENCE},historyUpdateUrl:{value:!1,kind:y.VIEWER+y.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:y.VIEWER+y.PREFERENCE},imageResourcesPath:{value:"./images/",kind:y.VIEWER},maxCanvasPixels:{value:16777216,compatibility:P.maxCanvasPixels,kind:y.VIEWER},pageColorsBackground:{value:"Canvas",kind:y.VIEWER+y.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:y.VIEWER+y.PREFERENCE},pdfBugEnabled:{value:!1,kind:y.VIEWER+y.PREFERENCE},printResolution:{value:150,kind:y.VIEWER},renderer:{value:"canvas",kind:y.VIEWER},sidebarViewOnLoad:{value:-1,kind:y.VIEWER+y.PREFERENCE},scrollModeOnLoad:{value:-1,kind:y.VIEWER+y.PREFERENCE},spreadModeOnLoad:{value:-1,kind:y.VIEWER+y.PREFERENCE},textLayerMode:{value:1,kind:y.VIEWER+y.PREFERENCE},useOnlyCssZoom:{value:!1,kind:y.VIEWER+y.PREFERENCE},viewerCssTheme:{value:0,kind:y.VIEWER+y.PREFERENCE},viewOnLoad:{value:0,kind:y.VIEWER+y.PREFERENCE},cMapPacked:{value:!0,kind:y.API},cMapUrl:{value:"../web/cmaps/",kind:y.API},disableAutoFetch:{value:!1,kind:y.API+y.PREFERENCE},disableFontFace:{value:!1,kind:y.API+y.PREFERENCE},disableRange:{value:!1,kind:y.API+y.PREFERENCE},disableStream:{value:!1,kind:y.API+y.PREFERENCE},docBaseUrl:{value:"",kind:y.API},enableXfa:{value:!0,kind:y.API+y.PREFERENCE},fontExtraProperties:{value:!1,kind:y.API},isEvalSupported:{value:!0,kind:y.API},maxImageSize:{value:-1,kind:y.API},pdfBug:{value:!1,kind:y.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:y.API},verbosity:{value:1,kind:y.API},workerPort:{value:null,kind:y.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:y.WORKER}};f.disablePreferences={value:!1,kind:y.VIEWER},f.locale={value:navigator.language||"en-US",kind:y.VIEWER},f.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:y.VIEWER},f.renderer.kind+=y.PREFERENCE;const s=Object.create(null);c.AppOptions=class A{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(r){const u=s[r];if(void 0!==u)return u;const w=f[r];return void 0!==w?w.compatibility??w.value:void 0}static getAll(r=null){const u=Object.create(null);for(const w in f){const _=f[w];if(r){if(0==(r&_.kind))continue;if(r===y.PREFERENCE){const t=_.value,n=typeof t;if("boolean"===n||"string"===n||"number"===n&&Number.isInteger(t)){u[w]=t;continue}throw new Error(`Invalid type for preference: ${w}`)}}const g=s[w];u[w]=void 0!==g?g:_.compatibility??_.value}return u}static set(r,u){s[r]=u}static setAll(r){for(const u in r)s[u]=r[u]}static remove(r){delete s[r]}static _hasUserOptions(){return Object.keys(s).length>0}}},(F,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFRenderingQueue=void 0;var y=P(3),f=P(6);c.PDFRenderingQueue=class A{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(r){this.pdfViewer=r}setThumbnailViewer(r){this.pdfThumbnailViewer=r}isHighestPriority(r){return this.highestPriorityPage===r.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(r){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(r)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(r,u,w,_=!1){const g=r.views,t=g.length;if(0===t)return null;for(let x=0;x<t;x++){const M=g[x].view;if(!this.isViewFinished(M))return M}const n=r.first.id,m=r.last.id;if(m-n+1>t){const x=r.ids;for(let M=1,k=m-n;M<k;M++){const I=w?n+M:m-M;if(x.has(I))continue;const j=u[I-1];if(!this.isViewFinished(j))return j}}let o=w?m:n-2,d=u[o];return d&&!this.isViewFinished(d)||_&&(o+=w?1:-1,d=u[o],d&&!this.isViewFinished(d))?d:null}isViewFinished(r){return r.renderingState===f.RenderingStates.FINISHED}renderView(r){switch(r.renderingState){case f.RenderingStates.FINISHED:return!1;case f.RenderingStates.PAUSED:this.highestPriorityPage=r.renderingId,r.resume();break;case f.RenderingStates.RUNNING:this.highestPriorityPage=r.renderingId;break;case f.RenderingStates.INITIAL:this.highestPriorityPage=r.renderingId,r.draw().finally(()=>{this.renderHighestPriority()}).catch(u=>{u instanceof y.RenderingCancelledException||console.error(`renderView: "${u}"`)})}return!0}}},(F,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextHighlighter=void 0,c.TextHighlighter=class P{constructor({findController:f,eventBus:s,pageIndex:A}){this.findController=f,this.matches=[],this.eventBus=s,this.pageIdx=A,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(f,s){this.textDivs=f,this.textContentItemsStr=s}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=f=>{(f.pageIndex===this.pageIdx||-1===f.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(f,s){if(!f)return[];const{textContentItemsStr:A}=this;let i=0,r=0;const u=A.length-1,w=[];for(let _=0,g=f.length;_<g;_++){let t=f[_];for(;i!==u&&t>=r+A[i].length;)r+=A[i].length,i++;i===A.length&&console.error("Could not find a matching mapping");const n={begin:{divIdx:i,offset:t-r}};for(t+=s[_];i!==u&&t>r+A[i].length;)r+=A[i].length,i++;n.end={divIdx:i,offset:t-r},w.push(n)}return w}_renderMatches(f){if(0===f.length)return;const{findController:s,pageIdx:A}=this,{textContentItemsStr:i,textDivs:r}=this,u=A===s.selected.pageIdx,w=s.selected.matchIdx;let g=null;function n(x,M){const k=x.divIdx;return r[k].textContent="",m(k,0,x.offset,M)}function m(x,M,k,I){let j=r[x];if(j.nodeType===Node.TEXT_NODE){const N=document.createElement("span");j.parentNode.insertBefore(N,j),N.appendChild(j),r[x]=N,j=N}const z=i[x].substring(M,k),J=document.createTextNode(z);if(I){const N=document.createElement("span");return N.className=`${I} appended`,N.appendChild(J),j.appendChild(N),I.includes("selected")?N.offsetLeft:0}return j.appendChild(J),0}let o=w,d=o+1;if(s.state.highlightAll)o=0,d=f.length;else if(!u)return;for(let x=o;x<d;x++){const M=f[x],k=M.begin,I=M.end,j=u&&x===w,z=j?" selected":"";let J=0;if(g&&k.divIdx===g.divIdx?m(g.divIdx,g.offset,k.offset):(null!==g&&m(g.divIdx,g.offset,undefined),n(k)),k.divIdx===I.divIdx)J=m(k.divIdx,k.offset,I.offset,"highlight"+z);else{J=m(k.divIdx,k.offset,undefined,"highlight begin"+z);for(let N=k.divIdx+1,q=I.divIdx;N<q;N++)r[N].className="highlight middle"+z;n(I,"highlight end"+z)}g=I,j&&s.scrollMatchIntoView({element:r[k.divIdx],selectedLeft:J,pageIndex:A,matchIndex:w})}g&&m(g.divIdx,g.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:f,matches:s,pageIdx:A}=this,{textContentItemsStr:i,textDivs:r}=this;let u=-1;for(let g=0,t=s.length;g<t;g++){const n=s[g];for(let o=Math.max(u,n.begin.divIdx),d=n.end.divIdx;o<=d;o++){const x=r[o];x.textContent=i[o],x.className=""}u=n.end.divIdx+1}f?.highlightMatches&&(this.matches=this._convertMatches(f.pageMatches[A]||null,f.pageMatchesLength[A]||null),this._renderMatches(this.matches))}}},(F,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DownloadManager=void 0;var y=P(3);function f(A,i){const r=document.createElement("a");if(!r.click)throw new Error('DownloadManager: "a.click()" is not supported.');r.href=A,r.target="_parent","download"in r&&(r.download=i),(document.body||document.documentElement).appendChild(r),r.click(),r.remove()}c.DownloadManager=class s{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(i,r){(0,y.createValidAbsoluteUrl)(i,"http://example.com")?f(i+"#pdfjs.action=download",r):console.error(`downloadUrl - not a valid URL: ${i}`)}downloadData(i,r,u){f(URL.createObjectURL(new Blob([i],{type:u})),r)}openOrDownloadData(i,r,u){const w=(0,y.isPdfFile)(u),_=w?"application/pdf":"";if(w){let t,g=this._openBlobUrls.get(i);g||(g=URL.createObjectURL(new Blob([r],{type:_})),this._openBlobUrls.set(i,g)),t="?file="+encodeURIComponent(g+"#"+u);try{return window.open(t),!0}catch(n){console.error(`openOrDownloadData: ${n}`),URL.revokeObjectURL(g),this._openBlobUrls.delete(i)}}return this.downloadData(r,u,_),!1}download(i,r,u,w="download"){f(URL.createObjectURL(i),u)}}},(F,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WaitOnType=c.EventBus=c.AutomationEventBus=void 0,c.waitOnEventOrTimeout=function y({target:A,name:i,delay:r=0}){return new Promise(function(u,w){if("object"!=typeof A||!i||"string"!=typeof i||!(Number.isInteger(r)&&r>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function _(m){A instanceof f?A._off(i,g):A.removeEventListener(i,g),n&&clearTimeout(n),u(m)}const g=_.bind(null,P.EVENT);A instanceof f?A._on(i,g):A.addEventListener(i,g);const t=_.bind(null,P.TIMEOUT),n=setTimeout(t,r)})};const P={EVENT:"event",TIMEOUT:"timeout"};c.WaitOnType=P;class f{constructor(){this._listeners=Object.create(null)}on(i,r,u=null){this._on(i,r,{external:!0,once:u?.once})}off(i,r,u=null){this._off(i,r,{external:!0,once:u?.once})}dispatch(i,r){const u=this._listeners[i];if(!u||0===u.length)return;let w;for(const{listener:_,external:g,once:t}of u.slice(0))t&&this._off(i,_),g?(w||(w=[])).push(_):_(r);if(w){for(const _ of w)_(r);w=null}}_on(i,r,u=null){var _;((_=this._listeners)[i]||(_[i]=[])).push({listener:r,external:!0===u?.external,once:!0===u?.once})}_off(i,r,u=null){const w=this._listeners[i];if(w)for(let _=0,g=w.length;_<g;_++)if(w[_].listener===r)return void w.splice(_,1)}}c.EventBus=f,c.AutomationEventBus=class s extends f{dispatch(i,r){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(F,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GenericL10n=void 0,P(19);var y=P(4);const f=document.webL10n;c.GenericL10n=class s{constructor(i){this._lang=i,this._ready=new Promise((r,u)=>{f.setLanguage((0,y.fixupLangCode)(i),()=>{r(f)})})}getLanguage(){var i=this;return b(function*(){return(yield i._ready).getLanguage()})()}getDirection(){var i=this;return b(function*(){return(yield i._ready).getDirection()})()}get(i,r=null,u=(0,y.getL10nFallback)(i,r)){var w=this;return b(function*(){return(yield w._ready).get(i,r,u)})()}translate(i){var r=this;return b(function*(){return(yield r._ready).translate(i)})()}}},()=>{document.webL10n=function(F,c,P){var y={},f="",s="textContent",A="",i={},r="loading";function n(N,q,K){q=q||function(T){},K=K||function(){};var te=new XMLHttpRequest;te.open("GET",N,!0),te.overrideMimeType&&te.overrideMimeType("text/plain; charset=utf-8"),te.onreadystatechange=function(){4==te.readyState&&(200==te.status||0===te.status?q(te.responseText):K())},te.onerror=K,te.ontimeout=K;try{te.send(null)}catch{K()}}function o(N,q){N&&(N=N.toLowerCase()),q=q||function(){},function d(){y={},f="",A=""}(),A=N;var K=function w(){return c.querySelectorAll('link[type="application/l10n"]')}(),te=K.length;if(0!==te){var h,e=0;h=function(){++e>=te&&(q(),r="complete")};for(var p=0;p<te;p++)new l(K[p]).load(N,h)}else{var se=function _(){var N=c.querySelector('script[type="application/l10n"]');return N?JSON.parse(N.innerHTML):null}();if(se&&se.locales&&se.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(y=se.locales[N])){var T=se.default_locale.toLowerCase();for(var a in se.locales){if((a=a.toLowerCase())===N){y=se.locales[N];break}a===T&&(y=se.locales[T])}}q()}else console.log("no resource to load, early way out");r="complete"}function l(S){var E=S.href;this.load=function(B,U){!function m(N,q,K,te){var se=N.replace(/[^\/]*$/,"")||"./";function T(h){return h.lastIndexOf("\\")<0?h:h.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}n(N,function(h){f+=h,function a(h,e){var l={},p=/^\s*|\s*$/,C=/^\s*#|^\s*$/,S=/^\s*\[(.*)\]\s*$/,E=/^\s*@import\s+url\((.*)\)\s*$/i,B=/^([^=\s]*)\s*=\s*(.+)$/;function U(H,X,ee){var ce=H.replace(p,"").split(/[\r\n]+/),be="*",Q=q.split("-",1)[0],re=!1,ie="";!function v(){for(;;){if(!ce.length)return void ee();var D=ce.shift();if(!C.test(D)){if(X){if(ie=S.exec(D)){be=ie[1].toLowerCase(),re="*"!==be&&be!==q&&be!==Q;continue}if(re)continue;if(ie=E.exec(D))return void V(se+ie[1],v)}var G=D.match(B);G&&3==G.length&&(l[G[1]]=T(G[2]))}}}()}function V(H,X){n(H,function(ee){U(ee,!1,X)},function(){console.warn(H+" not found."),X()})}U(h,!0,function(){e(l)})}(h,function(e){for(var l in e){var p,C,S=l.lastIndexOf(".");S>0?(p=l.substring(0,S),C=l.substring(S+1)):(p=l,C=s),y[p]||(y[p]={}),y[p][C]=e[l]}K&&K()})},te)}(E,B,U,function(){console.warn(E+" not found."),console.warn('"'+B+'" resource not found'),A="",U()})}}}function M(N,q,K){var te=y[N];if(!te){if(console.warn("#"+N+" is undefined."),!K)return null;te=K}var se={};for(var T in te){var a=te[T];a=I(a=k(a,q,N,T),q,N),se[T]=a}return se}function k(N,q,K,te){var T=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(N);if(!T||!T.length)return N;var e,a=T[1],h=T[2];return q&&h in q?e=q[h]:h in y&&(e=y[h]),a in i&&(N=(0,i[a])(N,e,K,te)),N}function I(N,q,K){return N.replace(/\{\{\s*(.+?)\s*\}\}/g,function(se,T){return q&&T in q?q[T]:T in y?y[T]:(console.log("argument {{"+T+"}} for #"+K+" is undefined."),se)})}function j(N){var q=function t(N){if(!N)return{};var q=N.getAttribute("data-l10n-id"),K=N.getAttribute("data-l10n-args"),te={};if(K)try{te=JSON.parse(K)}catch{console.warn("could not parse arguments for #"+q)}return{id:q,args:te}}(N);if(q.id){var K=M(q.id,q.args);if(!K)return void console.warn("#"+q.id+" is undefined.");if(K[s]){if(0===function z(N){if(N.children)return N.children.length;if(typeof N.childElementCount<"u")return N.childElementCount;for(var q=0,K=0;K<N.childNodes.length;K++)q+=1===N.nodeType?1:0;return q}(N))N[s]=K[s];else{for(var te=N.childNodes,se=!1,T=0,a=te.length;T<a;T++)3===te[T].nodeType&&/\S/.test(te[T].nodeValue)&&(se?te[T].nodeValue="":(te[T].nodeValue=K[s],se=!0));if(!se){var h=c.createTextNode(K[s]);N.insertBefore(h,N.firstChild)}}delete K[s]}for(var e in K)N[e]=K[e]}}return i.plural=function(N,q,K,te){var se=parseFloat(q);if(isNaN(se)||te!=s)return N;i._pluralRules||(i._pluralRules=function x(N){function K(a,h){return-1!==h.indexOf(a)}function te(a,h,e){return h<=a&&a<=e}var se={0:function(a){return"other"},1:function(a){return te(a%100,3,10)?"few":0===a?"zero":te(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&a%10==0?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return te(a,0,1)?"one":"other"},5:function(a){return te(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===a?"zero":a%10==1&&a%100!=11?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return te(a,3,6)?"few":te(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&te(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return te(a%10,2,9)&&!te(a%100,11,19)?"few":a%10!=1||te(a%100,11,19)?"other":"one"},11:function(a){return te(a%10,2,4)&&!te(a%100,12,14)?"few":a%10==0||te(a%10,5,9)||te(a%100,11,14)?"many":a%10==1&&a%100!=11?"one":"other"},12:function(a){return te(a,2,4)?"few":1==a?"one":"other"},13:function(a){return te(a%10,2,4)&&!te(a%100,12,14)?"few":1!=a&&te(a%10,0,1)||te(a%10,5,9)||te(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return te(a%100,3,4)?"few":a%100==2?"two":a%100==1?"one":"other"},15:function(a){return 0===a||te(a%100,2,10)?"few":te(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return a%10==1&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?"zero":te(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return te(a,2,10)?"few":te(a,0,1)?"one":"other"},20:function(a){return!te(a%10,3,4)&&a%10!=9||te(a%100,10,19)||te(a%100,70,79)||te(a%100,90,99)?a%1e6==0&&0!==a?"many":a%10!=2||K(a%100,[12,72,92])?a%10!=1||K(a%100,[11,71,91])?"other":"one":"two":"few"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return te(a,0,1)||te(a,11,99)?"one":"other"},23:function(a){return te(a%10,1,2)||a%20==0?"one":"other"},24:function(a){return te(a,3,10)||te(a,13,19)?"few":K(a,[2,12])?"two":K(a,[1,11])?"one":"other"}},T={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[N.replace(/-.*$/,"")];return T in se?se[T]:(console.warn("plural form unknown for ["+N+"]"),function(){return"other"})}(A));var T="["+i._pluralRules(se)+"]";return 0===se&&K+"[zero]"in y?N=y[K+"[zero]"][te]:1==se&&K+"[one]"in y?N=y[K+"[one]"][te]:2==se&&K+"[two]"in y?N=y[K+"[two]"][te]:K+T in y?N=y[K+T][te]:K+"[other]"in y&&(N=y[K+"[other]"][te]),N},{get:function(N,q,K){var T,te=N.lastIndexOf("."),se=s;te>0&&(se=N.substring(te+1),N=N.substring(0,te)),K&&((T={})[se]=K);var a=M(N,q,T);return a&&se in a?a[se]:"{{"+N+"}}"},getData:function(){return y},getText:function(){return f},getLanguage:function(){return A},setLanguage:function(N,q){o(N,function(){q&&q()})},getDirection:function(){var q=A.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(q)>=0?"rtl":"ltr"},translate:function J(N){for(var q=function g(N){return N?N.querySelectorAll("*[data-l10n-id]"):[]}(N=N||c.documentElement),K=q.length,te=0;te<K;te++)j(q[te]);j(N)},getReadyState:function(){return r},ready:function(N){N&&("complete"==r||"interactive"==r?F.setTimeout(function(){N()}):c.addEventListener&&c.addEventListener("localized",function q(){c.removeEventListener("localized",q),N()}))}}}(window,document)},(F,c,P)=>{var I,mt,z,nt,N,it,K,bt,se,At,a,yt,e,rt,p,vt,S,St,B,Xe,V,He,X,Ue,ce,Pt,Q,st,ie,at,D,$e,pe,Ct,he,ot,_e,wt,Ce,Ge;Object.defineProperty(c,"__esModule",{value:!0}),c.PDFFindController=c.FindState=void 0;var y=P(6),f=P(3),s=P(21);const A={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};c.FindState=A;const w={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},_=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),g=[..._.values()].map(Z=>String.fromCharCode(Z)).join(""),t=/\p{M}+/gu,n=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,m=/([^\p{M}])\p{M}*$/u,o=/^\p{M}*([^\p{M}])/u;let d=null;function x(Z){if(!d){const xe=Object.keys(w).join("");d=new RegExp(`([${xe}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const R=[];let O;for(;null!==(O=t.exec(Z));)R.push([O[0].length,O.index]);let ae=Z.normalize("NFD");const le=[[0,0]];let fe=0,ge=0,Pe=0,we=0,Me=!1;return ae=ae.replace(d,(xe,Re,ke,Be,Le,Oe)=>{if(Oe-=Pe,Re){const Fe=w[xe],Ne=Fe.length;for(let De=1;De<Ne;De++)le.push([Oe-ge+De,ge-De]);return ge-=Ne-1,Fe}if(ke){const Fe=ke.endsWith("\n"),Ne=Fe?ke.length-2:ke.length;Me=!0;let De=Ne;Oe+we===R[fe]?.[1]&&(De-=R[fe][0],++fe);for(let Ve=1;Ve<De+1;Ve++)le.push([Oe-1-ge+Ve,ge-Ve]);return ge-=De,Pe+=De,Fe?(le.push([(Oe+=Ne-1)-ge+1,1+ge]),ge+=1,Pe+=1,we+=1,ke.slice(0,Ne)):ke}return Be?(le.push([Oe-ge+1,1+ge]),ge+=1,Pe+=1,we+=1,Be.charAt(0)):(le.push([Oe-ge+1,ge-1]),ge-=1,Pe+=1,we+=1," ")}),le.push([ae.length,ge]),[ae,le,Me]}function M(Z,R,O){if(!Z)return[R,O];const ae=R,le=R+O;let fe=(0,y.binarySearchFirstItem)(Z,Pe=>Pe[0]>=ae);Z[fe][0]>ae&&--fe;let ge=(0,y.binarySearchFirstItem)(Z,Pe=>Pe[0]>=le,fe);return Z[ge][0]>le&&--ge,[ae+Z[fe][1],O+Z[ge][1]-Z[fe][1]]}I=new WeakSet,mt=function(R){if(!R)return;const O=this._pdfDocument,{type:ae}=R;(null===this._state||ye(this,K,bt).call(this,R))&&(this._dirtyMatch=!0),this._state=R,"highlightallchange"!==ae&&ye(this,Ce,Ge).call(this,A.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||O&&this._pdfDocument!==O)return;ye(this,S,St).call(this);const le=!this._highlightMatches,fe=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),ae?this._dirtyMatch?ye(this,X,Ue).call(this):"again"===ae?(ye(this,X,Ue).call(this),le&&this._state.highlightAll&&ye(this,V,He).call(this)):"highlightallchange"===ae?(fe?ye(this,X,Ue).call(this):this._highlightMatches=!0,ye(this,V,He).call(this)):ye(this,X,Ue).call(this):this._findTimeout=setTimeout(()=>{ye(this,X,Ue).call(this),this._findTimeout=null},250)})},z=new WeakSet,nt=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,f.createPromiseCapability)()},N=new WeakSet,it=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=x(this._state.query)),this._normalizedQuery},K=new WeakSet,bt=function(R){if(R.query!==this._state.query)return!0;switch(R.type){case"again":const O=this._selected.pageIdx+1,ae=this._linkService;return O>=1&&O<=ae.pagesCount&&O!==ae.page&&!ae.isPageVisible(O);case"highlightallchange":return!1}return!0},se=new WeakSet,At=function(R,O,ae){let le=R.slice(0,O).match(m);if(le){const fe=R.charCodeAt(O),ge=le[1].charCodeAt(0);if((0,s.getCharacterType)(fe)===(0,s.getCharacterType)(ge))return!1}if(le=R.slice(O+ae).match(o),le){const fe=R.charCodeAt(O+ae-1),ge=le[1].charCodeAt(0);if((0,s.getCharacterType)(fe)===(0,s.getCharacterType)(ge))return!1}return!0},a=new WeakSet,yt=function(R,O,ae,le){const fe=[],ge=[],Pe=this._pageDiffs[ae];let we;for(;null!==(we=R.exec(le));){if(O&&!ye(this,se,At).call(this,le,we.index,we[0].length))continue;const[Me,xe]=M(Pe,we.index,we[0].length);xe&&(fe.push(Me),ge.push(xe))}this._pageMatches[ae]=fe,this._pageMatchesLength[ae]=ge},e=new WeakSet,rt=function(R,O){const{matchDiacritics:ae}=this._state;let le=!1;return(R=R.replace(n,(ge,Pe,we,Me,xe,Re)=>Pe?`[ ]*\\${Pe}[ ]*`:we?`[ ]*${we}[ ]*`:Me?"[ ]+":ae?xe||Re:xe?_.has(xe.charCodeAt(0))?xe:"":O?(le=!0,`${Re}\\p{M}*`):Re)).endsWith("[ ]*")&&(R=R.slice(0,R.length-"[ ]*".length)),ae&&O&&(le=!0,R=`${R}(?=[${g}]|[^\\p{M}]|$)`),[le,R]},p=new WeakSet,vt=function(R){let O=Ae(this,N,it);if(0===O.length)return;const{caseSensitive:ae,entireWord:le,phraseSearch:fe}=this._state,ge=this._pageContents[R],Pe=this._hasDiacritics[R];let we=!1;if(fe)[we,O]=ye(this,e,rt).call(this,O,Pe);else{const Re=O.match(/\S+/g);Re&&(O=Re.sort().reverse().map(ke=>{const[Be,Le]=ye(this,e,rt).call(this,ke,Pe);return we||(we=Be),`(${Le})`}).join("|"))}O=new RegExp(O,`g${we?"u":""}${ae?"":"i"}`),ye(this,a,yt).call(this,O,le,R,ge),this._state.highlightAll&&ye(this,B,Xe).call(this,R),this._resumePageIdx===R&&(this._resumePageIdx=null,ye(this,Q,st).call(this));const xe=this._pageMatches[R].length;xe>0&&(this._matchesCountTotal+=xe,ye(this,_e,wt).call(this))},S=new WeakSet,St=function(){if(this._extractTextPromises.length>0)return;let R=Promise.resolve();for(let O=0,ae=this._linkService.pagesCount;O<ae;O++){const le=(0,f.createPromiseCapability)();this._extractTextPromises[O]=le.promise,R=R.then(()=>this._pdfDocument.getPage(O+1).then(fe=>fe.getTextContent()).then(fe=>{const ge=[];for(const Pe of fe.items)ge.push(Pe.str),Pe.hasEOL&&ge.push("\n");[this._pageContents[O],this._pageDiffs[O],this._hasDiacritics[O]]=x(ge.join("")),le.resolve()},fe=>{console.error(`Unable to get text content for page ${O+1}`,fe),this._pageContents[O]="",this._pageDiffs[O]=null,this._hasDiacritics[O]=!1,le.resolve()}))}},B=new WeakSet,Xe=function(R){this._scrollMatches&&this._selected.pageIdx===R&&(this._linkService.page=R+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:R})},V=new WeakSet,He=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},X=new WeakSet,Ue=function(){const R=this._state.findPrevious,O=this._linkService.page-1,ae=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=O,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,ye(this,V,He).call(this);for(let fe=0;fe<ae;fe++)this._pendingFindMatches.has(fe)||(this._pendingFindMatches.add(fe),this._extractTextPromises[fe].then(()=>{this._pendingFindMatches.delete(fe),ye(this,p,vt).call(this,fe)}))}if(""===Ae(this,N,it))return void ye(this,Ce,Ge).call(this,A.FOUND);if(this._resumePageIdx)return;const le=this._offset;if(this._pagesToSearch=ae,null!==le.matchIdx){const fe=this._pageMatches[le.pageIdx].length;if(!R&&le.matchIdx+1<fe||R&&le.matchIdx>0)return le.matchIdx=R?le.matchIdx-1:le.matchIdx+1,void ye(this,D,$e).call(this,!0);ye(this,ie,at).call(this,R)}ye(this,Q,st).call(this)},ce=new WeakSet,Pt=function(R){const O=this._offset,ae=R.length,le=this._state.findPrevious;return ae?(O.matchIdx=le?ae-1:0,ye(this,D,$e).call(this,!0),!0):(ye(this,ie,at).call(this,le),!!(O.wrapped&&(O.matchIdx=null,this._pagesToSearch<0))&&(ye(this,D,$e).call(this,!1),!0))},Q=new WeakSet,st=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let R=null;do{const O=this._offset.pageIdx;if(R=this._pageMatches[O],!R){this._resumePageIdx=O;break}}while(!ye(this,ce,Pt).call(this,R))},ie=new WeakSet,at=function(R){const O=this._offset,ae=this._linkService.pagesCount;O.pageIdx=R?O.pageIdx-1:O.pageIdx+1,O.matchIdx=null,this._pagesToSearch--,(O.pageIdx>=ae||O.pageIdx<0)&&(O.pageIdx=R?ae-1:0,O.wrapped=!0)},D=new WeakSet,$e=function(R=!1){let O=A.NOT_FOUND;const ae=this._offset.wrapped;if(this._offset.wrapped=!1,R){const le=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,O=ae?A.WRAPPED:A.FOUND,-1!==le&&le!==this._selected.pageIdx&&ye(this,B,Xe).call(this,le)}ye(this,Ce,Ge).call(this,O,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,ye(this,B,Xe).call(this,this._selected.pageIdx))},pe=new WeakSet,Ct=function(R){const O=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||O&&this._pdfDocument!==O||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),ye(this,Ce,Ge).call(this,A.FOUND),this._highlightMatches=!1,ye(this,V,He).call(this))})},he=new WeakSet,ot=function(){const{pageIdx:R,matchIdx:O}=this._selected;let ae=0,le=this._matchesCountTotal;if(-1!==O){for(let fe=0;fe<R;fe++)ae+=this._pageMatches[fe]?.length||0;ae+=O+1}return(ae<1||ae>le)&&(ae=le=0),{current:ae,total:le}},_e=new WeakSet,wt=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:ye(this,he,ot).call(this)})},Ce=new WeakSet,Ge=function(R,O=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:R,previous:O,matchesCount:ye(this,he,ot).call(this),rawQuery:this._state?.query??null})},c.PDFFindController=class k{constructor({linkService:R,eventBus:O}){ve(this,I),ve(this,z),ve(this,N),ve(this,K),ve(this,se),ve(this,a),ve(this,e),ve(this,p),ve(this,S),ve(this,B),ve(this,V),ve(this,X),ve(this,ce),ve(this,Q),ve(this,ie),ve(this,D),ve(this,pe),ve(this,he),ve(this,_e),ve(this,Ce),this._linkService=R,this._eventBus=O,ye(this,z,nt).call(this),O._on("find",ye(this,I,mt).bind(this)),O._on("findbarclose",ye(this,pe,Ct).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(R){this._pdfDocument&&ye(this,z,nt).call(this),R&&(this._pdfDocument=R,this._firstPageCapability.resolve())}scrollMatchIntoView({element:R=null,selectedLeft:O=0,pageIndex:ae=-1,matchIndex:le=-1}){this._scrollMatches&&R&&-1!==le&&le===this._selected.matchIdx&&-1!==ae&&ae===this._selected.pageIdx&&(this._scrollMatches=!1,(0,y.scrollIntoView)(R,{top:-50,left:O+-400},!0))}}},(F,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CharacterType=void 0,c.getCharacterType=function t(n){return function y(n){return n<11904}(n)?function f(n){return 0==(65408&n)}(n)?function i(n){return 32===n||9===n||13===n||10===n}(n)?P.SPACE:function s(n){return n>=97&&n<=122||n>=65&&n<=90}(n)||function A(n){return n>=48&&n<=57}(n)||95===n?P.ALPHA_LETTER:P.PUNCT:function g(n){return 3584==(65408&n)}(n)?P.THAI_LETTER:160===n?P.SPACE:P.ALPHA_LETTER:function r(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}(n)?P.HAN_LETTER:function u(n){return n>=12448&&n<=12543}(n)?P.KATAKANA_LETTER:function w(n){return n>=12352&&n<=12447}(n)?P.HIRAGANA_LETTER:function _(n){return n>=65376&&n<=65439}(n)?P.HALFWIDTH_KATAKANA_LETTER:P.ALPHA_LETTER};const P={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};c.CharacterType=P},(F,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFHistory=void 0,c.isDestArraysEqual=_,c.isDestHashesEqual=w;var y=P(6),f=P(17);function r(){return document.location.hash}function w(g,t){return"string"==typeof g&&"string"==typeof t&&(g===t||(0,y.parseQueryString)(g).get("nameddest")===t)}function _(g,t){function n(m,o){if(typeof m!=typeof o||Array.isArray(m)||Array.isArray(o))return!1;if(null!==m&&"object"==typeof m&&null!==o){if(Object.keys(m).length!==Object.keys(o).length)return!1;for(const d in m)if(!n(m[d],o[d]))return!1;return!0}return m===o||Number.isNaN(m)&&Number.isNaN(o)}if(!Array.isArray(g)||!Array.isArray(t)||g.length!==t.length)return!1;for(let m=0,o=g.length;m<o;m++)if(!n(g[m],t[m]))return!1;return!0}c.PDFHistory=class u{constructor({linkService:t,eventBus:n}){this.linkService=t,this.eventBus=n,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",m=>{this._isPagesLoaded=!!m.pagesCount},{once:!0})})}initialize({fingerprint:t,resetHistory:n=!1,updateUrl:m=!1}){if(!t||"string"!=typeof t)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const o=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===m,this._initialized=!0,this._bindEvents();const d=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=r(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(d,!0)||n){const{hash:M,page:k,rotation:I}=this._parseCurrentHash(!0);return!M||o||n?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:M,page:k,rotation:I},!0)}const x=d.destination;this._updateInternalState(x,d.uid,!0),void 0!==x.rotation&&(this._initialRotation=x.rotation),x.dest?(this._initialBookmark=JSON.stringify(x.dest),this._destination.page=null):x.hash?this._initialBookmark=x.hash:x.page&&(this._initialBookmark=`page=${x.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:t=null,explicitDest:n,pageNumber:m}){if(!this._initialized)return;if(t&&"string"!=typeof t)return void console.error(`PDFHistory.push: "${t}" is not a valid namedDest parameter.`);if(!Array.isArray(n))return void console.error(`PDFHistory.push: "${n}" is not a valid explicitDest parameter.`);if(!this._isValidPage(m)&&(null!==m||this._destination))return void console.error(`PDFHistory.push: "${m}" is not a valid pageNumber parameter.`);const o=t||JSON.stringify(n);if(!o)return;let d=!1;if(this._destination&&(w(this._destination.hash,o)||_(this._destination.dest,n))){if(this._destination.page)return;d=!0}this._popStateInProgress&&!d||(this._pushOrReplaceState({dest:n,hash:o,page:m,rotation:this.linkService.rotation},d),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(t){if(this._initialized){if(!this._isValidPage(t))return void console.error(`PDFHistory.pushPage: "${t}" is not a valid page number.`);this._destination?.page!==t&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${t}`,page:t,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(t,n=!1){const m=n||!this._destination,o={fingerprint:this._fingerprint,uid:m?this._uid:this._uid+1,destination:t};let d;if(this._updateInternalState(t,o.uid),this._updateUrl&&t?.hash){const x=document.location.href.split("#")[0];x.startsWith("file://")||(d=`${x}#${t.hash}`)}m?window.history.replaceState(o,"",d):window.history.pushState(o,"",d)}_tryPushCurrentPosition(t=!1){if(!this._position)return;let n=this._position;if(t&&(n=Object.assign(Object.create(null),this._position),n.temporary=!0),!this._destination)return void this._pushOrReplaceState(n);if(this._destination.temporary)return void this._pushOrReplaceState(n,!0);if(this._destination.hash===n.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let m=!1;if(this._destination.page>=n.first&&this._destination.page<=n.page){if(void 0!==this._destination.dest||!this._destination.first)return;m=!0}this._pushOrReplaceState(n,m)}_isValidPage(t){return Number.isInteger(t)&&t>0&&t<=this.linkService.pagesCount}_isValidState(t,n=!1){if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!n)return!1;{if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;const[m]=performance.getEntriesByType("navigation");if("reload"!==m?.type)return!1}}return!(!Number.isInteger(t.uid)||t.uid<0||null===t.destination||"object"!=typeof t.destination)}_updateInternalState(t,n,m=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),m&&t?.temporary&&delete t.temporary,this._destination=t,this._uid=n,this._maxUid=Math.max(this._maxUid,n),this._numPositionUpdates=0}_parseCurrentHash(t=!1){const n=unescape(r()).substring(1),m=(0,y.parseQueryString)(n),o=m.get("nameddest")||"";let d=0|m.get("page");return(!this._isValidPage(d)||t&&o.length>0)&&(d=null),{hash:n,page:d,rotation:this.linkService.rotation}}_updateViewarea({location:t}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:t}){const n=r(),m=this._currentHash!==n;if(this._currentHash=n,!t){this._uid++;const{hash:d,page:x,rotation:M}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:d,page:x,rotation:M},!0)}if(!this._isValidState(t))return;this._popStateInProgress=!0,m&&(this._blockHashChange++,(0,f.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const o=t.destination;this._updateInternalState(o,t.uid,!0),(0,y.isValidRotation)(o.rotation)&&(this.linkService.rotation=o.rotation),o.dest?this.linkService.goToDestination(o.dest):o.hash?this.linkService.setHash(o.hash):o.page&&(this.linkService.page=o.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(F,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFScriptingManager=void 0;var y=P(6),f=P(3);c.PDFScriptingManager=class s{constructor({eventBus:i,sandboxBundleSrc:r=null,scriptingFactory:u=null,docPropertiesLookup:w=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=i,this._sandboxBundleSrc=r,this._scriptingFactory=u,this._docPropertiesLookup=w,this._scriptingFactory||window.addEventListener("updatefromsandbox",_=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:_.detail})})}setViewer(i){this._pdfViewer=i}setDocument(i){var r=this;return b(function*(){if(r._pdfDocument&&(yield r._destroyScripting()),r._pdfDocument=i,!i)return;const[u,w,_]=yield Promise.all([i.getFieldObjects(),i.getCalculationOrderIds(),i.getJSActions()]);if(u||_){if(i===r._pdfDocument){try{r._scripting=r._createScripting()}catch(g){return console.error(`PDFScriptingManager.setDocument: "${g?.message}".`),void(yield r._destroyScripting())}r._internalEvents.set("updatefromsandbox",g=>{g?.source===window&&r._updateFromSandbox(g.detail)}),r._internalEvents.set("dispatcheventinsandbox",g=>{r._scripting?.dispatchEventInSandbox(g.detail)}),r._internalEvents.set("pagechanging",({pageNumber:g,previous:t})=>{g!==t&&(r._dispatchPageClose(t),r._dispatchPageOpen(g))}),r._internalEvents.set("pagerendered",({pageNumber:g})=>{!r._pageOpenPending.has(g)||g===r._pdfViewer.currentPageNumber&&r._dispatchPageOpen(g)}),r._internalEvents.set("pagesdestroy",function(){var g=b(function*(t){yield r._dispatchPageClose(r._pdfViewer.currentPageNumber),yield r._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),r._closeCapability?.resolve()});return function(t){return g.apply(this,arguments)}}()),r._domEvents.set("mousedown",g=>{r._mouseState.isDown=!0}),r._domEvents.set("mouseup",g=>{r._mouseState.isDown=!1});for(const[g,t]of r._internalEvents)r._eventBus._on(g,t);for(const[g,t]of r._domEvents)window.addEventListener(g,t,!0);try{const g=yield r._getDocProperties();if(i!==r._pdfDocument)return;yield r._scripting.createSandbox({objects:u,calculationOrder:w,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...g,actions:_}}),r._eventBus.dispatch("sandboxcreated",{source:r})}catch(g){return console.error(`PDFScriptingManager.setDocument: "${g?.message}".`),void(yield r._destroyScripting())}yield r._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield r._dispatchPageOpen(r._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{i===r._pdfDocument&&(r._ready=!0)})}}else yield r._destroyScripting()})()}dispatchWillSave(i){var r=this;return b(function*(){return r._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(i){var r=this;return b(function*(){return r._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(i){var r=this;return b(function*(){return r._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(i){var r=this;return b(function*(){return r._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,f.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,f.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,f.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,f.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(i){var r=this;return b(function*(){const u=r._pdfViewer.isInPresentationMode||r._pdfViewer.isChangingPresentationMode,{id:w,siblings:_,command:g,value:t}=i;if(!w){switch(g){case"clear":console.clear();break;case"error":console.error(t);break;case"layout":if(u)return;const m=(0,y.apiPageLayoutToViewerModes)(t);r._pdfViewer.spreadMode=m.spreadMode;break;case"page-num":r._pdfViewer.currentPageNumber=t+1;break;case"print":yield r._pdfViewer.pagesPromise,r._eventBus.dispatch("print",{source:r});break;case"println":console.log(t);break;case"zoom":if(u)return;r._pdfViewer.currentScaleValue=t;break;case"SaveAs":r._eventBus.dispatch("save",{source:r});break;case"FirstPage":r._pdfViewer.currentPageNumber=1;break;case"LastPage":r._pdfViewer.currentPageNumber=r._pdfViewer.pagesCount;break;case"NextPage":r._pdfViewer.nextPage();break;case"PrevPage":r._pdfViewer.previousPage();break;case"ZoomViewIn":if(u)return;r._pdfViewer.increaseScale();break;case"ZoomViewOut":if(u)return;r._pdfViewer.decreaseScale()}return}if(u&&i.focus)return;delete i.id,delete i.siblings;const n=_?[w,..._]:[w];for(const m of n){const o=document.getElementById(m);o?o.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:i})):r._pdfDocument?.annotationStorage.setValue(m,i)}})()}_dispatchPageOpen(i,r=!1){var u=this;return b(function*(){const w=u._pdfDocument,_=u._visitedPages;if(r&&(u._closeCapability=(0,f.createPromiseCapability)()),!u._closeCapability)return;const g=u._pdfViewer.getPageView(i-1);if(g?.renderingState!==y.RenderingStates.FINISHED)return void u._pageOpenPending.add(i);u._pageOpenPending.delete(i);const t=b(function*(){const n=yield _.has(i)?null:g.pdfPage?.getJSActions();w===u._pdfDocument&&(yield u._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:i,actions:n}))})();_.set(i,t)})()}_dispatchPageClose(i){var r=this;return b(function*(){const u=r._pdfDocument,w=r._visitedPages;if(!r._closeCapability||r._pageOpenPending.has(i))return;const _=w.get(i);!_||(w.set(i,null),yield _,u===r._pdfDocument&&(yield r._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:i})))})()}_getDocProperties(){var i=this;return b(function*(){if(i._docPropertiesLookup)return i._docPropertiesLookup(i._pdfDocument);const{docPropertiesLookup:r}=P(24);return r(i._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,f.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:i}=P(24);return new i(this._sandboxBundleSrc)}_destroyScripting(){var i=this;return b(function*(){if(!i._scripting)return i._pdfDocument=null,void i._destroyCapability?.resolve();i._closeCapability&&(yield Promise.race([i._closeCapability.promise,new Promise(r=>{setTimeout(r,1e3)})]).catch(r=>{}),i._closeCapability=null),i._pdfDocument=null;try{yield i._scripting.destroySandbox()}catch{}for(const[r,u]of i._internalEvents)i._eventBus._off(r,u);i._internalEvents.clear();for(const[r,u]of i._domEvents)window.removeEventListener(r,u,!0);i._domEvents.clear(),i._pageOpenPending.clear(),i._visitedPages.clear(),i._scripting=null,delete i._mouseState.isDown,i._ready=!1,i._destroyCapability?.resolve()})()}}},(F,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GenericScripting=void 0,c.docPropertiesLookup=function f(i){return s.apply(this,arguments)};var y=P(3);function s(){return(s=b(function*(i){const u="".split("#")[0];let{info:w,metadata:_,contentDispositionFilename:g,contentLength:t}=yield i.getMetadata();if(!t){const{length:n}=yield i.getDownloadInfo();t=n}return{...w,baseURL:u,filesize:t,filename:g||(0,y.getPdfFilenameFromUrl)(""),metadata:_?.getRaw(),authors:_?.get("dc:creator"),numPages:i.numPages,URL:""}})).apply(this,arguments)}c.GenericScripting=class A{constructor(r){this._ready=(0,y.loadScript)(r,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(r){var u=this;return b(function*(){(yield u._ready).create(r)})()}dispatchEventInSandbox(r){var u=this;return b(function*(){const w=yield u._ready;setTimeout(()=>w.dispatchEvent(r),0)})()}destroySandbox(){var r=this;return b(function*(){(yield r._ready).nukeSandbox()})()}}}],$={};function W(F){var c=$[F];if(void 0!==c)return c.exports;var P=$[F]={exports:{}};return oe[F](P,P.exports,W),P.exports}var Y={};return(()=>{var F=Y;Object.defineProperty(F,"__esModule",{value:!0}),Object.defineProperty(F,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return s.AnnotationLayerBuilder}}),Object.defineProperty(F,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return c.DefaultAnnotationLayerFactory}}),Object.defineProperty(F,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return c.DefaultStructTreeLayerFactory}}),Object.defineProperty(F,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return c.DefaultTextLayerFactory}}),Object.defineProperty(F,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return c.DefaultXfaLayerFactory}}),Object.defineProperty(F,"DownloadManager",{enumerable:!0,get:function(){return A.DownloadManager}}),Object.defineProperty(F,"EventBus",{enumerable:!0,get:function(){return i.EventBus}}),Object.defineProperty(F,"GenericL10n",{enumerable:!0,get:function(){return r.GenericL10n}}),Object.defineProperty(F,"LinkTarget",{enumerable:!0,get:function(){return P.LinkTarget}}),Object.defineProperty(F,"NullL10n",{enumerable:!0,get:function(){return u.NullL10n}}),Object.defineProperty(F,"PDFFindController",{enumerable:!0,get:function(){return w.PDFFindController}}),Object.defineProperty(F,"PDFHistory",{enumerable:!0,get:function(){return _.PDFHistory}}),Object.defineProperty(F,"PDFLinkService",{enumerable:!0,get:function(){return P.PDFLinkService}}),Object.defineProperty(F,"PDFPageView",{enumerable:!0,get:function(){return g.PDFPageView}}),Object.defineProperty(F,"PDFScriptingManager",{enumerable:!0,get:function(){return t.PDFScriptingManager}}),Object.defineProperty(F,"PDFSinglePageViewer",{enumerable:!0,get:function(){return f.PDFSinglePageViewer}}),Object.defineProperty(F,"PDFViewer",{enumerable:!0,get:function(){return f.PDFViewer}}),Object.defineProperty(F,"ProgressBar",{enumerable:!0,get:function(){return y.ProgressBar}}),Object.defineProperty(F,"SimpleLinkService",{enumerable:!0,get:function(){return P.SimpleLinkService}}),Object.defineProperty(F,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return n.StructTreeLayerBuilder}}),Object.defineProperty(F,"TextLayerBuilder",{enumerable:!0,get:function(){return m.TextLayerBuilder}}),Object.defineProperty(F,"XfaLayerBuilder",{enumerable:!0,get:function(){return o.XfaLayerBuilder}}),Object.defineProperty(F,"parseQueryString",{enumerable:!0,get:function(){return y.parseQueryString}});var c=W(1),P=W(5),y=W(6),f=W(10),s=W(2),A=W(16),i=W(17),r=W(18),u=W(4),w=W(20),_=W(22),g=W(12),t=W(23),n=W(7),m=W(8),o=W(9)})(),Y})(),ue.exports=W()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7820:ue=>{function L(b,oe,$,W,Y,F,c){try{var P=b[F](c),y=P.value}catch(f){return void $(f)}P.done?oe(y):Promise.resolve(y).then(W,Y)}ue.exports=function ne(b){return function(){var oe=this,$=arguments;return new Promise(function(W,Y){var F=b.apply(oe,$);function c(y){L(F,W,Y,c,P,"next",y)}function P(y){L(F,W,Y,c,P,"throw",y)}c(void 0)})}},ue.exports.__esModule=!0,ue.exports.default=ue.exports},7369:(ue,L,ne)=>{"use strict";var b,oe;ne.d(L,{rQ:()=>g,xC:()=>t});var $=ne(4537),W=ne(2759),Y=ne(9765),F=ne(6666),c=ne(6782),P=ne(4395),y=ne(5435),f=ne(8552),s=ne(6837);const A=["pdfViewerContainer"];function u(n,m,o){n[m]=o}function w(){return typeof window>"u"}w()||u(b||(b=ne.t(f,2)),"verbosity",f.VerbosityLevel.INFOS);var _=(()=>{return(n=_||(_={}))[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",_;var n})();let g=(()=>{class n{constructor(o,d){if(this.element=o,this.ngZone=d,this.isVisible=!1,this._cMapsUrl=typeof(b||(b=ne.t(f,2)))<"u"?`https://unpkg.com/pdfjs-dist@${f.version}/cmaps/`:null,this._imageResourcesPath=typeof(b||(b=ne.t(f,2)))<"u"?`https://unpkg.com/pdfjs-dist@${f.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=_.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new Y.xQ,this.afterLoadComplete=new $.vpe,this.pageRendered=new $.vpe,this.pageInitialized=new $.vpe,this.textLayerRendered=new $.vpe,this.onError=new $.vpe,this.onProgress=new $.vpe,this.pageChange=new $.vpe(!0),w())return;let x;const M=f.version;x=window[`pdfWorkerSrc${M}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${M}/legacy/build/pdf.worker.min.js`),u(f.GlobalWorkerOptions,"workerSrc",x)}set cMapsUrl(o){this._cMapsUrl=o}set page(o){const d=o=parseInt(o,10)||1;this._pdf&&(o=this.getValidPageNumber(o)),this._page=o,d!==o&&this.pageChange.emit(o)}set renderText(o){this._renderText=o}set renderTextMode(o){this._renderTextMode=o}set originalSize(o){this._originalSize=o}set showAll(o){this._showAll=o}set stickToPage(o){this._stickToPage=o}set zoom(o){o<=0||(this._zoom=o)}get zoom(){return this._zoom}set zoomScale(o){this._zoomScale=o}get zoomScale(){return this._zoomScale}set rotation(o){"number"==typeof o&&o%90==0?this._rotation=o:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(o){this._externalLinkTarget=o}set autoresize(o){this._canAutoResize=Boolean(o)}set fitToPage(o){this._fitToPage=Boolean(o)}set showBorders(o){this._showBorders=Boolean(o)}static getLinkTarget(o){switch(o){case"blank":return s.LinkTarget.BLANK;case"none":return s.LinkTarget.NONE;case"self":return s.LinkTarget.SELF;case"parent":return s.LinkTarget.PARENT;case"top":return s.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const o=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=o?!1===this.isVisible&&null!=o&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(o){if(!w()&&this.isVisible)if("src"in o)this.loadPDF();else if(this._pdf){if("renderText"in o?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:_.DISABLED,this.resetPdfDocument()):"showAll"in o&&(this.setupViewer(),this.resetPdfDocument()),"page"in o){const{page:d}=o;if(d.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,F.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,c.R)(this.destroy$)).subscribe({next:o=>{const d=this._rotation+o.rotate,x=o.getViewport({scale:this._zoom,rotation:d}).width*n.CSS_UNITS;let M=this._zoom,k=!0;if(!this._originalSize||this._fitToPage&&x>this.pdfViewerContainer.nativeElement.clientWidth){const I=o.getViewport({scale:1,rotation:d});M=this.getScale(I.width,I.height),k=!this._stickToPage}this.pdfViewer._setScale(M,k)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const o=n.getLinkTarget(this._externalLinkTarget);return o?{externalLinkTarget:o}:{}}initEventBus(){this.eventBus=function i(n,m){const o=new n.EventBus;return function r(n,m){(0,W.R)(n,"documentload").pipe((0,c.R)(m)).subscribe(()=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(o)}),(0,W.R)(n,"pagerendered").pipe((0,c.R)(m)).subscribe(({pageNumber:o,cssTransform:d,source:x})=>{const M=document.createEvent("CustomEvent");M.initCustomEvent("pagerendered",!0,!0,{pageNumber:o,cssTransform:d}),x.div.dispatchEvent(M)}),(0,W.R)(n,"textlayerrendered").pipe((0,c.R)(m)).subscribe(({pageNumber:o,source:d})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:o}),d.textLayerDiv.dispatchEvent(x)}),(0,W.R)(n,"pagechanging").pipe((0,c.R)(m)).subscribe(({pageNumber:o,source:d})=>{const x=document.createEvent("UIEvents");x.initEvent("pagechanging",!0,!0),x.pageNumber=o,d.container.dispatchEvent(x)}),(0,W.R)(n,"pagesinit").pipe((0,c.R)(m)).subscribe(({source:o})=>{const d=document.createEvent("CustomEvent");d.initCustomEvent("pagesinit",!0,!0,null),o.container.dispatchEvent(d)}),(0,W.R)(n,"pagesloaded").pipe((0,c.R)(m)).subscribe(({pagesCount:o,source:d})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("pagesloaded",!0,!0,{pagesCount:o}),d.container.dispatchEvent(x)}),(0,W.R)(n,"scalechange").pipe((0,c.R)(m)).subscribe(({scale:o,presetValue:d,source:x})=>{const M=document.createEvent("UIEvents");M.initEvent("scalechange",!0,!0),M.scale=o,M.presetValue=d,x.container.dispatchEvent(M)}),(0,W.R)(n,"updateviewarea").pipe((0,c.R)(m)).subscribe(({location:o,source:d})=>{const x=document.createEvent("UIEvents");x.initEvent("updateviewarea",!0,!0),x.location=o,d.container.dispatchEvent(x)}),(0,W.R)(n,"find").pipe((0,c.R)(m)).subscribe(({source:o,type:d,query:x,phraseSearch:M,caseSensitive:k,highlightAll:I,findPrevious:j})=>{if(o===window)return;const z=document.createEvent("CustomEvent");z.initCustomEvent("find"+d,!0,!0,{query:x,phraseSearch:M,caseSensitive:k,highlightAll:I,findPrevious:j}),window.dispatchEvent(z)}),(0,W.R)(n,"attachmentsloaded").pipe((0,c.R)(m)).subscribe(({attachmentsCount:o,source:d})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:o}),d.container.dispatchEvent(x)}),(0,W.R)(n,"sidebarviewchanged").pipe((0,c.R)(m)).subscribe(({view:o,source:d})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("sidebarviewchanged",!0,!0,{view:o}),d.outerContainer.dispatchEvent(x)}),(0,W.R)(n,"pagemode").pipe((0,c.R)(m)).subscribe(({mode:o,source:d})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("pagemode",!0,!0,{mode:o}),d.pdfViewer.container.dispatchEvent(x)}),(0,W.R)(n,"namedaction").pipe((0,c.R)(m)).subscribe(({action:o,source:d})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("namedaction",!0,!0,{action:o}),d.pdfViewer.container.dispatchEvent(x)}),(0,W.R)(n,"presentationmodechanged").pipe((0,c.R)(m)).subscribe(({active:o,switchInProgress:d})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("presentationmodechanged",!0,!0,{active:o,switchInProgress:d}),window.dispatchEvent(x)}),(0,W.R)(n,"outlineloaded").pipe((0,c.R)(m)).subscribe(({outlineCount:o,source:d})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("outlineloaded",!0,!0,{outlineCount:o}),d.container.dispatchEvent(x)})}(o,m),o}(oe||(oe=ne.t(s,2)),this.destroy$),(0,W.R)(this.eventBus,"pagerendered").pipe((0,c.R)(this.destroy$)).subscribe(o=>{this.pageRendered.emit(o)}),(0,W.R)(this.eventBus,"pagesinit").pipe((0,c.R)(this.destroy$)).subscribe(o=>{this.pageInitialized.emit(o)}),(0,W.R)(this.eventBus,"pagechanging").pipe((0,c.R)(this.destroy$)).subscribe(({pageNumber:o})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=o,this.pageChange.emit(o)},100)}),(0,W.R)(this.eventBus,"textlayerrendered").pipe((0,c.R)(this.destroy$)).subscribe(o=>{this.textLayerRendered.emit(o)})}initPDFServices(){this.pdfLinkService=new s.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new s.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:_.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){u(b||(b=ne.t(f,2)),"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new s.PDFViewer(this.getPDFOptions()):new s.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(o){return o<1?1:o>this._pdf.numPages?this._pdf.numPages:o}getDocumentParams(){const o=typeof this.src;if(!this._cMapsUrl)return this.src;const d={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===o?d.url=this.src:"object"===o&&(void 0!==this.src.byteLength?d.data=this.src:Object.assign(d,this.src)),d}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=f.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=d=>{this.onProgress.emit(d)};const o=this.src;(0,F.D)(this.loadingTask.promise).pipe((0,c.R)(this.destroy$)).subscribe({next:d=>{this._pdf=d,this.lastLoaded=o,this.afterLoadComplete.emit(d),this.resetPdfDocument(),this.update()},error:d=>{this.lastLoaded=null,this.onError.emit(d)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(o,d){const x=this._showBorders?2*n.BORDER_WIDTH:0,M=this.pdfViewerContainer.nativeElement.clientWidth-x,k=this.pdfViewerContainer.nativeElement.clientHeight-x;if(0===k||0===d||0===M||0===o)return 1;let I=1;switch(this._zoomScale){case"page-fit":I=Math.min(k/d,M/o);break;case"page-height":I=k/d;break;default:I=M/o}return this._zoom*I/n.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){w()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){w()||this.ngZone.runOutsideAngular(()=>{(0,W.R)(window,"resize").pipe((0,P.b)(100),(0,y.h)(()=>this._canAutoResize&&!!this._pdf),(0,c.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return n.CSS_UNITS=96/72,n.BORDER_WIDTH=9,n.\u0275fac=function(o){return new(o||n)($.Y36($.SBq),$.Y36($.R0b))},n.\u0275cmp=$.Xpm({type:n,selectors:[["pdf-viewer"]],viewQuery:function(o,d){if(1&o&&$.Gf(A,5),2&o){let x;$.iGM(x=$.CRH())&&(d.pdfViewerContainer=x.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[$.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(o,d){1&o&&($.TgZ(0,"div",0,1),$._UZ(2,"div",2),$.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),n})(),t=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=$.oAB({type:n}),n.\u0275inj=$.cJS({}),n})()}}]);